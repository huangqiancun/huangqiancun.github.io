<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Machine Learning Project - å»ºç­‘ç‰©èƒ½æºä¹‹æ˜Ÿåˆ†æ•°é¢„æµ‹]]></title>
    <url>%2F2019%2F05%2F14%2FProject%20Experience-Building%20Energy%20Star%20Score%20Prediction%2F</url>
    <content type="text"><![CDATA[Note: ç”±äºŽJupyter Notebookè¿è¡Œçš„ä¸€äº›ä¸­é—´ç»“æžœåœ¨markdownä¸Šæ˜¾ç¤ºæ•ˆæžœä¸å¥½ï¼Œå› æ­¤æ³¨é‡Šäº†ä¸€äº›ç±»ä¼¼äºŽ.head() .describe()ç­‰å†…å®¹ä¸åœ¨æœ¬æ–‡ä¸­æ˜¾ç¤ºï¼Œä½†æ€»ä½“ä¸å½±å“é˜…è¯»ï¼Œå®Œæ•´.ipynbæ–‡ä»¶å¯ä»¥åœ¨GitHubæŸ¥çœ‹ã€‚ é¡¹ç›®æ¥æºè¿™æ˜¯åœ¨Github ä¸Šæ‰¾åˆ°çš„ä¸€ä¸ªç¾Žå›½æ•°æ®ç§‘å­¦å®¶åœ¨ç”³è¯·å·¥ä½œæ—¶çš„â€ä½œä¸šâ€ï¼Œè‹±æ–‡ä½œä¸šé“¾æŽ¥ã€‚ é¡¹ç›®ç›®æ ‡ ä½¿ç”¨æä¾›çš„å»ºç­‘èƒ½æºæ•°æ®å¼€å‘ä¸€ä¸ªæ¨¡åž‹ï¼Œè¯¥æ¨¡åž‹å¯ä»¥é¢„æµ‹å»ºç­‘ç‰©çš„èƒ½æºä¹‹æ˜Ÿåˆ†æ•°ï¼ˆbuildingâ€™s Energy Star scoreï¼‰ï¼› è§£é‡Šç»“æžœä»¥æ‰¾åˆ°æœ€èƒ½é¢„æµ‹åˆ†æ•°çš„å˜é‡ã€‚ è¿™æ˜¯ä¸€ä¸ªæœ‰ç›‘ç£çš„å›žå½’æœºå™¨å­¦ä¹ ä»»åŠ¡ï¼šç»™å®šä¸€ç»„åŒ…å«ç›®æ ‡ï¼ˆåœ¨æœ¬é¡¹ç›®ä¸­ä¸ºENERGY STAR Scoreèƒ½æºä¹‹æ˜Ÿåˆ†æ•°ï¼‰çš„æ•°æ®ï¼Œæˆ‘ä»¬å¸Œæœ›è®­ç»ƒä¸€ä¸ªå¯ä»¥å­¦ä¹ å°†ç‰¹å¾ï¼ˆä¹Ÿç§°ä¸ºè§£é‡Šå˜é‡ï¼‰æ˜ å°„åˆ°ç›®æ ‡çš„æ¨¡åž‹ã€‚ ç›‘ç£å­¦ä¹ ï¼šæ•°æ®é›†ä¸­åŒæ—¶å­˜åœ¨ç‰¹å¾å’Œç›®æ ‡å˜é‡ï¼› å›žå½’ä»»åŠ¡ï¼šç›®æ ‡å˜é‡æ—¶è¿žç»­å€¼ï¼Œåœ¨æœ¬é¡¹ç›®ä¸­ä¸º0~100ã€‚ åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›æ¨¡åž‹å­¦ä¹ ç‰¹å¾å’Œåˆ†æ•°ä¹‹é—´çš„å…³ç³»ï¼›ç„¶åŽï¼Œä¸ºäº†æµ‹è¯•æ¨¡åž‹çš„å­¦ä¹ æ•ˆæžœï¼Œæˆ‘ä»¬åœ¨ä¸€ä¸ªæ²¡æœ‰åˆ†æ•°çš„æµ‹è¯•é›†ä¸Šè¿›è¡Œè¯„ä¼°ï¼ æœºå™¨å­¦ä¹ å·¥ä½œæµç¨‹è™½ç„¶æ¯ä¸€ä¸ªæœºå™¨å­¦ä¹ ä»»åŠ¡çš„å®žçŽ°ç»†èŠ‚å¯èƒ½ä¼šæœ‰æ‰€ä¸åŒï¼Œä½†ä¸€èˆ¬æœ‰ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š æ•°æ®æ¸…ç†å’Œæ ¼å¼åŒ– æŽ¢ç´¢æ€§æ•°æ®åˆ†æž ç‰¹å¾å·¥ç¨‹å’Œé€‰æ‹© å»ºç«‹baselineå¹¶æ ¹æ®æ€§èƒ½æŒ‡æ ‡æ¯”è¾ƒå¤šä¸ªæœºå™¨å­¦ä¹ æ¨¡åž‹ å¯¹æœ€ä½³æ¨¡åž‹æ‰§è¡Œè¶…å‚æ•°è°ƒæ•´ï¼Œä»¥é’ˆå¯¹è¯¥é—®é¢˜è¿›è¡Œä¼˜åŒ– ä½¿ç”¨æœ€ä½³æ¨¡åž‹è¯„ä¼°æµ‹è¯•é›† å°½å¯èƒ½åœ°è§£é‡Šæ¨¡åž‹ç»“æžœ å¾—å‡ºç»“è®ºå¹¶æ’°å†™è¯¦å°½è®°å½•çš„æŠ¥å‘Š æå‰è®¾ç½®æ­¥éª¤è®©æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸€æ­¥æµå…¥å¦ä¸€æ­¥ã€‚ä½†æ˜¯ï¼Œæœºå™¨å­¦ä¹ è¿‡ç¨‹æ˜¯ä¸€ä¸ªè¿­ä»£è¿‡ç¨‹ï¼Œå› æ­¤æˆ‘ä»¬å¹¶ä¸æ€»æ˜¯ä»¥çº¿æ€§æ–¹å¼éµå¾ªè¿™äº›æ­¥éª¤ã€‚æˆ‘ä»¬å¯èƒ½ä¼šæ ¹æ®ä¸‹ä¸€æ­¥çš„ç»“æžœé‡æ–°å®¡è§†ä¸Šä¸€æ­¥ã€‚ä¾‹å¦‚ï¼š è™½ç„¶æˆ‘ä»¬å¯ä»¥åœ¨æž„å»ºä»»ä½•æ¨¡åž‹ä¹‹å‰æ‰§è¡Œç‰¹å¾é€‰æ‹©ï¼Œä½†æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å»ºæ¨¡ç»“æžœè¿”å›žå¹¶é€‰æ‹©ä¸€ç»„ä¸åŒçš„ç‰¹å¾ï¼› æˆ–è€…ï¼Œå»ºæ¨¡å¯èƒ½ä¼šå‡ºçŽ°æ„æƒ³ä¸åˆ°çš„ç»“æžœï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å¸Œæœ›ä»Žå¦ä¸€ä¸ªè§’åº¦æŽ¢ç´¢æˆ‘ä»¬çš„æ•°æ®ï¼› ä¸€èˆ¬æ¥è¯´ï¼Œä½ å¿…é¡»å…ˆå®Œæˆä¸€æ­¥æ‰èƒ½ç»§ç»­ä¸‹ä¸€æ­¥ï¼Œä½†ä¸è¦è§‰å¾—ä¸€æ—¦ä½ ç¬¬ä¸€æ¬¡å®Œæˆä¸€æ­¥ï¼Œä½ å°±ä¸èƒ½å›žå¤´åšå‡ºæ”¹è¿›ï¼Œä½ å¯ä»¥åœ¨ä»»ä½•æ—¶å€™è¿”å›žå‰é¢çš„æ­¥éª¤åšå“åº”çš„ä¿®æ”¹ã€‚ 0 å¯¼å…¥åº“æ–‡ä»¶ä½¿ç”¨æ ‡å‡†çš„æ•°æ®ç§‘å­¦å’Œæœºå™¨å­¦ä¹ åº“:numpyã€pandaå’Œscikit-learnï¼ŒåŒæ—¶ä½¿ç”¨matplotlibå’Œseabornè¿›è¡Œå¯è§†åŒ–ã€‚ 123456789101112131415161718192021222324# ç”¨äºŽæ•°å€¼è®¡ç®—çš„ Pandaså’Œnumpyimport pandas as pdimport numpy as np# ä¸æ˜¾ç¤ºåœ¨åˆ‡ç‰‡å‰¯æœ¬ä¸Šçš„è­¦å‘Špd.options.mode.chained_assignment = None# Matplotlibå¯è§†åŒ–import matplotlib.pyplot as plt%matplotlib inline# è®¾ç½®é»˜è®¤å­—ä½“plt.rcParams['font.size'] = 24# ç”¨äºŽè®¾ç½®å›¾å½¢å¤§å°çš„å†…éƒ¨ipythonå·¥å…·from IPython.core.pylabtools import figsize# Seabornå¯è§†åŒ–import seaborn as sns# ç¼©æ”¾å› å­sns.set(font_scale = 2)# å°†æ•°æ®åˆ’åˆ†ä¸ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†from sklearn.model_selection import train_test_split 1 æ•°æ®æ¸…ç†å’Œæ ¼å¼åŒ–1.1 å¯¼å…¥å¹¶æ£€æŸ¥æ•°æ®å°†æ•°æ®åŠ è½½åˆ°pandasæ•°æ®å¸§ä¸­ï¼Œè¿™æ˜¯æ•°æ®ç§‘å­¦æœ€æœ‰ç”¨çš„æ•°æ®ç»“æž„ä¹‹ä¸€ã€‚ å°†å…¶è§†ä¸ºPythonä¸­çš„ç”µå­è¡¨æ ¼ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾åœ°æ“ä½œï¼Œæ¸…ç†å’Œå¯è§†åŒ–ã€‚Pandaså®˜æ–¹æ–‡æ¡£ã€‚ 123456# è¯»å–æ•°æ®data = pd.read_csv('dataset/Energy_and_Water_Data_Disclosure_for_Local_Law_84_2017__Data_for_Calendar_Year_2016_.csv')# æ˜¾ç¤ºæ•°æ®å¤§å°print('datashape:',data.shape)# æ˜¾ç¤ºè¡¨å¤´data.head() datashape: (11746, 60) åŽŸå§‹æ•°æ®ä¸­æœ‰çœ‹ä¸€ä¸‹åŽŸå§‹æ•°æ®11746è¡Œï¼Œ60åˆ—ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯é¢„æµ‹ENERGY STAR Scoreåˆ—ä¸­çš„æ•°å­—ï¼Œå…¶ä»–åˆ—ä½œä¸ºç‰¹å¾ã€‚ æ ¹æ®æ•°æ®é›†çš„æ–‡ä»¶åä¸º Energy_and_Water_Data_Disclosure_for_Local_Law_84_2017__Data_for_Calendar_Year_2016_.csv è¿™é‡Œé¢æœ‰ä¸€ä¸ªLocal_Law_84ï¼Œæ ¹æ®Local_Law_84è¿›è¡Œæœç´¢ï¼Œå¾—åˆ°ä¸¤ä¸ªæ¯”è¾ƒå…³é”®çš„èµ„æ–™ï¼š Local_Law_84ç½‘ç«™ åŸºå‡†åŒ–å…¬å¼€æ•°æ®å®šä¹‰ ç¬¬ä¸€ä¸ªç½‘ç«™å‘Šè¯‰æˆ‘ä»¬ï¼Œå½“åœ°Local_Law_84æ˜¯çº½çº¦å¸‚çš„ä¸€é¡¹è¦æ±‚ï¼Œè§„å®šæ‰€æœ‰è¶…è¿‡50,000ð‘“ð‘¡2çš„å»ºç­‘ç‰©å¿…é¡»æ¯å¹´æŠ¥å‘Šä¸€ç»„ä¸Žèƒ½æºç›¸å…³çš„æ•°å­—ã€‚pdfæ–‡æ¡£è¯´æ˜Žæ¯åˆ—ä»£è¡¨çš„å«ä¹‰ï¼Œè™½ç„¶æˆ‘ä»¬ä¸éœ€è¦ç ”ç©¶æ¯ä¸€åˆ—ï¼Œä½†è‡³å°‘è¦ç†è§£æˆ‘ä»¬æƒ³è¦é¢„æµ‹çš„ç›®æ ‡æ˜¯ä¸ªå¥½ä¸»æ„ã€‚ä»¥ä¸‹æ˜¯ENERGY STAR Scoreèƒ½æºä¹‹æ˜Ÿåˆ†æ•°çš„å®šä¹‰ï¼š åŸºäºŽæŠ¥å‘Šå¹´åº¦è‡ªæˆ‘æŠ¥å‘Šçš„èƒ½æºä½¿ç”¨æƒ…å†µï¼Œåœ¨æŠ•èµ„ç»„åˆç®¡ç†å™¨ä¸­è®¡ç®—çš„æŒ‡å®šå»ºç­‘ç±»åž‹çš„çš„åˆ†æ•°ï¼šèŒƒå›´åœ¨1åˆ°100ã€‚ è¿™çœ‹èµ·æ¥éžå¸¸ç®€å•ï¼šèƒ½æºä¹‹æ˜Ÿåˆ†æ•°æ˜¯ä¸€ç§æ ¹æ®èƒ½æºæ•ˆçŽ‡å¯¹å»ºç­‘ç‰©è¿›è¡ŒæŽ’åçš„æ–¹æ³•ï¼Œå…¶ä¸­æœ€å·®çš„æ˜¯1ï¼Œæœ€å¥½æ˜¯100ã€‚å®ƒæ˜¯ç›¸å¯¹ç™¾åˆ†ä½æŽ’åï¼Œè¿™æ„å‘³ç€å»ºç­‘ç‰©ç›¸å¯¹äºŽå½¼æ­¤è¿›è¡Œè¯„åˆ†ï¼Œå¹¶ä¸”åº”è¯¥åœ¨æ•´ä¸ªå€¼èŒƒå›´å†…æ˜¾ç¤ºå‡åŒ€åˆ†å¸ƒã€‚ 1.2 æ•°æ®ç±»åž‹å’Œç¼ºå¤±å€¼å¤„ç†dataframe.infoæ–¹æ³•æ˜¯ä¸€ç§é€šè¿‡æ˜¾ç¤ºæ¯åˆ—çš„æ•°æ®ç±»åž‹å’Œéžç¼ºå¤±å€¼çš„æ•°é‡æ¥è¯„ä¼°æ•°æ®çš„å¿«é€Ÿæ–¹æ³•ã€‚ ä»ŽæŸ¥çœ‹æ•°æ®å¸§å¼€å§‹ï¼Œå¯èƒ½ä¼šå‡ºçŽ°é—®é¢˜ï¼Œå› ä¸ºç¼ºå¤±å€¼è¢«ç¼–ç ä¸ºâ€œNot Availableâ€è€Œä¸æ˜¯np.nanï¼ˆä¸æ˜¯æ•°å­—ï¼‰ï¼ˆå› ä¸ºcsvæ–‡ä»¶æŸäº›åˆ—åŒæ—¶åŒ…å«æ•°å­—å’Œå­—ç¬¦ä¸¤ç§ç±»åž‹ï¼‰ã€‚ è¿™æ„å‘³ç€å…·æœ‰æ•°å­—çš„åˆ—å°†ä¸ä¼šè¡¨ç¤ºä¸ºæ•°å­—ï¼Œå› ä¸ºpandasä¼šå°†å…·æœ‰å­—ç¬¦ä¸²å€¼çš„åˆ—è½¬æ¢ä¸ºå­—ç¬¦ä¸²çš„åˆ—ã€‚ 12# æŸ¥çœ‹æ•°æ®åˆ—çš„æ•°æ®ç±»åž‹å’Œéžç¼ºå¤±å€¼æ•°é‡data.info() &lt;class &#39;pandas.core.frame.DataFrame&#39;&gt; RangeIndex: 11746 entries, 0 to 11745 Data columns (total 60 columns): Order 11746 non-null int64 Property Id 11746 non-null int64 Property Name 11746 non-null object Parent Property Id 11746 non-null object Parent Property Name 11746 non-null object BBL - 10 digits 11735 non-null object NYC Borough, Block and Lot (BBL) self-reported 11746 non-null object NYC Building Identification Number (BIN) 11746 non-null object Address 1 (self-reported) 11746 non-null object Address 2 11746 non-null object Postal Code 11746 non-null object Street Number 11622 non-null object Street Name 11624 non-null object Borough 11628 non-null object DOF Gross Floor Area 11628 non-null float64 Primary Property Type - Self Selected 11746 non-null object List of All Property Use Types at Property 11746 non-null object Largest Property Use Type 11746 non-null object Largest Property Use Type - Gross Floor Area (ftÂ²) 11746 non-null object 2nd Largest Property Use Type 11746 non-null object 2nd Largest Property Use - Gross Floor Area (ftÂ²) 11746 non-null object 3rd Largest Property Use Type 11746 non-null object 3rd Largest Property Use Type - Gross Floor Area (ftÂ²) 11746 non-null object Year Built 11746 non-null int64 Number of Buildings - Self-reported 11746 non-null int64 Occupancy 11746 non-null int64 Metered Areas (Energy) 11746 non-null object Metered Areas (Water) 11746 non-null object ENERGY STAR Score 11746 non-null object Site EUI (kBtu/ftÂ²) 11746 non-null object Weather Normalized Site EUI (kBtu/ftÂ²) 11746 non-null object Weather Normalized Site Electricity Intensity (kWh/ftÂ²) 11746 non-null object Weather Normalized Site Natural Gas Intensity (therms/ftÂ²) 11746 non-null object Weather Normalized Source EUI (kBtu/ftÂ²) 11746 non-null object Fuel Oil #1 Use (kBtu) 11746 non-null object Fuel Oil #2 Use (kBtu) 11746 non-null object Fuel Oil #4 Use (kBtu) 11746 non-null object Fuel Oil #5 &amp; 6 Use (kBtu) 11746 non-null object Diesel #2 Use (kBtu) 11746 non-null object District Steam Use (kBtu) 11746 non-null object Natural Gas Use (kBtu) 11746 non-null object Weather Normalized Site Natural Gas Use (therms) 11746 non-null object Electricity Use - Grid Purchase (kBtu) 11746 non-null object Weather Normalized Site Electricity (kWh) 11746 non-null object Total GHG Emissions (Metric Tons CO2e) 11746 non-null object Direct GHG Emissions (Metric Tons CO2e) 11746 non-null object Indirect GHG Emissions (Metric Tons CO2e) 11746 non-null object Property GFA - Self-Reported (ftÂ²) 11746 non-null int64 Water Use (All Water Sources) (kgal) 11746 non-null object Water Intensity (All Water Sources) (gal/ftÂ²) 11746 non-null object Source EUI (kBtu/ftÂ²) 11746 non-null object Release Date 11746 non-null object Water Required? 11628 non-null object DOF Benchmarking Submission Status 11716 non-null object Latitude 9483 non-null float64 Longitude 9483 non-null float64 Community Board 9483 non-null float64 Council District 9483 non-null float64 Census Tract 9483 non-null float64 NTA 9483 non-null object dtypes: float64(6), int64(6), object(48) memory usage: 5.4+ MB æžœç„¶ï¼Œæœ‰è®¸å¤šåˆ—çš„æ•°å­—å·²è¢«æ ‡è®°ä¸ºå¯¹è±¡æ•°æ®ç±»åž‹ï¼ˆobjectï¼‰ã€‚ åœ¨æˆ‘ä»¬è¿›è¡Œæ•°å€¼åˆ†æžä¹‹å‰ï¼Œå¿…é¡»å°†å®ƒä»¬è½¬æ¢ä¸ºfloatæ•°æ®ç±»åž‹ã€‚ 1.3 å°†æ•°æ®è½¬æ¢ä¸ºæ­£ç¡®çš„æ•°æ®ç±»åž‹å°†å¸¦æœ‰æ•°å­—çš„åˆ—è½¬æ¢ä¸ºæ•°å­—æ•°æ®ç±»åž‹ï¼Œæ–¹æ³•æ˜¯å°†â€œNot Availableâ€æ¡ç›®æ›¿æ¢ä¸ºå¯ä»¥è§£é‡Šä¸ºæµ®ç‚¹æ•°çš„np.nanã€‚ ç„¶åŽæˆ‘ä»¬å°†åŒ…å«æ•°å€¼ï¼ˆä¾‹å¦‚$ft^2$æˆ–$kWh$ï¼‰çš„åˆ—è½¬æ¢ä¸ºæ•°å€¼æ•°æ®ç±»åž‹ã€‚ 1234567# ç”¨np.nanæ›¿æ¢æ‰€æœ‰çš„Not Availableâ€data = data.replace(&#123;'Not Available': np.nan&#125;)# å°†åº”è¯¥ä¸ºæ•°å€¼ç±»åž‹çš„åˆ—è½¬æ¢ä¸ºæ•°å€¼ç±»åž‹for col in list(data.columns): if ('ftÂ²' in col or 'kBtu' in col or 'Metric Tons CO2e' in col or 'kWh' in col or 'therms' in col or 'gal' in col or 'Score' in col): data[col] = data[col].astype(float) 12# æ¯ä¸€åˆ—çš„ç»Ÿè®¡ä¿¡æ¯data.describe() 1.4 ç¼ºå¤±å€¼å¤„ç†çŽ°åœ¨æˆ‘ä»¬æœ‰äº†æ­£ç¡®çš„åˆ—æ•°æ®ç±»åž‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æŸ¥çœ‹æ¯åˆ—ä¸­ç¼ºå¤±å€¼çš„ç™¾åˆ†æ¯”æ¥å¼€å§‹åˆ†æžã€‚ å½“æˆ‘ä»¬è¿›è¡ŒæŽ¢ç´¢æ€§æ•°æ®åˆ†æžæ—¶ï¼Œéœ€è¦è®¡ç®—ç¼ºå¤±å€¼çš„æ•°é‡ä»¥åŠæ¯åˆ—ç¼ºå°‘çš„æ€»å€¼çš„ç™¾åˆ†æ¯”ã€‚å¤„ç†æ–¹å¼å‚è€ƒStack Overflow forumçš„å‡½æ•°ã€‚ 1234567891011121314151617181920212223242526272829# è®¡ç®—æ¯ä¸€åˆ—ä¸­ç¼ºå¤±å€¼å æ¯”def missing_values_table(df): # è®¡ç®—æ€»çš„ç¼ºå¤±å€¼ mis_val = df.isnull().sum() # è®¡ç®—ç¼ºå¤±å€¼çš„ç™¾åˆ†æ¯” mis_val_percent = 100 * df.isnull().sum() / len(df) # ä¿å­˜ç¼ºå¤±å€¼ä¿¡æ¯çš„è¡¨æ ¼ mis_val_table = pd.concat([mis_val, mis_val_percent], axis=1) # åˆ—é‡å‘½å mis_val_table_ren_columns = mis_val_table.rename( columns = &#123;0 : 'Missing Values', 1 : '% of Total Values'&#125;) # ç¼ºå¤±å€¼æ¯”ä¾‹æŒ‰åˆ—é™åº mis_val_table_ren_columns = mis_val_table_ren_columns[ mis_val_table_ren_columns.iloc[:,1] != 0].sort_values( '% of Total Values', ascending=False).round(1) # æ‰“å°æ€»ç»“ä¿¡æ¯ print ("Your selected dataframe has " + str(df.shape[1]) + " columns.\n" "There are " + str(mis_val_table_ren_columns.shape[0]) + " columns that have missing values.") # è¿”å›žå„åˆ—ç¼ºå¤±å€¼å æ¯”ä¿¡æ¯ return mis_val_table_ren_columns# è°ƒç”¨å‡½æ•°missing_values_table(data) Your selected dataframe has 60 columns. There are 46 columns that have missing values. æ ¹æ®å‰é¢çš„data.shapeå¯çŸ¥æ•°æ®é›†é‡Œä¸€å…±æœ‰11746ä¸ªå®žä¾‹ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„ç›®æ ‡ENERGY STAR Scoreèƒ½æºä¹‹æ˜Ÿåˆ†æ•°æœ‰2104ä¸ªç¼ºå¤±å€¼ï¼Œå æ¯”17.9%ï¼Œéžç¼ºå¤±å€¼æœ‰9642ä¸ªã€‚ è™½ç„¶æˆ‘ä»¬å°½é‡ä¸èƒ½ä¸¢å¤±ä¿¡æ¯ï¼Œä½†å¦‚æžœåˆ—çš„ä¸¢å¤±å€¼å æ¯”å¾ˆé«˜ï¼Œé‚£ä¹ˆå®ƒå¯èƒ½å¯¹ç»“æžœé¢„æµ‹æ²¡ä»€ä¹ˆå¸®åŠ©ã€‚è¦ä¿ç•™å“ªäº›åˆ—åœ¨è¿™é‡Œæœ‰ä¸€äº›è®¨è®ºï¼Œæœ¬é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å°†åˆ é™¤ç¼ºå¤±å€¼è¶…è¿‡50ï¼…çš„åˆ—ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œè¦ç‰¹åˆ«å°å¿ƒä¸¢å¼ƒä»»ä½•ç‰¹å¾ï¼Œå› ä¸ºå³ä½¿æœ‰ä¸€äº›ç¼ºå¤±å€¼ï¼Œè¯¥ç‰¹å¾ä»ç„¶æœ‰å¯èƒ½å¯¹äºŽé¢„æµ‹ç›®æ ‡å€¼æœ‰å¸®åŠ©ã€‚ 1234567# èŽ·å¾—ç¼ºå¤±å€¼å¤§äºŽ50%çš„åˆ—missing_df = missing_values_table(data)missing_columns = list(missing_df[missing_df['% of Total Values'] &gt; 50].index)print('We will remove %d columns.' % len(missing_columns))# åˆ é™¤ç¼ºå¤±å€¼å¤§äºŽ50%çš„åˆ—data = data.drop(columns = list(missing_columns)) Your selected dataframe has 60 columns. There are 46 columns that have missing values. We will remove 11 columns. å…¶ä»–çš„å…·æœ‰ç¼ºå¤±å€¼çš„åˆ—å°†ç”¨åˆé€‚çš„ç¼ºå¤±å€¼å¡«å……æ–¹æ³•è¡¥å…¨ã€‚ 2 æŽ¢ç´¢æ€§æ•°æ®åˆ†æžæŽ¢ç´¢æ€§æ•°æ®åˆ†æž(EDA)æ˜¯ä¸€ä¸ªå¼€æ”¾å¼æµç¨‹ï¼Œæˆ‘ä»¬ç»˜å›¾å¹¶è®¡ç®—ç»Ÿè®¡æ•°æ®ï¼Œä»¥ä¾¿æŽ¢ç´¢æˆ‘ä»¬çš„æ•°æ®ã€‚ ç›®çš„æ˜¯æ‰¾åˆ°å¼‚å¸¸ï¼Œæ¨¡å¼ï¼Œè¶‹åŠ¿æˆ–å…³ç³»ã€‚ è¿™äº›å¯èƒ½æ˜¯æœ‰è¶£çš„ï¼ˆä¾‹å¦‚ï¼Œæ‰¾åˆ°ä¸¤ä¸ªå˜é‡ä¹‹é—´çš„ç›¸å…³æ€§ï¼‰ï¼Œæˆ–è€…å®ƒä»¬å¯ç”¨äºŽé€šçŸ¥å»ºæ¨¡å†³ç­–ï¼Œä¾‹å¦‚ä½¿ç”¨å“ªäº›ç‰¹å¾ã€‚ ç®€è€Œè¨€ä¹‹ï¼ŒæŽ¢ç´¢æ€§æ•°æ®åˆ†æžçš„ç›®æ ‡æ˜¯ç¡®å®šæˆ‘ä»¬çš„æ•°æ®å¯ä»¥å‘Šè¯‰æˆ‘ä»¬ä»€ä¹ˆï¼ æŽ¢ç´¢æ€§æ•°æ®åˆ†æžé€šå¸¸ä»Žæ•°æ®æ•´ä½“å¼€å§‹ï¼Œç„¶åŽåœ¨æˆ‘ä»¬æ‰¾åˆ°è¦æ£€æŸ¥çš„åŒºåŸŸæ—¶ç¼©å°åˆ°æ•°æ®é›†çš„ç‰¹å®šéƒ¨åˆ†ã€‚ è¦å¼€å§‹æŽ¢ç´¢æ€§æ•°æ®åˆ†æžï¼Œæˆ‘ä»¬å°†å…³æ³¨ç›®æ ‡å˜é‡ï¼Œå³Energy Star Scoreèƒ½æºä¹‹æ˜Ÿåˆ†æ•°ï¼Œå› ä¸ºè¿™æ˜¯æˆ‘ä»¬çš„æœºå™¨å­¦ä¹ æ¨¡åž‹çš„ç›®æ ‡ã€‚ ä¸ºç®€å•èµ·è§ï¼Œæˆ‘ä»¬å¯ä»¥å°†åˆ—é‡å‘½åä¸ºscoreåˆ†æ•°ï¼Œç„¶åŽå¼€å§‹æŽ¢ç´¢æ­¤å€¼ã€‚ 2.1 å•å˜é‡åˆ†æžå•å˜é‡å›¾æ˜¾ç¤ºå•ä¸ªå˜é‡çš„åˆ†å¸ƒï¼Œä¾‹å¦‚ç›´æ–¹å›¾ã€‚ 1234567891011figsize(8, 8)# å°†Energy Star Score é‡å‘½åä¸ºscoredata = data.rename(columns= &#123;'ENERGY STAR Score': 'score'&#125;)# scoreç›´æ–¹å›¾plt.style.use('fivethirtyeight')plt.hist(data['score'].dropna(), bins = 100, edgecolor = 'k')plt.xlabel('Score')plt.ylabel('Number of Buildings')plt.title('Energy Star Score Distribution') Text(0.5, 1.0, &#39;Energy Star Score Distribution&#39;) ç”±äºŽèƒ½æºä¹‹æ˜Ÿåˆ†æ•°æ˜¯ç™¾åˆ†ä½æ•°ï¼Œæˆ‘ä»¬é¢„è®¡ä¼šçœ‹åˆ°å®Œå…¨å¹³å¦çš„åˆ†å¸ƒï¼Œæ¯ä¸ªåˆ†æ•°å åˆ†å¸ƒçš„1ï¼…ï¼ˆçº¦90ä¸ªå»ºç­‘ç‰©ï¼‰ã€‚ç„¶è€Œï¼Œè¿™ç»å¯¹ä¸æ˜¯è¿™ç§æƒ…å†µï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸¤ä¸ªæœ€å¸¸è§çš„åˆ†æ•°ï¼Œ1å’Œ100ï¼Œæž„æˆæ€»åˆ†æ•°çš„ä¸ç›¸ç§°çš„æ•°å­—ã€‚å³åœ¨ä¸¤ç«¯å‡ºçŽ°äº†å¼‚å¸¸å€¼ã€‚ å¦‚æžœæˆ‘ä»¬å›žåˆ°åˆ†æ•°çš„å®šä¹‰ï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°å®ƒæ˜¯åŸºäºŽè‡ªæˆ‘æŠ¥å‘Šçš„èƒ½é‡ä½¿ç”¨æƒ…å†µã€‚è¿™é€ æˆäº†ä¸€ä¸ªé—®é¢˜ï¼Œå› ä¸ºå»ºç­‘ç‰©æ‰€æœ‰è€…å¯èƒ½æƒ³è¦æŠ¥å‘Šè¾ƒä½Žçš„ç”¨ç”µé‡ä»¥äººä¸ºåœ°æé«˜ä»–ä»¬çš„å»ºç­‘ç‰©çš„åˆ†æ•°ã€‚è¿™å°±åƒç»™å­¦ç”Ÿä¸€ä¸ªåŸºäºŽè‡ªæˆ‘æŠ¥å‘Šçš„è€ƒè¯•æˆç»©çš„æˆç»©ã€‚è¿™ç§è¡Œä¸ºå¯ä»¥è§£é‡Šé«˜æ¯”ä¾‹çš„å»ºç­‘ç‰©æ»¡åˆ†ä¸º100ï¼Œä½†ä¸èƒ½è§£é‡Šä¸ºä»€ä¹ˆè¿™ä¹ˆå¤šå»ºç­‘ç‰©åœ¨æœ€åº•å±‚åˆ†æ•°ï¼ ä¸ºäº†å¯¹æ¯”èƒ½æºä¹‹æ˜Ÿåˆ†æ•°ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹ä¸€ä¸‹èƒ½æºä½¿ç”¨å¼ºåº¦ï¼ˆEUIï¼‰ï¼Œå®ƒæ˜¯æ€»èƒ½æºæ¶ˆè€—é™¤ä»¥å»ºç­‘ç‰©çš„å¹³æ–¹è‹±å°ºã€‚åœ¨è¿™é‡Œï¼Œèƒ½æºä½¿ç”¨é‡ä¸æ˜¯è‡ªæˆ‘æŠ¥å‘Šçš„ï¼Œå› æ­¤è¿™å¯ä»¥æ›´åŠ å®¢è§‚åœ°è¡¡é‡å»ºç­‘ç‰©çš„èƒ½æºæ•ˆçŽ‡ã€‚æ­¤å¤–ï¼Œè¿™ä¸æ˜¯ç™¾åˆ†ä½æ•°ï¼Œå› æ­¤ç»å¯¹å€¼å¾ˆé‡è¦ï¼Œæˆ‘ä»¬å¸Œæœ›å®ƒä»¬å¤§è‡´æ­£æ€åˆ†å¸ƒï¼Œå¯èƒ½åœ¨ä½Žç«¯æˆ–é«˜ç«¯æœ‰ä¸€äº›å¼‚å¸¸å€¼ã€‚ 123456# Site EUIçš„ç›´æ–¹å›¾åˆ†å¸ƒfigsize(8, 8)plt.hist(data['Site EUI (kBtu/ftÂ²)'].dropna(), bins = 20, edgecolor = 'black')plt.xlabel('Site EUI')plt.ylabel('Count')plt.title('Site EUI distribution') Text(0.5, 1.0, &#39;Site EUI distribution&#39;) è¿™è¡¨æ˜Žæˆ‘ä»¬è¿˜æœ‰å¦ä¸€ä¸ªé—®é¢˜ï¼šå¼‚å¸¸å€¼ï¼ ç”±äºŽå­˜åœ¨ä¸€äº›åˆ†æ•°éžå¸¸é«˜çš„å»ºç­‘ç‰©ï¼Œå› æ­¤å›¾è¡¨éžå¸¸åæ–œã€‚ å› æ­¤æˆ‘ä»¬éœ€è¦é¦–å…ˆå¤„ç†å¼‚å¸¸å€¼ã€‚æˆ‘ä»¬æ¥çœ‹çœ‹EUIè¿™ä¸ªç‰¹å¾çš„ç»Ÿè®¡æ•°æ®ã€‚ 1data['Site EUI (kBtu/ftÂ²)'].describe() count 11583.000000 mean 280.071484 std 8607.178877 min 0.000000 25% 61.800000 50% 78.500000 75% 97.600000 max 869265.000000 Name: Site EUI (kBtu/ftÂ²), dtype: float64 12# æˆ‘ä»¬çœ‹ä¸€ä¸‹EUIç‰¹å¾æœ€å¤§çš„10ä¸ªå€¼data['Site EUI (kBtu/ftÂ²)'].dropna().sort_values().tail(10) 3173 51328.8 3170 51831.2 3383 78360.1 8269 84969.6 3263 95560.2 8268 103562.7 8174 112173.6 3898 126307.4 7 143974.4 8068 869265.0 Name: Site EUI (kBtu/ftÂ²), dtype: float64 å…¶ä¸­ä¸€æ ‹å»ºç­‘çš„EUIè¿œé«˜äºŽå…¶ä»–çš„ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹è¿™ä¸ªå»ºç­‘ã€‚ 1data.loc[data['Site EUI (kBtu/ftÂ²)'] == 869265.0, :] å¼‚å¸¸å€¼å¯èƒ½ç”±äºŽå¤šç§åŽŸå› å‘ç”Ÿï¼š æ‹¼å†™é”™è¯¯ æµ‹é‡è®¾å¤‡æ•…éšœ ä¸æ­£ç¡®çš„å•ä½ æˆ–è€…å®ƒä»¬å¯èƒ½æ˜¯åˆæ³•çš„ä½†æ˜¯æžç«¯å€¼ã€‚ å¼‚å¸¸å€¼å¯ä»¥åˆ é™¤ï¼Œå› ä¸ºå®ƒä»¬å¹¶ä¸è¡¨ç¤ºæ•°æ®çš„å®žé™…åˆ†å¸ƒã€‚ 2.2 åˆ é™¤å¼‚å¸¸å€¼å½“æˆ‘ä»¬åˆ é™¤å¼‚å¸¸å€¼æ—¶ï¼Œæˆ‘ä»¬è¦å°å¿ƒï¼Œæˆ‘ä»¬ä¸èƒ½å› ä¸ºå¼‚å¸¸å€¼å°±ç›´æŽ¥åˆ é™¤ã€‚ å®ƒä»¬å¯èƒ½æ˜¯æˆ‘ä»¬åº”è¯¥è¿›ä¸€æ­¥è°ƒæŸ¥çš„å®žé™…çŽ°è±¡çš„ç»“æžœã€‚ å½“åˆ é™¤å¼‚å¸¸å€¼æ—¶ï¼Œå¯ä»¥å°è¯•ä½¿ç”¨æžç«¯å¼‚å¸¸å€¼çš„å®šä¹‰æ¥å¤„ç†ï¼Œè¿™æ ·å¯ä»¥å°½å¯èƒ½ä¿å®ˆï¼š åœ¨ä½Žç«¯ï¼Œæžç«¯å¼‚å¸¸å€¼ä½ŽäºŽ $\text{First Quartile} -3 * \text{Interquartile Range}$ åœ¨é«˜ç«¯ï¼Œæžç«¯å¼‚å¸¸å€¼é«˜äºŽ $\text{Third Quartile} + 3 * \text{Interquartile Range}$ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘å°†åªåˆ é™¤å•ä¸ªå¤–å›´ç‚¹å¹¶æŸ¥çœ‹åˆ†å¸ƒæƒ…å†µã€‚ 12345678910# è®¡ç®—ç¬¬ä¸€å’Œç¬¬ä¸‰åˆ†ä½ç‚¹first_quartile = data['Site EUI (kBtu/ftÂ²)'].describe()['25%']third_quartile = data['Site EUI (kBtu/ftÂ²)'].describe()['75%']# è®¡ç®—å››åˆ†ä½èŒƒå›´ï¼šå³ç¬¬ä¸€ç¬¬ä¸‰åˆ†ä½ä¹‹é—´çš„èŒƒå›´iqr = third_quartile - first_quartile# åŽ»é™¤å¼‚å¸¸å€¼data = data[(data['Site EUI (kBtu/ftÂ²)'] &gt; (first_quartile - 3 * iqr)) &amp; (data['Site EUI (kBtu/ftÂ²)'] &lt; (third_quartile + 3 * iqr))] 123456# é‡ç”»Site EUIçš„ç›´æ–¹å›¾åˆ†å¸ƒfigsize(8, 8)plt.hist(data['Site EUI (kBtu/ftÂ²)'].dropna(), bins = 20, edgecolor = 'black')plt.xlabel('Site EUI')plt.ylabel('Count')plt.title('Site EUI distribution') Text(0.5, 1.0, &#39;Site EUI distribution&#39;) åˆ é™¤å¼‚å¸¸å€¼åŽï¼Œè¿™ä¸ªç›´æ–¹å›¾åˆ†å¸ƒçœ‹èµ·æ¥æ¯”è¾ƒæ­£å¸¸ï¼Œå¹¶ä¸”æŽ¥è¿‘æ­£æ€åˆ†å¸ƒï¼Œå³ä¾§æœ‰ä¸€æ¡é•¿å°¾ï¼ˆå®ƒæœ‰ä¸€ä¸ªæ­£åæ–œï¼‰ã€‚ è™½ç„¶è¿™å¯èƒ½æ˜¯ä¸€ä¸ªæ›´å®¢è§‚çš„è¡¡é‡æ ‡å‡†ï¼Œä½†æˆ‘ä»¬çš„ç›®æ ‡ä»ç„¶æ˜¯é¢„æµ‹èƒ½æºä¹‹æ˜Ÿåˆ†æ•°ï¼Œå› æ­¤æˆ‘ä»¬å°†å›žè¿‡å¤´æ¥ç ”ç©¶è¯¥å˜é‡ã€‚ å³ä½¿èƒ½æºä¹‹æ˜Ÿåˆ†æ•°ä¸æ˜¯ä¸€ä¸ªå¥½çš„è¡¡é‡æ ‡å‡†ï¼Œæˆ‘ä»¬ä»ç„¶éœ€è¦é¢„æµ‹å®ƒï¼Œè¿™å°±æ˜¯æˆ‘ä»¬è¦åšçš„äº‹æƒ…ï¼ åœ¨å›žåˆ°å…¬å¸çš„æœ€ç»ˆæŠ¥å‘Šä¸­ï¼Œæˆ‘å°†æŒ‡å‡ºè¿™å¯èƒ½ä¸æ˜¯ä¸€ä¸ªå®¢è§‚çš„è¡¡é‡æ ‡å‡†ï¼Œå¹¶ä¸”ä½¿ç”¨ä¸åŒçš„æŒ‡æ ‡æ¥ç¡®å®šå»ºç­‘ç‰©çš„æ•ˆçŽ‡æ˜¯ä¸ªå¥½ä¸»æ„ã€‚ æ­¤å¤–ï¼Œçœ‹çœ‹åˆ†æ•°ä¸º1å’Œ100çš„å»ºç­‘ç‰©å¯èƒ½ä¼šå¾ˆæœ‰è¶£ï¼Œçœ‹çœ‹å®ƒä»¬æ˜¯å¦æœ‰ä»»ä½•å…±åŒä¹‹å¤„ã€‚ 2.3 å¯»æ‰¾å…³ç³»ä¸ºäº†æŸ¥çœ‹åˆ†ç±»å˜é‡ - categorical variableså¯¹åˆ†æ•°çš„å½±å“ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ†ç±»å˜é‡çš„å€¼æ¥ç»˜åˆ¶å¯†åº¦å›¾ã€‚ å¯†åº¦å›¾è¿˜æ˜¾ç¤ºå•ä¸ªå˜é‡çš„åˆ†å¸ƒï¼Œå¯ä»¥è®¤ä¸ºæ˜¯å¹³æ»‘çš„ç›´æ–¹å›¾ã€‚ å¦‚æžœæˆ‘ä»¬é€šè¿‡ä¸ºåˆ†ç±»å˜é‡å¯†åº¦æ›²çº¿ç€è‰²ï¼Œè¿™å°†å‘æˆ‘ä»¬å±•ç¤ºåˆ†å¸ƒå¦‚ä½•åŸºäºŽç±»åˆ«å˜åŒ–çš„ã€‚ æˆ‘ä»¬å°†åˆ¶ä½œçš„ç¬¬ä¸€ä¸ªå›¾è¡¨æ˜¾ç¤ºäº†Largest Property Use Typeå»ºç­‘ç±»åž‹çš„åˆ†å¸ƒã€‚ ä¸ºäº†ä¸ä½¿å›¾å½¢æ··ä¹±ï¼Œæˆ‘ä»¬å°†å›¾å½¢é™åˆ¶ä¸ºåœ¨æ•°æ®é›†ä¸­å…·æœ‰è¶…è¿‡100ä¸ªè§‚æµ‹å€¼çš„å»ºç­‘ç±»åž‹ã€‚ â€œå…·æœ‰è¶…è¿‡100ä¸ªè§‚æµ‹å€¼çš„å»ºç­‘ç±»åž‹â€ è¿™å¥è¯æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ æœ‰çš„å»ºç­‘æ˜¯ä½å®…æ¥¼ï¼Œæœ‰çš„æ˜¯é…’åº—ï¼Œæœ‰çš„æ˜¯å†™å­—æ¥¼åŠžå…¬æ¥¼ï¼Œæœ‰çš„æ˜¯åŒ»é™¢ç­‰ç­‰ã€‚ å¦‚æžœç”¨ä½œä½å®…æ¥¼çš„å»ºç­‘å’Œç”¨ä½œåŠžå…¬æ¥¼çš„å»ºç­‘éƒ½è¶…è¿‡100æ ‹äº†ï¼Œé‚£æˆ‘ä»¬å°±æŠŠè¿™ä¸¤ç§ç±»åž‹çš„å»ºç­‘ç‰©çš„åˆ†æ•°åˆ†å¸ƒç”»å‡ºæ¥ã€‚ä¾‹å¦‚ä¸‹å›¾ä¸­çš„çº¢è‰²æ›²çº¿å°±ä»£è¡¨Officeè¿™ä¸ªç±»åž‹çš„å»ºç­‘ç‰©çš„èƒ½æºä¹‹æ˜Ÿåˆ†æ•°åˆ†å¸ƒ 1234# ç»Ÿè®¡æ¯ä¸ªå±žæ€§å€¼çš„ä¸ªæ•°types = data.dropna(subset=['score'])types = types['Largest Property Use Type'].value_counts()types Multifamily Housing 7464 Office 1157 Hotel 202 Non-Refrigerated Warehouse 156 K-12 School 97 Residence Hall/Dormitory 96 Senior Care Community 85 Distribution Center 61 Retail Store 57 Medical Office 23 Hospital (General Medical &amp; Surgical) 15 Financial Office 12 Supermarket/Grocery Store 10 Worship Facility 9 Refrigerated Warehouse 8 Wholesale Club/Supercenter 3 Parking 3 Courthouse 2 Bank Branch 1 Name: Largest Property Use Type, dtype: int64 å¯ä»¥çœ‹åˆ°ï¼Œå±žæ€§å€¼å¤§äºŽ100ä¸ªçš„æœ‰å››ä¸ªï¼š Multifamily Housing Office Hotel Non-Refrigerated Warehouse 12345678910111213141516# å–å‡ºå±žæ€§å€¼ä¸ªæ•°å¤§äºŽ100ä¸ªçš„å±žæ€§types = list(types[types.values &gt; 100].index)# å»ºç­‘ç±»åž‹çš„å¯†åº¦å›¾figsize(12,10)# ç»˜åˆ¶æ¯ä¸€ç§å»ºç­‘ç±»åž‹for b_type in types: # é€‰å‡ºå»ºç­‘ç±»åž‹ subset = data[data['Largest Property Use Type'] == b_type] # ç»˜åˆ¶å¯¹åº”å»ºç­‘ç±»åž‹çš„åˆ†æ•°å¯†åº¦å›¾ sns.kdeplot(subset['score'].dropna(), label = b_type, shade = False, alpha = 0.8)plt.xlabel('Energy Star Score', size = 20)plt.ylabel('Density', size = 20)plt.title('Density Plot of Energy Star Scores by Building Type', size = 28) C:\Users\huangqiancun\Anaconda3\lib\site-packages\scipy\stats\stats.py:1713: FutureWarning: Using a non-tuple sequence for multidimensional indexing is deprecated; use `arr[tuple(seq)]` instead of `arr[seq]`. In the future this will be interpreted as an array index, `arr[np.array(seq)]`, which will result either in an error or a different result. return np.add.reduce(sorted[indexer] * weights, axis=axis) / sumval Text(0.5, 1.0, &#39;Density Plot of Energy Star Scores by Building Type&#39;) ä»Žè¯¥å›¾ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å»ºç­‘ç±»åž‹ç¡®å®žå¯¹åˆ†æ•°æœ‰å½±å“ï¼ˆå›¾ä¸Šçš„è´Ÿåˆ†æ•°æ˜¯æ ¸å¯†åº¦ä¼°è®¡è¿‡ç¨‹çš„äººå·¥äº§ç‰©ï¼‰ã€‚ è™½ç„¶æˆ‘æœ€åˆå°†é‡ç‚¹æ”¾åœ¨ç”¨äºŽé¢„æµ‹åˆ†æ•°çš„æ•°å­—åˆ—ä¸Šï¼Œä½†æ­¤å›¾è¡¨å‘Šè¯‰æˆ‘ä»¬åº”è¯¥åŒ…å«å±žæ€§ç±»åž‹ï¼Œå› ä¸ºæ­¤ä¿¡æ¯å¯ç”¨äºŽç¡®å®šåˆ†æ•°ã€‚ ç”±äºŽå»ºç­‘ç±»åž‹æ˜¯ä¸€ä¸ªåˆ†ç±»å˜é‡ï¼Œå› æ­¤åœ¨å°†å…¶è¾“å…¥æœºå™¨å­¦ä¹ æ¨¡åž‹ä¹‹å‰ï¼Œå¿…é¡»å¯¹å…¶è¿›è¡Œç‹¬çƒ­ç¼–ç ã€‚ ä¸ºæ£€æŸ¥å¦ä¸€ä¸ªåˆ†ç±»å˜é‡ï¼Œè¡Œæ”¿åŒºBoroughï¼Œæˆ‘ä»¬å¯ä»¥åˆ¶ä½œç±»ä¼¼çš„å›¾è¡¨ã€‚ 1234# ç»Ÿè®¡æ¯ä¸ªå±žæ€§å€¼çš„ä¸ªæ•°boroughs = data.dropna(subset = ['score'])boroughs = boroughs['Borough'].value_counts()boroughs Manhattan 3985 Brooklyn 1947 Queens 1707 Bronx 1655 Staten Island 119 Name: Borough, dtype: int64 12345678910111213141516# å–å‡ºå±žæ€§å€¼ä¸ªæ•°å¤§äºŽ100ä¸ªçš„å±žæ€§boroughs = list(boroughs[boroughs.values &gt; 100].index)# Boroughç±»åž‹çš„å¯†åº¦å›¾figsize(12,10)# ç»˜åˆ¶æ¯ä¸€ç§Boroughç±»åž‹for borough in boroughs: # é€‰å‡ºBoroughç±»åž‹ subset = data[data['Borough'] == borough] # ç»˜åˆ¶å¯¹åº”Boroughç±»åž‹çš„åˆ†æ•°å¯†åº¦å›¾ sns.kdeplot(subset['score'].dropna(), label = borough, shade = False, alpha = 0.8)plt.xlabel('Energy Star Score', size = 20)plt.ylabel('Density', size = 20)plt.title('Density Plot of Energy Star Scores by Borough', size = 28) Text(0.5, 1.0, &#39;Density Plot of Energy Star Scores by Borough&#39;) å»ºç­‘çš„Boroughä¼¼ä¹Žæ²¡æœ‰åƒå»ºç­‘typeé‚£æ ·åœ¨åˆ†æ•°åˆ†å¸ƒä¸Šäº§ç”Ÿæ˜¾ç€å·®å¼‚ã€‚ å°½ç®¡å¦‚æ­¤ï¼Œå°†Boroughçº³å…¥åˆ†ç±»å˜é‡å¯èƒ½æ˜¯æœ‰æ„ä¹‰çš„ã€‚ 2.4 ç‰¹å¾å˜é‡å’Œç›®æ ‡å˜é‡çš„å…³ç³»ä¸ºäº†é‡åŒ–ç‰¹å¾ï¼ˆå˜é‡ï¼‰å’Œç›®æ ‡ä¹‹é—´çš„ç›¸å…³æ€§ï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®—Pearsonç›¸å…³ç³»æ•°ã€‚ è¿™æ˜¯ä¸¤ä¸ªå˜é‡ä¹‹é—´çº¿æ€§å…³ç³»çš„å¼ºåº¦å’Œæ–¹å‘çš„åº¦é‡ï¼šå€¼-1è¡¨ç¤ºä¸¤ä¸ªå˜é‡å®Œå…¨è´Ÿçº¿æ€§ç›¸å…³ï¼Œå€¼+1è¡¨ç¤ºä¸¤ä¸ªå˜é‡å®Œå…¨æ­£çº¿æ€§ç›¸å…³ã€‚ å°½ç®¡ç‰¹å¾å’Œç›®æ ‡ä¹‹é—´å¯èƒ½å­˜åœ¨éžçº¿æ€§å…³ç³»ï¼Œå¹¶ä¸”ç›¸å…³ç³»æ•°ä¸è€ƒè™‘ç‰¹å¾ä¹‹é—´çš„ç›¸äº’ä½œç”¨ï¼Œä½†çº¿æ€§å…³ç³»æ˜¯å¼€å§‹æŽ¢ç´¢æ•°æ®è¶‹åŠ¿çš„å¥½æ–¹æ³•ã€‚ ç„¶åŽï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™äº›å€¼æ¥é€‰æ‹©è¦åœ¨æˆ‘ä»¬çš„æ¨¡åž‹ä¸­ä½¿ç”¨çš„ç‰¹å¾ã€‚ ä¸‹é¢çš„ä»£ç è®¡ç®—æ‰€æœ‰å˜é‡å’Œç›®æ ‡å˜é‡scoreä¹‹é—´çš„ç›¸å…³ç³»æ•°ã€‚ 12345678910# è®¡ç®—æ‰€æœ‰å˜é‡å’Œscoreçš„ç›¸å…³ç³»æ•°correlations_data = data.corr()['score'].sort_values()# æœ€è´Ÿç›¸å…³çš„15ä¸ªç‰¹å¾print(correlations_data.head(15))print('===================================')# æœ€æ­£ç›¸å…³çš„15ä¸ªç‰¹å¾print(correlations_data.tail(15)) Site EUI (kBtu/ftÂ²) -0.723864 Weather Normalized Site EUI (kBtu/ftÂ²) -0.713993 Weather Normalized Source EUI (kBtu/ftÂ²) -0.645542 Source EUI (kBtu/ftÂ²) -0.641037 Weather Normalized Site Electricity Intensity (kWh/ftÂ²) -0.358394 Weather Normalized Site Natural Gas Intensity (therms/ftÂ²) -0.346046 Direct GHG Emissions (Metric Tons CO2e) -0.147792 Weather Normalized Site Natural Gas Use (therms) -0.135211 Natural Gas Use (kBtu) -0.133648 Year Built -0.121249 Total GHG Emissions (Metric Tons CO2e) -0.113136 Electricity Use - Grid Purchase (kBtu) -0.050639 Weather Normalized Site Electricity (kWh) -0.048207 Latitude -0.048196 Property Id -0.046605 Name: score, dtype: float64 =================================== Property Id -0.046605 Indirect GHG Emissions (Metric Tons CO2e) -0.043982 Longitude -0.037455 Occupancy -0.033215 Number of Buildings - Self-reported -0.022407 Water Use (All Water Sources) (kgal) -0.013681 Water Intensity (All Water Sources) (gal/ftÂ²) -0.012148 Census Tract -0.002299 DOF Gross Floor Area 0.013001 Property GFA - Self-Reported (ftÂ²) 0.017360 Largest Property Use Type - Gross Floor Area (ftÂ²) 0.018330 Order 0.036827 Community Board 0.056612 Council District 0.061639 score 1.000000 Name: score, dtype: float64 å¯ä»¥çœ‹åˆ°ï¼Œæœ‰å‡ ä¸ªç‰¹å¾ä¸Žç›®æ ‡å˜é‡scoreå­˜åœ¨å¼ºè´Ÿç›¸å…³å…³ç³»ï¼Œä¸Žscoreæœ€è´Ÿç›¸å…³çš„æ˜¯ï¼š Energy Use Intensity (EUI) Site EUI (kBtu/ftÂ²) Weather Normalized Site EUI (kBtu/ftÂ²)ï¼ˆè¿™äº›åªåœ¨è®¡ç®—æ–¹å¼ä¸Šç•¥æœ‰ä¸åŒï¼‰ã€‚ EUIæ˜¯å»ºç­‘ä½¿ç”¨çš„èƒ½é‡é™¤ä»¥å»ºç­‘ç‰©çš„å¹³æ–¹è‹±å°ºï¼Œå¹¶ä¸”ç”¨äºŽè¡¡é‡å»ºç­‘ç‰©çš„æ•ˆçŽ‡ï¼Œå…¶ä¸­åˆ†æ•°è¶Šä½Žè¶Šå¥½ã€‚ ç›´è§‚åœ°è¯´ï¼Œè¿™äº›ç›¸å…³æ€§æ˜¯æœ‰æ„ä¹‰çš„ï¼šéšç€EUIçš„å¢žåŠ ï¼Œèƒ½æºä¹‹æ˜Ÿåˆ†æ•°scoreè¶‹äºŽä¸‹é™ã€‚ ä¸ºäº†è€ƒè™‘å¯èƒ½çš„éžçº¿æ€§å…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨ç‰¹å¾çš„å¹³æ–¹æ ¹å’Œè‡ªç„¶å¯¹æ•°å˜æ¢ï¼Œç„¶åŽç”¨åˆ†æ•°è®¡ç®—ç›¸å…³ç³»æ•°ã€‚ ä¸ºäº†å°è¯•æ•èŽ·è¡Œæ”¿åŒºBoroughæˆ–å»ºç­‘typeä¹‹é—´çš„ä»»ä½•å¯èƒ½çš„å…³ç³»ï¼ˆè¿™ä¸¤ä¸ªç‰¹å¾æ˜¯ç±»åˆ«å˜é‡ï¼‰å’Œåˆ†æ•°ï¼Œæˆ‘ä»¬å°†å¯¹è¿™äº›ç‰¹å¾è¿›è¡Œç‹¬çƒ­ç¼–ç ã€‚ åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬é‡‡ç”¨ä»¥ä¸‹ç­–ç•¥ï¼š å¯¹æ•°å€¼ç‰¹å¾ï¼šè¿›è¡Œå¹³æ–¹æ ¹å’Œå¯¹æ•°å˜æ¢ï¼› å¯¹ä¸¤ä¸ªç±»åˆ«å˜é‡ï¼ˆBoroughå’Œtypeï¼‰è¿›è¡Œç‹¬çƒ­ç¼–ç ï¼› æœ€åŽè®¡ç®—æ‰€æœ‰ç‰¹å¾ä¸Žscoreä¹‹é—´çš„ç›¸å…³æ€§ï¼Œå¹¶æ˜¾ç¤ºå‰15ä¸ª æœ€ç§¯æžçš„å’Œå‰15ä¸ªæœ€è´Ÿç›¸å…³ã€‚ 1234567891011121314151617181920212223242526# é€‰æ‹©æ•°å€¼ç‰¹å¾numeric_subset = data.select_dtypes('number')# åˆ›å»ºå¹³æ–¹æ ¹å’Œå¯¹æ•°åˆ—for col in numeric_subset.columns: # è·³è¿‡ Energy Star Score åˆ— if col == 'score': next else: numeric_subset['sqrt_' + col] = np.sqrt(numeric_subset[col]) numeric_subset['log_' + col] = np.log(numeric_subset[col])# é€‰æ‹©ç±»åˆ«ç‰¹å¾categorical_subset = data[['Borough', 'Largest Property Use Type']]# ç‹¬çƒ­ç¼–ç categorical_subset = pd.get_dummies(categorical_subset)# ä½¿ç”¨concatå¯¹ä¸¤ä¸ªæ•°æ®å¸§è¿›è¡Œæ‹¼æŽ¥ï¼Œaxis=1åˆ—ç»‘å®šfeatures = pd.concat([numeric_subset, categorical_subset], axis = 1)# åŽ»æŽ‰æ²¡æœ‰è¯„åˆ†çš„å»ºç­‘ç‰©features = features.dropna(subset = ['score'])# è®¡ç®—ç‰¹å¾ä¸Žscoreä¹‹é—´çš„ç›¸å…³æ€§correlations = features.corr()['score'].dropna().sort_values() C:\Users\huangqiancun\Anaconda3\lib\site-packages\ipykernel_launcher.py:11: RuntimeWarning: divide by zero encountered in log # This is added back by InteractiveShellApp.init_path() C:\Users\huangqiancun\Anaconda3\lib\site-packages\ipykernel_launcher.py:10: RuntimeWarning: invalid value encountered in sqrt # Remove the CWD from sys.path while we load stuff. C:\Users\huangqiancun\Anaconda3\lib\site-packages\ipykernel_launcher.py:11: RuntimeWarning: invalid value encountered in log # This is added back by InteractiveShellApp.init_path() 12# æ˜¾ç¤ºæœ€è´Ÿç›¸å…³çš„15ä¸ªç‰¹å¾correlations.head(15) Site EUI (kBtu/ftÂ²) -0.723864 Weather Normalized Site EUI (kBtu/ftÂ²) -0.713993 sqrt_Site EUI (kBtu/ftÂ²) -0.699817 sqrt_Weather Normalized Site EUI (kBtu/ftÂ²) -0.689019 sqrt_Weather Normalized Source EUI (kBtu/ftÂ²) -0.671044 sqrt_Source EUI (kBtu/ftÂ²) -0.669396 Weather Normalized Source EUI (kBtu/ftÂ²) -0.645542 Source EUI (kBtu/ftÂ²) -0.641037 log_Source EUI (kBtu/ftÂ²) -0.622892 log_Weather Normalized Source EUI (kBtu/ftÂ²) -0.620329 log_Site EUI (kBtu/ftÂ²) -0.612039 log_Weather Normalized Site EUI (kBtu/ftÂ²) -0.601332 log_Weather Normalized Site Electricity Intensity (kWh/ftÂ²) -0.424246 sqrt_Weather Normalized Site Electricity Intensity (kWh/ftÂ²) -0.406669 Weather Normalized Site Electricity Intensity (kWh/ftÂ²) -0.358394 Name: score, dtype: float64 12# # æ˜¾ç¤ºæœ€æ­£ç›¸å…³çš„15ä¸ªç‰¹å¾correlations.tail(15) sqrt_Order 0.028662 Borough_Queens 0.029545 Largest Property Use Type_Supermarket/Grocery Store 0.030038 Largest Property Use Type_Residence Hall/Dormitory 0.035407 Order 0.036827 Largest Property Use Type_Hospital (General Medical &amp; Surgical) 0.048410 Borough_Brooklyn 0.050486 log_Community Board 0.055495 Community Board 0.056612 sqrt_Community Board 0.058029 sqrt_Council District 0.060623 log_Council District 0.061101 Council District 0.061639 Largest Property Use Type_Office 0.158484 score 1.000000 Name: score, dtype: float64 åœ¨è¿›è¡Œéžçº¿æ€§è½¬æ¢ç‰¹å¾ä¹‹åŽï¼š æœ€å¼ºçš„ç‰¹å¾ä»ç„¶æ˜¯ä¸Žèƒ½é‡ä½¿ç”¨å¼ºåº¦ï¼ˆEUIï¼‰ç›¸å…³çš„ç‰¹å¾ã€‚ å¯¹æ•°å’Œå¹³æ–¹æ ¹å˜æ¢ä¼¼ä¹Žæ²¡æœ‰äº§ç”Ÿä»»ä½•æ›´å¼ºçš„ç‰¹å¾ã€‚ å°½ç®¡æˆ‘ä»¬ç¡®å®žçœ‹åˆ°å»ºç­‘ç±»åž‹çš„åŠžå…¬å®¤ï¼ˆLargest Property Use Type_Office ï¼‰ä¸Žscoreç•¥å¾®æ­£ç›¸å…³ï¼Œä½†æ²¡æœ‰å¼ºçƒˆçš„æ­£çº¿æ€§å…³ç³»ã€‚æ­¤å˜é‡æ˜¯å»ºç­‘ç±»åž‹çš„åˆ†ç±»å˜é‡çš„ç‹¬çƒ­ç¼–ç è¡¨ç¤ºã€‚ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™äº›ç›¸å…³æ€§æ¥æ‰§è¡Œç‰¹å¾é€‰æ‹©ã€‚ çŽ°åœ¨ï¼Œè®©æˆ‘ä»¬ç»˜åˆ¶æ•°æ®é›†ä¸­æœ€é‡è¦çš„ç›¸å…³æ€§ï¼ˆå°±ç»å¯¹å€¼è€Œè¨€ï¼‰ï¼Œå³Site EUI (kBtu/ftÂ²)ã€‚ æˆ‘ä»¬å¯ä»¥é€šè¿‡å»ºç­‘ç±»åž‹ä¸ºå›¾å½¢ç€è‰²ï¼Œä»¥æ˜¾ç¤ºå®ƒå¦‚ä½•å½±å“å…³ç³»ã€‚ 2.5 åŒå˜é‡åˆ†æžä¸ºäº†å¯è§†åŒ–ä¸¤ä¸ªå˜é‡ä¹‹é—´çš„å…³ç³»ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•£ç‚¹å›¾ã€‚æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨æ ‡è®°çš„é¢œè‰²æˆ–å¤§å°ç­‰æ–¹é¢åŒ…å«å…¶ä»–å˜é‡ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†ç»˜åˆ¶ä¸¤ä¸ªæ•°å€¼å˜é‡ï¼Œå¹¶ä½¿ç”¨é¢œè‰²è¡¨ç¤ºç¬¬ä¸‰ä¸ªåˆ†ç±»å˜é‡ã€‚ 12345678910111213141516figsize(12, 10)# æå–å»ºç­‘ç±»åž‹ç‰¹å¾features['Largest Property Use Type'] = data.dropna(subset=['score'])['Largest Property Use Type']# é™åˆ¶åªå–è§‚æµ‹å€¼å¤§äºŽ100çš„å»ºç­‘ç±»åž‹ (ä»Žå‰é¢çš„ä»£ç )features = features[features['Largest Property Use Type'].isin(types)]# åˆ©ç”¨seabornç”»scoreå’ŒSite EUIçš„å›žå½’æ•£ç‚¹å›¾sns.lmplot('Site EUI (kBtu/ftÂ²)', 'score', hue = 'Largest Property Use Type', data = features, scatter_kws = &#123;'alpha': 0.8, 's': 60&#125;, fit_reg = False, size = 12, aspect = 1.2);plt.xlabel('Site EUI', size = 28)plt.ylabel('Energy Star Score', size = 28)plt.title('Energy Star Score vs Site EUI', size = 36) C:\Users\huangqiancun\Anaconda3\lib\site-packages\seaborn\regression.py:546: UserWarning: The `size` paramter has been renamed to `height`; please update your code. warnings.warn(msg, UserWarning) Text(0.5, 1.0, &#39;Energy Star Score vs Site EUI&#39;) Site EUIä¸Žscoreä¹‹é—´å­˜åœ¨æ˜Žæ˜¾çš„è´Ÿç›¸å…³å…³ç³»ã€‚ è¿™ç§å…³ç³»ä¸æ˜¯å®Œå…¨çº¿æ€§çš„ï¼ˆç›¸ä¼¼ç³»æ•°ä¸º-0.7ï¼Œä½†çœ‹èµ·æ¥è¿™ä¸ªç‰¹å¾å¯¹é¢„æµ‹å»ºç­‘ç‰©çš„scoreå¾ˆé‡è¦ã€‚ 2.6 å¤šå˜é‡åˆ†æžï¼ˆpairs plotï¼‰æˆ‘ä»¬è¿˜å¯ä»¥åœ¨å‡ ä¸ªä¸åŒçš„å˜é‡ä¹‹é—´å»ºç«‹Pairs Plotã€‚ Pairs Plotæ˜¯ä¸€æ¬¡æ£€æŸ¥å¤šä¸ªå˜é‡çš„å¥½æ–¹æ³•ï¼Œå› ä¸ºå®ƒæ˜¾ç¤ºäº†å¯¹è§’çº¿ä¸Šçš„å˜é‡å¯¹å’Œå•ä¸ªå˜é‡ç›´æ–¹å›¾ä¹‹é—´çš„æ•£ç‚¹å›¾ã€‚ ä½¿ç”¨seaborn PairGridå‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¸åŒçš„å›¾ç»˜åˆ¶åˆ°ç½‘æ ¼ä¸­: ä¸Šä¸‰è§’ï¼šæ•£ç‚¹å›¾ å¯¹è§’çº¿ï¼šç›´æ–¹å›¾ ä¸‹ä¸‰è§’ï¼šä¸¤ä¸ªå˜é‡ä¹‹é—´çš„ç›¸å…³ç³»æ•°å’Œä¸¤ä¸ªå˜é‡çš„2-Dæ ¸å¯†åº¦ä¼°è®¡ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839# æå–éœ€è¦ç»˜åˆ¶çš„å˜é‡plot_data = features[['score', 'Site EUI (kBtu/ftÂ²)', 'Weather Normalized Source EUI (kBtu/ftÂ²)', 'log_Total GHG Emissions (Metric Tons CO2e)']]# ä½¿ç”¨nanä»£æ›¿infplot_data = plot_data.replace(&#123;np.inf: np.nan, -np.inf:np.nan&#125;)# é‡å‘½ååˆ—plot_data = plot_data.rename(columns = &#123;'Site EUI (kBtu/ftÂ²)': 'Site EUI', 'Weather Normalized Source EUI (kBtu/ftÂ²)': 'Weather Norm EUI', 'log_Total GHG Emissions (Metric Tons CO2e)': 'log GHG Emissions'&#125;)# åˆ é™¤ç¼ºå¤±å€¼plot_data = plot_data.dropna()# ç”¨äºŽè®¡ç®—ä¸¤ä¸ªç‰¹å¾çš„ç›¸å…³ç³»æ•°çš„å‡½æ•°def corr_func(x, y, **kwargs): # è®¡ç®—çš®å°”é€Šç§¯çŸ©ç›¸å…³ç³»æ•° r = np.corrcoef(x, y)[0][1] ax = plt.gca() ax.annotate("r = &#123;:.2f&#125;".format(r), xy=(.2, .8), xycoords=ax.transAxes, size = 20)# åˆ›å»ºç»˜å›¾ç½‘æ ¼çŸ©é˜µgrid = sns.PairGrid(data = plot_data, size = 3)# ä¸Šä¸‰è§’ï¼šæ•£ç‚¹å›¾grid.map_upper(plt.scatter, color = 'red', alpha = 0.6)# å¯¹è§’çº¿ï¼šç›´æ–¹å›¾grid.map_diag(plt.hist, color = 'red', edgecolor = 'black')# ä¸‹ä¸‰è§’ï¼šä¸¤ä¸ªå˜é‡ä¹‹é—´çš„ç›¸å…³ç³»æ•°å’Œä¸¤ä¸ªå˜é‡çš„2-Dæ ¸å¯†åº¦ä¼°è®¡grid.map_lower(corr_func);grid.map_lower(sns.kdeplot, cmap = plt.cm.Reds)# æ•´å¼ å›¾çš„æ ‡é¢˜plt.suptitle('Pairs Plot of Energy Data', size = 36, y = 1.02); C:\Users\huangqiancun\Anaconda3\lib\site-packages\seaborn\axisgrid.py:1241: UserWarning: The `size` paramter has been renamed to `height`; please update your code. warnings.warn(UserWarning(msg)) ä¸ºäº†è§£é‡Šå›¾ä¸­çš„å…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥æ‰¾ä¸€è¡Œä¸­çš„å˜é‡ä¸Žä¸€åˆ—ä¸­çš„å˜é‡ç›¸äº¤çš„ä½ç½®ã€‚ ä¾‹å¦‚ï¼Œ è¦æŸ¥æ‰¾scoreä¸Žlog of GHG Emissionsä¹‹é—´çš„å…³ç³»ï¼Œæˆ‘ä»¬ä¼šæŸ¥çœ‹scoreåˆ—å’Œ log of GHG Emissionsè¡Œã€‚åœ¨äº¤å‰ç‚¹ï¼ˆå·¦ä¸‹å›¾ï¼‰ï¼Œæˆ‘ä»¬çœ‹åˆ°åˆ†æ•°ä¸Žè¯¥å˜é‡çš„ç›¸å…³ç³»æ•°ä¸º-0.35ã€‚å¦‚æžœæˆ‘ä»¬æŸ¥çœ‹å¯¹åº”çš„å³ä¸Šè§’å›¾ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™ç§å…³ç³»çš„æ•£ç‚¹å›¾ã€‚ åŒæ ·ï¼Œè¦æŸ¥çœ‹Weather EUorm EUIä¸Žscoreçš„ç›¸å…³æ€§ï¼Œæˆ‘ä»¬æŸ¥çœ‹Weather EUorm EUIè¡Œå’Œscoreåˆ—ï¼Œå¯ä»¥çœ‹åˆ°ç›¸å…³ç³»æ•°ä¸º-0.67ã€‚ 3 ç‰¹å¾å·¥ç¨‹å’Œç‰¹å¾é€‰æ‹©çŽ°åœ¨æˆ‘ä»¬å·²ç»æŽ¢ç´¢äº†æ•°æ®ä¸­çš„è¶‹åŠ¿å’Œå…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºæˆ‘ä»¬çš„æ¨¡åž‹è®¾è®¡ä¸€ç»„åŠŸèƒ½ã€‚ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨EDAçš„ç»“æžœæ¥è¿›è¡Œç‰¹å¾å·¥ç¨‹ã€‚ ç‰¹åˆ«æ˜¯ï¼Œæˆ‘ä»¬ä»ŽEDAå­¦åˆ°äº†ä»¥ä¸‹çŸ¥è¯†ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬è®¾è®¡/é€‰æ‹©ç‰¹å¾ï¼š åˆ†æ•°scoreåˆ†å¸ƒå› å»ºç­‘ç±»åž‹typeè€Œå¼‚ï¼Œå¹¶ä¸”åœ¨è¾ƒå°ç¨‹åº¦ä¸Šå› è¡Œæ”¿åŒºBoroughè€Œå¼‚ã€‚ å› æ­¤æˆ‘ä»¬ä¸ä»…éœ€è¦å…³æ³¨æ•°å€¼ç‰¹å¾ï¼Œè¿˜åº”è¯¥åœ¨æ¨¡åž‹ä¸­åŒ…å«è¿™ä¸¤ä¸ªç±»åˆ«ç‰¹å¾ï¼› å¯¹ç‰¹å¾è¿›è¡Œå¯¹æ•°æˆ–å¹³æ–¹æ ¹å˜æ¢ä¸ä¼šå¯¼è‡´ç‰¹å¾ä¸Žåˆ†æ•°ä¹‹é—´çš„çº¿æ€§ç›¸å…³æ€§æ˜¾ç€å¢žåŠ ã€‚ åœ¨æˆ‘ä»¬è¿›ä¸€æ­¥è®¨è®ºä¹‹å‰ï¼Œæˆ‘ä»¬åº”è¯¥ç†è§£ç‰¹å¾å·¥ç¨‹å’Œç‰¹å¾é€‰æ‹©ï¼Œè¿™äº›å®šä¹‰æ˜¯éžæ­£å¼çš„ï¼Œå¹¶ä¸”æœ‰ç›¸å½“å¤§çš„é‡å ï¼Œä½†æˆ‘å–œæ¬¢å°†å®ƒä»¬è§†ä¸ºä¸¤ä¸ªç‹¬ç«‹çš„è¿‡ç¨‹ï¼š ç‰¹å¾å·¥ç¨‹: èŽ·å–åŽŸå§‹æ•°æ®å¹¶æå–æˆ–åˆ›å»ºæ–°ç‰¹å¾çš„è¿‡ç¨‹ï¼Œè¿™äº›ç‰¹å¾å…è®¸æœºå™¨å­¦ä¹ æ¨¡åž‹å­¦ä¹ è¿™äº›ç‰¹å¾ä¸Žç›®æ ‡ä¹‹é—´çš„æ˜ å°„ã€‚ è¿™å¯èƒ½æ„å‘³ç€å¯¹å˜é‡è¿›è¡Œè½¬æ¢ï¼Œä¾‹å¦‚æˆ‘ä»¬å¯¹æ•°å€¼ç‰¹å¾è¿›è¡Œå¯¹æ•°å’Œå¹³æ–¹æ ¹è½¬æ¢ï¼Œæˆ–è€…å¯¹ç±»åˆ«å˜é‡ä½¿ç”¨ç‹¬çƒ­ç¼–ç ï¼Œä»¥ä¾¿å¯ä»¥åœ¨æ¨¡åž‹ä¸­ä½¿ç”¨å®ƒä»¬ã€‚ é€šå¸¸ï¼Œæˆ‘è®¤ä¸ºç‰¹å¾å·¥ç¨‹æ˜¯æ·»åŠ ä»ŽåŽŸå§‹æ•°æ®æ´¾ç”Ÿçš„é™„åŠ ç‰¹å¾ã€‚ ç‰¹å¾é€‰æ‹©: é€‰æ‹©æ•°æ®ä¸­æœ€ç›¸å…³ç‰¹å¾çš„è¿‡ç¨‹ã€‚ â€œæœ€ç›¸å…³â€å¯èƒ½å–å†³äºŽè®¸å¤šå› ç´ ï¼Œä½†å®ƒå¯èƒ½ä¸Žç›®æ ‡çš„æœ€é«˜ç›¸å…³æ€§æˆ–å…·æœ‰æœ€å¤§å·®å¼‚çš„ç‰¹å¾most varianceã€‚ åœ¨ç‰¹å¾é€‰æ‹©ä¸­ï¼Œæˆ‘ä»¬ä¼šåˆ é™¤å¯¹æ¨¡åž‹å­¦ä¹ æ— ç”¨çš„ç‰¹å¾ã€‚ è¿™å¯ä»¥å¸®åŠ©æ¨¡åž‹æ›´å¥½åœ°æ¦‚æ‹¬æ–°æ•°æ®å¹¶äº§ç”Ÿæ›´å¯è§£é‡Šçš„æ¨¡åž‹ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘è®¤ä¸ºç‰¹å¾é€‰æ‹©æ˜¯å‡åŽ»ç‰¹å¾ï¼Œæ‰€ä»¥æˆ‘ä»¬åªç•™ä¸‹æœ€é‡è¦çš„ç‰¹å¾ã€‚ ç‰¹å¾å·¥ç¨‹å’Œé€‰æ‹©æ˜¯è¿­ä»£è¿‡ç¨‹ï¼Œé€šå¸¸éœ€è¦å¤šæ¬¡å°è¯•æ‰èƒ½å¾—åˆ°è¾ƒå¥½çš„ç»“æžœã€‚ é€šå¸¸ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨å»ºæ¨¡ç»“æžœï¼ˆä¾‹å¦‚æ¥è‡ªéšæœºæ£®æž—çš„ç‰¹å¾é‡è¦æ€§æŽ’åºï¼‰è¿”å›žå¹¶é‡åšç‰¹å¾é€‰æ‹©ï¼Œæˆ–è€…éœ€è¦åˆ›å»ºæ–°ç‰¹å¾çš„å…³ç³»ã€‚ æ­¤å¤–ï¼Œè¿™äº›è¿‡ç¨‹é€šå¸¸åŒ…å«é¢†åŸŸçŸ¥è¯†å’Œæ•°æ®ç»Ÿè®¡è´¨é‡çš„æ··åˆã€‚ ç‰¹å¾å·¥ç¨‹å’Œé€‰æ‹© å¯¹äºŽèŽ·å¾—ä¸€ä¸ªé«˜ç²¾åº¦çš„æœºå™¨å­¦ä¹ æ¨¡åž‹è‡³å…³é‡è¦ã€‚ å®ƒå¯èƒ½éœ€è¦è€—è´¹å¾ˆé•¿æ—¶é—´ï¼Œä½†é€šå¸¸æ¯”ç”¨äºŽæ¨¡åž‹çš„ç®—æ³•å’Œè¶…å‚æ•°é€‰æ‹©æ›´é‡è¦ã€‚ å¦‚æžœæˆ‘ä»¬ä¸ä¸ºæ¨¡åž‹æä¾›æ­£ç¡®çš„æ•°æ®ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°†å…¶è§†ä¸ºå¤±è´¥ï¼Œæˆ‘ä»¬ä¸åº”æœŸæœ›å®ƒèƒ½å¤Ÿå­¦ä¹ ï¼ åœ¨æœ¬é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å°†é‡‡ç”¨ä»¥ä¸‹æ­¥éª¤è¿›è¡Œç‰¹å¾å·¥ç¨‹ï¼š ä»…é€‰æ‹©æ•°å€¼å˜é‡å’Œä¸¤ä¸ªåˆ†ç±»å˜é‡ï¼ˆè¡Œæ”¿åŒºboroughå’Œå»ºç­‘ç‰©ç±»åž‹property use typeï¼‰ å¯¹æ•°å€¼å˜é‡è¿›è¡Œå¯¹æ•°å˜æ¢ å¯¹ç±»åˆ«å˜é‡è¿›è¡ŒOne-hotç¼–ç  å¯¹äºŽç‰¹å¾é€‰æ‹©ï¼Œæˆ‘ä»¬å°†æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š åˆ é™¤å…±çº¿æ€§ç‰¹å¾ å½“æˆ‘ä»¬è¿›è¡Œç‰¹å¾é€‰æ‹©æ—¶ï¼Œæˆ‘ä»¬å°†è®¨è®ºå…±çº¿æ€§ï¼ˆä¹Ÿç§°ä¸ºå¤šé‡å…±çº¿æ€§ï¼‰ï¼ ä»¥ä¸‹ä»£ç é€‰æ‹©æ•°å€¼ç‰¹å¾ï¼Œå¹¶è¿›è¡Œå¯¹æ•°å˜æ¢ï¼Œé€‰æ‹©ç±»åˆ«ç‰¹å¾è¿›è¡Œç‹¬çƒ­ç¼–ç ï¼Œå¹¶å°†ç‰¹å¾æ‹¼æŽ¥åœ¨ä¸€èµ·ã€‚ 1234567891011121314151617181920212223# å¤åˆ¶åŽŸå§‹æ•°æ®features = data.copy# é€‰æ‹©æ•°å€¼ç‰¹å¾numeric_subset = data.select_dtypes('number')# å¯¹æ¯ä¸€ä¸ªæ•°å€¼ç‰¹å¾è¿›è¡Œå¯¹æ•°å˜æ¢for col in numeric_subset.columns: # scoreä¸ºè¦é¢„æµ‹çš„ç›®æ ‡å˜é‡ï¼Œè·³è¿‡ if col == 'score': next else: numeric_subset['log_' + col] = np.log(numeric_subset[col])# é€‰æ‹©ç±»åˆ«ç‰¹å¾categorical_subset = data[['Borough', 'Largest Property Use Type']]# è¿›è¡Œç‹¬çƒ­ç¼–ç categorical_subset = pd.get_dummies(categorical_subset)# åˆ—æ‹¼æŽ¥ï¼Œaxis = 1features = pd.concat([numeric_subset, categorical_subset], axis = 1)features.shape C:\Users\huangqiancun\Anaconda3\lib\site-packages\ipykernel_launcher.py:13: RuntimeWarning: divide by zero encountered in log del sys.path[0] C:\Users\huangqiancun\Anaconda3\lib\site-packages\ipykernel_launcher.py:13: RuntimeWarning: invalid value encountered in log del sys.path[0] (11319, 110) æ­¤æ—¶ï¼Œæˆ‘ä»¬æœ‰11319ä¸ªè§‚æµ‹ï¼ˆå»ºç­‘ç‰©ï¼‰ï¼Œå…·æœ‰109ä¸ªä¸åŒçš„ç‰¹å¾ï¼ˆå…¶ä¸­ä¸€åˆ—æ˜¯åˆ†æ•°scoreï¼‰ã€‚ å¹¶éžæ‰€æœ‰è¿™äº›ç‰¹å¾å¯¹äºŽé¢„æµ‹åˆ†æ•°æœ‰å¸®åŠ©ï¼Œå…¶ä¸­ä¸€äº›ç‰¹å¾ä¹Ÿè®¸æ˜¯å¤šä½™çš„ï¼Œå› ä¸ºå®ƒä»¬å…·æœ‰é«˜åº¦ç›¸å…³æ€§ã€‚ æˆ‘ä»¬å°†åœ¨ä¸‹é¢è®¨è®ºç¬¬äºŒä¸ªé—®é¢˜ã€‚ 3.1 åˆ é™¤å…±çº¿æ€§ç‰¹å¾é«˜å…±çº¿ç‰¹å¾åœ¨å®ƒä»¬ä¹‹é—´å…·æœ‰æ˜¾ç€çš„ç›¸å…³ç³»æ•°ã€‚ ä¾‹å¦‚ï¼Œåœ¨æˆ‘ä»¬çš„æ•°æ®é›†ä¸­ï¼ŒSite EUIå’ŒWeather Normalized Site EUIé«˜åº¦ç›¸å…³ï¼Œå› ä¸ºå®ƒä»¬åªæ˜¯ç•¥å¾®ä¸åŒçš„è®¡ç®—èƒ½æºä½¿ç”¨å¼ºåº¦çš„æ–¹æ³•ã€‚ 12345plot_data = data[['Weather Normalized Site EUI (kBtu/ftÂ²)', 'Site EUI (kBtu/ftÂ²)']].dropna()plt.plot(plot_data['Site EUI (kBtu/ftÂ²)'], plot_data['Weather Normalized Site EUI (kBtu/ftÂ²)'], 'bo')plt.xlabel('Site EUI')plt.ylabel('Weather Norm EUI')plt.title('Weather Norm EUI vs Site EUI, R = %0.4f' % np.corrcoef(data[['Weather Normalized Site EUI (kBtu/ftÂ²)', 'Site EUI (kBtu/ftÂ²)']].dropna(), rowvar=False)[0][1]); é«˜åº¦å…±çº¿æ€§çš„ç‰¹å¾å¯èƒ½æ˜¯å¤šä½™çš„ï¼Œæˆ‘ä»¬åªéœ€ä¿ç•™å…¶ä¸­ä¸€ä¸ªç‰¹å¾å³å¯ä¸ºæ¨¡åž‹æä¾›å¿…è¦çš„ä¿¡æ¯ã€‚ åˆ é™¤å…±çº¿æ€§ç‰¹å¾æ˜¯ä¸€ç§é€šè¿‡å‡å°‘ç‰¹å¾æ•°é‡æ¥é™ä½Žæ¨¡åž‹å¤æ‚æ€§çš„æ–¹æ³•ï¼Œå¯ä»¥æé«˜æ¨¡åž‹æ³›åŒ–èƒ½åŠ›ã€‚ å®ƒè¿˜å¯ä»¥å¸®åŠ©æˆ‘ä»¬è§£é‡Šæ¨¡åž‹ï¼Œå› ä¸ºæˆ‘ä»¬åªéœ€è¦è€ƒè™‘å•ä¸€å˜é‡ï¼Œä¾‹å¦‚EUIï¼Œè€Œä¸æ˜¯ EUI å’Œ weather normalized EUI å¦‚ä½•å½±å“åˆ†æ•°ã€‚ æœ‰è®¸å¤šæ–¹æ³•å¯ä»¥æ¶ˆé™¤å…±çº¿ç‰¹å¾ï¼Œä¾‹å¦‚ä½¿ç”¨æ–¹å·®è†¨èƒ€å› å­ã€‚ æˆ‘ä»¬å°†ä½¿ç”¨æ›´ç®€å•çš„åº¦é‡ï¼Œå¹¶åˆ é™¤å…·æœ‰é«˜äºŽæŸä¸ªé˜ˆå€¼çš„ç›¸å…³ç³»æ•°çš„ç‰¹å¾ï¼ˆä¸æ˜¯åˆ†æ•°ï¼Œå› ä¸ºæˆ‘ä»¬éœ€è¦ä¸Žåˆ†æ•°é«˜åº¦ç›¸å…³çš„ç‰¹å¾ï¼ï¼‰æœ‰å…³åˆ é™¤å…±çº¿æ€§ç‰¹å¾çš„æ›´å…¨é¢çš„è®¨è®ºï¼Œ å¯ä»¥çœ‹Kaggleçš„è¿™ä¸ªnotebookã€‚ ä»¥ä¸‹ä»£ç é€šè¿‡åˆ é™¤æ‰€æ¯”è¾ƒçš„ä¸¤ä¸ªç‰¹å¾ä¹‹ä¸€ï¼Œæ ¹æ®æˆ‘ä»¬ä¸ºç›¸å…³ç³»æ•°é€‰æ‹©çš„é˜ˆå€¼æ¥ç§»é™¤å…±çº¿æ€§ç‰¹å¾ã€‚ å®ƒè¿˜ä¼šæ‰“å°å®ƒåˆ é™¤çš„ç›¸å…³æ€§ï¼Œä»¥ä¾¿æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è°ƒæ•´é˜ˆå€¼çš„æ•ˆæžœã€‚ æˆ‘ä»¬å°†ä½¿ç”¨0.6çš„é˜ˆå€¼ï¼Œå¦‚æžœç‰¹å¾ä¹‹é—´çš„ç›¸å…³ç³»æ•°è¶…è¿‡è¯¥å€¼ï¼Œåˆ™åˆ é™¤ä¸€å¯¹ç‰¹å¾ä¸­çš„ä¸€ä¸ªã€‚ ä»£ç æ”¹ç¼–è‡ªStack Overflowçš„ç­”æ¡ˆã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051def remove_collinear_features(x, threshold): ''' Objective: Remove collinear features in a dataframe with a correlation coefficient greater than the threshold. Removing collinear features can help a model to generalize and improves the interpretability of the model. Inputs: threshold: any features with correlations greater than this value are removed Output: dataframe that contains only the non-highly-collinear features ''' # ä¸è¦åˆ é™¤ä¸Žç›®æ ‡å˜é‡scoreä¹‹é—´çš„ç›¸å…³æ€§ y = x['score'] x = x.drop(columns = ['score']) # è®¡ç®—ç›¸å…³æ€§çŸ©é˜µ corr_matrix = x.corr() iters = range(len(corr_matrix.columns) - 1) drop_cols = [] # éåŽ†ç›¸å…³æ€§çŸ©é˜µå¹¶è¿›è¡Œæ¯”è¾ƒ for i in iters: for j in range(i): item = corr_matrix.iloc[j:(j+1), (i+1):(i+2)] col = item.columns row = item.index val = abs(item.values) # å¦‚æžœæœ‰ç›¸å…³æ€§è¶…è¿‡é˜ˆå€¼ if val &gt;= threshold: # Print the correlated features and the correlation value print(col.values[0], "|", row.values[0], "|", round(val[0][0], 2)) drop_cols.append(col.values[0]) # åˆ é™¤æ¯å¯¹ç›¸å…³ç‰¹å¾ä¸­çš„ä¸€ä¸ª drops = set(drop_cols) x = x.drop(columns = drops) # åˆ é™¤å…·æœ‰æ˜Žæ˜¾ç›¸å…³æ€§çš„ç‰¹å¾ï¼ŒçŸ¥è¯†è®¡ç®—æ–¹å¼ä¸åŒ x = x.drop(columns = ['Weather Normalized Site EUI (kBtu/ftÂ²)', 'Water Use (All Water Sources) (kgal)', 'log_Water Use (All Water Sources) (kgal)', 'Largest Property Use Type - Gross Floor Area (ftÂ²)']) # å°†ç›®æ ‡å˜é‡æ·»åŠ å›žæ•°æ®å¸§ x['score'] = y return x 12# åˆ é™¤ç›¸å…³ç³»æ•°å¤§äºŽæŒ‡å®šé˜ˆå€¼çš„ç‰¹å¾features = remove_collinear_features(features, 0.6) Weather Normalized Source EUI (kBtu/ftÂ²) | Site EUI (kBtu/ftÂ²) | 0.83 Weather Normalized Source EUI (kBtu/ftÂ²) | Weather Normalized Site EUI (kBtu/ftÂ²) | 0.81 Weather Normalized Source EUI (kBtu/ftÂ²) | Weather Normalized Site Electricity Intensity (kWh/ftÂ²) | 0.85 Natural Gas Use (kBtu) | Largest Property Use Type - Gross Floor Area (ftÂ²) | 0.61 Weather Normalized Site Natural Gas Use (therms) | Largest Property Use Type - Gross Floor Area (ftÂ²) | 0.61 Electricity Use - Grid Purchase (kBtu) | DOF Gross Floor Area | 0.63 Electricity Use - Grid Purchase (kBtu) | Largest Property Use Type - Gross Floor Area (ftÂ²) | 0.67 Weather Normalized Site Electricity (kWh) | DOF Gross Floor Area | 0.66 Weather Normalized Site Electricity (kWh) | Largest Property Use Type - Gross Floor Area (ftÂ²) | 0.66 Total GHG Emissions (Metric Tons CO2e) | DOF Gross Floor Area | 0.75 Total GHG Emissions (Metric Tons CO2e) | Largest Property Use Type - Gross Floor Area (ftÂ²) | 0.79 Total GHG Emissions (Metric Tons CO2e) | Natural Gas Use (kBtu) | 0.69 Total GHG Emissions (Metric Tons CO2e) | Weather Normalized Site Natural Gas Use (therms) | 0.69 Total GHG Emissions (Metric Tons CO2e) | Electricity Use - Grid Purchase (kBtu) | 0.92 Direct GHG Emissions (Metric Tons CO2e) | Natural Gas Use (kBtu) | 0.97 Direct GHG Emissions (Metric Tons CO2e) | Weather Normalized Site Natural Gas Use (therms) | 0.96 Indirect GHG Emissions (Metric Tons CO2e) | DOF Gross Floor Area | 0.61 Indirect GHG Emissions (Metric Tons CO2e) | Largest Property Use Type - Gross Floor Area (ftÂ²) | 0.64 Indirect GHG Emissions (Metric Tons CO2e) | Electricity Use - Grid Purchase (kBtu) | 0.95 Indirect GHG Emissions (Metric Tons CO2e) | Weather Normalized Site Electricity (kWh) | 0.95 Indirect GHG Emissions (Metric Tons CO2e) | Total GHG Emissions (Metric Tons CO2e) | 0.87 Property GFA - Self-Reported (ftÂ²) | DOF Gross Floor Area | 0.86 Property GFA - Self-Reported (ftÂ²) | Largest Property Use Type - Gross Floor Area (ftÂ²) | 0.99 Property GFA - Self-Reported (ftÂ²) | Natural Gas Use (kBtu) | 0.6 Property GFA - Self-Reported (ftÂ²) | Weather Normalized Site Natural Gas Use (therms) | 0.6 Property GFA - Self-Reported (ftÂ²) | Electricity Use - Grid Purchase (kBtu) | 0.7 Property GFA - Self-Reported (ftÂ²) | Weather Normalized Site Electricity (kWh) | 0.7 Property GFA - Self-Reported (ftÂ²) | Total GHG Emissions (Metric Tons CO2e) | 0.81 Source EUI (kBtu/ftÂ²) | Site EUI (kBtu/ftÂ²) | 0.81 Source EUI (kBtu/ftÂ²) | Weather Normalized Site EUI (kBtu/ftÂ²) | 0.79 Source EUI (kBtu/ftÂ²) | Weather Normalized Site Electricity Intensity (kWh/ftÂ²) | 0.86 Source EUI (kBtu/ftÂ²) | Weather Normalized Source EUI (kBtu/ftÂ²) | 1.0 Council District | Order | 0.86 Council District | Latitude | 0.68 log_Order | Order | 0.88 log_Order | Council District | 0.64 log_Property Id | Property Id | 0.93 log_DOF Gross Floor Area | DOF Gross Floor Area | 0.69 log_DOF Gross Floor Area | Largest Property Use Type - Gross Floor Area (ftÂ²) | 0.63 log_DOF Gross Floor Area | Electricity Use - Grid Purchase (kBtu) | 0.62 log_DOF Gross Floor Area | Weather Normalized Site Electricity (kWh) | 0.62 log_DOF Gross Floor Area | Total GHG Emissions (Metric Tons CO2e) | 0.65 log_DOF Gross Floor Area | Property GFA - Self-Reported (ftÂ²) | 0.65 log_Largest Property Use Type - Gross Floor Area (ftÂ²) | DOF Gross Floor Area | 0.61 log_Largest Property Use Type - Gross Floor Area (ftÂ²) | Largest Property Use Type - Gross Floor Area (ftÂ²) | 0.68 log_Largest Property Use Type - Gross Floor Area (ftÂ²) | Total GHG Emissions (Metric Tons CO2e) | 0.63 log_Largest Property Use Type - Gross Floor Area (ftÂ²) | Property GFA - Self-Reported (ftÂ²) | 0.68 log_Year Built | Year Built | 1.0 log_Number of Buildings - Self-reported | Number of Buildings - Self-reported | 0.73 log_Occupancy | Occupancy | 0.93 log_Site EUI (kBtu/ftÂ²) | Site EUI (kBtu/ftÂ²) | 0.87 log_Site EUI (kBtu/ftÂ²) | Weather Normalized Site EUI (kBtu/ftÂ²) | 0.87 log_Site EUI (kBtu/ftÂ²) | Weather Normalized Source EUI (kBtu/ftÂ²) | 0.71 log_Site EUI (kBtu/ftÂ²) | Source EUI (kBtu/ftÂ²) | 0.69 log_Weather Normalized Site EUI (kBtu/ftÂ²) | Site EUI (kBtu/ftÂ²) | 0.86 log_Weather Normalized Site EUI (kBtu/ftÂ²) | Weather Normalized Site EUI (kBtu/ftÂ²) | 0.86 log_Weather Normalized Site EUI (kBtu/ftÂ²) | Weather Normalized Source EUI (kBtu/ftÂ²) | 0.69 log_Weather Normalized Site EUI (kBtu/ftÂ²) | Source EUI (kBtu/ftÂ²) | 0.68 log_Weather Normalized Site Electricity Intensity (kWh/ftÂ²) | Weather Normalized Site Electricity Intensity (kWh/ftÂ²) | 0.86 log_Weather Normalized Site Electricity Intensity (kWh/ftÂ²) | Weather Normalized Source EUI (kBtu/ftÂ²) | 0.77 log_Weather Normalized Site Electricity Intensity (kWh/ftÂ²) | Source EUI (kBtu/ftÂ²) | 0.77 log_Weather Normalized Site Natural Gas Intensity (therms/ftÂ²) | Weather Normalized Site Natural Gas Intensity (therms/ftÂ²) | 0.93 log_Weather Normalized Source EUI (kBtu/ftÂ²) | Site EUI (kBtu/ftÂ²) | 0.78 log_Weather Normalized Source EUI (kBtu/ftÂ²) | Weather Normalized Site EUI (kBtu/ftÂ²) | 0.78 log_Weather Normalized Source EUI (kBtu/ftÂ²) | Weather Normalized Site Electricity Intensity (kWh/ftÂ²) | 0.65 log_Weather Normalized Source EUI (kBtu/ftÂ²) | Weather Normalized Source EUI (kBtu/ftÂ²) | 0.84 log_Weather Normalized Source EUI (kBtu/ftÂ²) | Source EUI (kBtu/ftÂ²) | 0.84 log_Weather Normalized Source EUI (kBtu/ftÂ²) | log_Site EUI (kBtu/ftÂ²) | 0.91 log_Weather Normalized Source EUI (kBtu/ftÂ²) | log_Weather Normalized Site EUI (kBtu/ftÂ²) | 0.9 log_Weather Normalized Source EUI (kBtu/ftÂ²) | log_Weather Normalized Site Electricity Intensity (kWh/ftÂ²) | 0.76 log_Natural Gas Use (kBtu) | Weather Normalized Site Natural Gas Intensity (therms/ftÂ²) | 0.73 log_Natural Gas Use (kBtu) | log_Weather Normalized Site Natural Gas Intensity (therms/ftÂ²) | 0.72 log_Weather Normalized Site Natural Gas Use (therms) | Weather Normalized Site Natural Gas Intensity (therms/ftÂ²) | 0.73 log_Weather Normalized Site Natural Gas Use (therms) | log_Weather Normalized Site Natural Gas Intensity (therms/ftÂ²) | 0.72 log_Electricity Use - Grid Purchase (kBtu) | Weather Normalized Site Electricity Intensity (kWh/ftÂ²) | 0.69 log_Electricity Use - Grid Purchase (kBtu) | Electricity Use - Grid Purchase (kBtu) | 0.62 log_Electricity Use - Grid Purchase (kBtu) | Weather Normalized Site Electricity (kWh) | 0.62 log_Electricity Use - Grid Purchase (kBtu) | log_DOF Gross Floor Area | 0.74 log_Electricity Use - Grid Purchase (kBtu) | log_Largest Property Use Type - Gross Floor Area (ftÂ²) | 0.73 log_Electricity Use - Grid Purchase (kBtu) | log_Weather Normalized Site Electricity Intensity (kWh/ftÂ²) | 0.79 log_Weather Normalized Site Electricity (kWh) | Weather Normalized Site Electricity Intensity (kWh/ftÂ²) | 0.69 log_Weather Normalized Site Electricity (kWh) | Electricity Use - Grid Purchase (kBtu) | 0.62 log_Weather Normalized Site Electricity (kWh) | Weather Normalized Site Electricity (kWh) | 0.62 log_Weather Normalized Site Electricity (kWh) | log_DOF Gross Floor Area | 0.75 log_Weather Normalized Site Electricity (kWh) | log_Largest Property Use Type - Gross Floor Area (ftÂ²) | 0.74 log_Weather Normalized Site Electricity (kWh) | log_Weather Normalized Site Electricity Intensity (kWh/ftÂ²) | 0.79 log_Total GHG Emissions (Metric Tons CO2e) | Total GHG Emissions (Metric Tons CO2e) | 0.63 log_Total GHG Emissions (Metric Tons CO2e) | log_DOF Gross Floor Area | 0.73 log_Total GHG Emissions (Metric Tons CO2e) | log_Largest Property Use Type - Gross Floor Area (ftÂ²) | 0.76 log_Total GHG Emissions (Metric Tons CO2e) | log_Site EUI (kBtu/ftÂ²) | 0.6 log_Total GHG Emissions (Metric Tons CO2e) | log_Weather Normalized Source EUI (kBtu/ftÂ²) | 0.67 log_Total GHG Emissions (Metric Tons CO2e) | log_Electricity Use - Grid Purchase (kBtu) | 0.84 log_Indirect GHG Emissions (Metric Tons CO2e) | Weather Normalized Site Electricity Intensity (kWh/ftÂ²) | 0.68 log_Indirect GHG Emissions (Metric Tons CO2e) | Electricity Use - Grid Purchase (kBtu) | 0.62 log_Indirect GHG Emissions (Metric Tons CO2e) | Weather Normalized Site Electricity (kWh) | 0.62 log_Indirect GHG Emissions (Metric Tons CO2e) | log_DOF Gross Floor Area | 0.74 log_Indirect GHG Emissions (Metric Tons CO2e) | log_Largest Property Use Type - Gross Floor Area (ftÂ²) | 0.73 log_Indirect GHG Emissions (Metric Tons CO2e) | log_Weather Normalized Site Electricity Intensity (kWh/ftÂ²) | 0.77 log_Indirect GHG Emissions (Metric Tons CO2e) | log_Electricity Use - Grid Purchase (kBtu) | 0.99 log_Indirect GHG Emissions (Metric Tons CO2e) | log_Weather Normalized Site Electricity (kWh) | 0.99 log_Indirect GHG Emissions (Metric Tons CO2e) | log_Total GHG Emissions (Metric Tons CO2e) | 0.84 log_Property GFA - Self-Reported (ftÂ²) | DOF Gross Floor Area | 0.61 log_Property GFA - Self-Reported (ftÂ²) | Largest Property Use Type - Gross Floor Area (ftÂ²) | 0.67 log_Property GFA - Self-Reported (ftÂ²) | Electricity Use - Grid Purchase (kBtu) | 0.61 log_Property GFA - Self-Reported (ftÂ²) | Weather Normalized Site Electricity (kWh) | 0.61 log_Property GFA - Self-Reported (ftÂ²) | Total GHG Emissions (Metric Tons CO2e) | 0.64 log_Property GFA - Self-Reported (ftÂ²) | Property GFA - Self-Reported (ftÂ²) | 0.69 log_Property GFA - Self-Reported (ftÂ²) | log_DOF Gross Floor Area | 0.92 log_Property GFA - Self-Reported (ftÂ²) | log_Largest Property Use Type - Gross Floor Area (ftÂ²) | 0.98 log_Property GFA - Self-Reported (ftÂ²) | log_Electricity Use - Grid Purchase (kBtu) | 0.75 log_Property GFA - Self-Reported (ftÂ²) | log_Weather Normalized Site Electricity (kWh) | 0.76 log_Property GFA - Self-Reported (ftÂ²) | log_Total GHG Emissions (Metric Tons CO2e) | 0.77 log_Source EUI (kBtu/ftÂ²) | Site EUI (kBtu/ftÂ²) | 0.78 log_Source EUI (kBtu/ftÂ²) | Weather Normalized Site EUI (kBtu/ftÂ²) | 0.77 log_Source EUI (kBtu/ftÂ²) | Weather Normalized Site Electricity Intensity (kWh/ftÂ²) | 0.66 log_Source EUI (kBtu/ftÂ²) | Weather Normalized Source EUI (kBtu/ftÂ²) | 0.85 log_Source EUI (kBtu/ftÂ²) | Source EUI (kBtu/ftÂ²) | 0.85 log_Source EUI (kBtu/ftÂ²) | log_Site EUI (kBtu/ftÂ²) | 0.9 log_Source EUI (kBtu/ftÂ²) | log_Weather Normalized Site EUI (kBtu/ftÂ²) | 0.89 log_Source EUI (kBtu/ftÂ²) | log_Weather Normalized Site Electricity Intensity (kWh/ftÂ²) | 0.78 log_Source EUI (kBtu/ftÂ²) | log_Weather Normalized Source EUI (kBtu/ftÂ²) | 1.0 log_Source EUI (kBtu/ftÂ²) | log_Total GHG Emissions (Metric Tons CO2e) | 0.67 log_Latitude | Latitude | 1.0 log_Latitude | Council District | 0.68 log_Community Board | Community Board | 0.92 log_Council District C:\Users\huangqiancun\Anaconda3\lib\site-packages\ipykernel_launcher.py:33: RuntimeWarning: invalid value encountered in greater_equal | Order | 0.92 log_Council District | Council District | 0.91 log_Council District | log_Order | 0.79 log_Census Tract | Census Tract | 0.78 Borough_Bronx | Latitude | 0.62 Borough_Bronx | Longitude | 0.69 Borough_Bronx | log_Latitude | 0.62 Borough_Brooklyn | Latitude | 0.74 Borough_Brooklyn | Council District | 0.89 Borough_Brooklyn | log_Latitude | 0.74 Borough_Brooklyn | log_Council District | 0.75 Borough_Manhattan | Order | 0.81 Borough_Manhattan | Council District | 0.78 Borough_Manhattan | log_Order | 0.63 Borough_Manhattan | log_Council District | 0.84 Borough_Queens | Order | 0.62 Largest Property Use Type_Office | Largest Property Use Type_Multifamily Housing | 0.63 12features = features.dropna(axis=1, how = 'all')features.shape (11319, 65) æˆ‘ä»¬çš„æœ€ç»ˆæ•°æ®é›†æœ‰64ä¸ªç‰¹å¾ï¼ˆå…¶ä¸­ä¸€åˆ—æ˜¯ç›®æ ‡scoreï¼‰ã€‚ è¿™ä»ç„¶ä¸å°‘ï¼Œä½†ä¸»è¦æ˜¯å› ä¸ºæˆ‘ä»¬æœ‰ä¸€ä¸ªç‹¬çƒ­ç¼–ç çš„åˆ†ç±»å˜é‡ã€‚ è¯¸å¦‚çº¿æ€§å›žå½’ä¹‹ç±»çš„æ¨¡åž‹å¯èƒ½å­˜åœ¨å¤§é‡ç‰¹å¾ï¼Œ ä½†è¯¸å¦‚éšæœºæ£®æž—ä¹‹ç±»çš„æ¨¡åž‹æ‰§è¡Œéšå¼ç‰¹å¾é€‰æ‹©å¹¶è‡ªåŠ¨ç¡®å®šåœ¨è®­ç»ƒæœŸé—´å“ªäº›ç‰¹å¾æ˜¯é‡è¦çš„ã€‚ è¿˜æœ‰å…¶ä»–ç‰¹å¾é€‰æ‹©æ­¥éª¤ï¼Œä½†æ˜¯çŽ°åœ¨æˆ‘ä»¬å°†ä¿ç•™æˆ‘ä»¬æ‹¥æœ‰çš„æ‰€æœ‰ç‰¹å¾ç”¨äºŽè®­ç»ƒæ¨¡åž‹å¹¶æ£€éªŒæ¨¡åž‹çš„æ€§èƒ½ã€‚ å…¶ä»–é€‰æ‹©é€‰æ‹©æ–¹æ³•è¿˜æœ‰å¾ˆå¤šç‰¹å¾é€‰æ‹©çš„æ–¹æ³•ï¼Œæ¯”å¦‚ä¸»æˆåˆ†åˆ†æžï¼ˆPCAï¼‰ï¼Œå…¶å°†ç‰¹å¾é™ä½Žä¸ºè‹¥å¹²ä¸ªæœ€å¤§æ–¹å·®çš„ç»´åº¦ï¼Œæˆ–ç‹¬ç«‹æˆåˆ†åˆ†æžï¼ˆICAï¼‰ï¼Œå…¶æ—¨åœ¨åœ¨ä¸€ç»„ç‰¹å¾ä¸­æ‰¾åˆ°ç‹¬ç«‹æºã€‚ ç„¶è€Œï¼Œè™½ç„¶è¿™äº›æ–¹æ³•åœ¨å‡å°‘ç‰¹å¾æ•°é‡æ–¹é¢æ˜¯æœ‰æ•ˆçš„ï¼Œä½†å®ƒä»¬åˆ›é€ äº†æ²¡æœ‰ç‰©ç†æ„ä¹‰çš„æ–°ç‰¹å¾ï¼Œå› æ­¤å‡ ä¹Žä¸å¯èƒ½è§£é‡Šæ¨¡åž‹ã€‚ è¿™äº›æ–¹æ³•å¯¹äºŽå¤„ç†é«˜ç»´æ•°æ®éžå¸¸æœ‰ç”¨ï¼Œæ›´å¤šç›¸å…³å†…å®¹ã€‚ 3.2 è®­ç»ƒé›†å’Œæµ‹è¯•é›†çš„åˆ’åˆ†åœ¨æœºå™¨å­¦ä¹ ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸éœ€è¦å°†æˆ‘ä»¬çš„æ•°æ®åˆ†ä¸ºä¸¤ç»„ï¼š è®­ç»ƒé›†ï¼šæœ‰ç‰¹å¾å’Œç›®æ ‡å€¼çš„ï¼Œç”¨äºŽå­¦ä¹ ç‰¹å¾å’Œç›®æ ‡ä¹‹é—´çš„æ˜ å°„ã€‚ æµ‹è¯•é›†ï¼šç”¨äºŽéªŒè¯æ¨¡åž‹çš„æ•ˆæžœï¼Œè¯¥æ¨¡åž‹ä»Žæœªåœ¨æµ‹è¯•é›†ä¸Šçœ‹åˆ°è¿‡ç›®æ ‡å€¼ï¼Œè€Œæ˜¯å¿…é¡»ä½¿ç”¨è¿™äº›ç‰¹å¾è¿›è¡Œé¢„æµ‹ã€‚å½“æˆ‘ä»¬çŸ¥é“æµ‹è¯•é›†çš„çœŸå®žç­”æ¡ˆæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å°†æµ‹è¯•é¢„æµ‹å€¼ä¸ŽçœŸå®žå€¼è¿›è¡Œæ¯”è¾ƒï¼Œä»¥ä¼°è®¡æˆ‘ä»¬çš„æ¨¡åž‹åœ¨çŽ°å®žä¸–ç•Œä¸­éƒ¨ç½²æ—¶çš„è¡¨çŽ°ã€‚ æœ¬é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å°†é¦–å…ˆæå–æ‰€æœ‰æ²¡æœ‰Energy Star Scoreèƒ½æºä¹‹æ˜Ÿåˆ†æ•°çš„å»ºç­‘ç‰©ï¼ˆæˆ‘ä»¬ä¸çŸ¥é“è¿™äº›å»ºç­‘ç‰©çš„çœŸå®žç­”æ¡ˆï¼Œå› æ­¤å®ƒä»¬å¯¹è®­ç»ƒæˆ–æµ‹è¯•æ²¡æœ‰å¸®åŠ©ï¼‰ã€‚ç„¶åŽï¼Œæˆ‘ä»¬å°†æœ‰åˆ†æ•°çš„å»ºç­‘ç‰©åˆ†æˆ70&amp;çš„è®­ç»ƒé›†å’Œ30%çš„æµ‹è¯•é›†ã€‚ ä½¿ç”¨scikit-learnå°†æ•°æ®éšæœºæ‹†åˆ†ä¸ºè®­ç»ƒå’Œæµ‹è¯•é›†å¾ˆç®€å•ã€‚æˆ‘ä»¬å¯ä»¥è®¾ç½®æ‹†åˆ†çš„random_stateä»¥ç¡®ä¿ä¸€è‡´çš„ç»“æžœã€‚ 123456# å°†æ•°æ®æŒ‰ç…§æœ‰æ— scoreåˆ†ç±»no_score = features[features['score'].isna()]score = features[features['score'].notnull()]print(no_score.shape)print(score.shape) (1858, 65) (9461, 65) 1234567891011121314# å°†ç‰¹å¾å’Œç›®æ ‡å˜é‡æ‹†åˆ†features = score.drop(columns='score')targets = pd.DataFrame(score['score'])# ä¸ºäº†æ–¹ä¾¿åŽç»­çš„å¡«å……ï¼Œç”¨np.nanæ›¿æ¢np.infå’Œ-np.inffeatures = features.replace(&#123;np.inf: np.nan, -np.inf: np.nan&#125;)# åˆ’åˆ†70%çš„è®­ç»ƒé›†å’Œ30%çš„æµ‹è¯•é›†X, X_test, y, y_test = train_test_split(features, targets, test_size = 0.3, random_state = 42)print(X.shape)print(y.shape)print(X_test.shape)print(y_test.shape) (6622, 64) (6622, 1) (2839, 64) (2839, 1) æˆ‘ä»¬æœ‰1858åº§æ²¡æœ‰åˆ†æ•°çš„å»ºç­‘ï¼›æœ‰åˆ†æ•°çš„å»ºç­‘ä¸­ï¼Œ6622åº§ç”¨ä½œè®­ç»ƒé›†ï¼Œ2839åº§ç”¨ä½œæµ‹è¯•é›†ä¸­ï¼ŒæŽ¥ä¸‹æ¥å»ºç«‹ä¸€ä¸ªnaive çš„ baselineä»¥åœ¨åŽç»­æ¨¡åž‹ä¸­ä¸æ–­ä¼˜åŒ–ã€‚ 3.3 å»ºç«‹ä¸€ä¸ªbaselineåœ¨æˆ‘ä»¬å¼€å§‹å»ºç«‹æœºå™¨å­¦ä¹ æ¨¡åž‹ä¹‹å‰å»ºç«‹ä¸€ä¸ªnaiveçš„åŸºçº¿æ˜¯å¾ˆé‡è¦çš„ã€‚ å¦‚æžœæˆ‘ä»¬æž„å»ºçš„æ¨¡åž‹ä¸èƒ½èƒœè¿‡naiveçš„çŒœæµ‹ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯èƒ½ä¸å¾—ä¸æ‰¿è®¤æœºå™¨å­¦ä¹ ä¸é€‚åˆè¿™ä¸ªé—®é¢˜ã€‚ è¿™å¯èƒ½æ˜¯å› ä¸ºæˆ‘ä»¬æ²¡æœ‰ä½¿ç”¨æ­£ç¡®çš„æ¨¡åž‹ï¼Œéœ€è¦æ›´å¤šçš„æ•°æ®ï¼Œæˆ–è€…å› ä¸ºæœ‰ä¸€ä¸ªæ›´ç®€å•çš„è§£å†³æ–¹æ¡ˆï¼Œä¸éœ€è¦æœºå™¨å­¦ä¹ ã€‚ å»ºç«‹åŸºçº¿è‡³å…³é‡è¦ï¼Œå› æ­¤æˆ‘ä»¬æœ€ç»ˆå¯èƒ½ä¸ä¼šåŽ»å»ºç«‹æœºå™¨å­¦ä¹ æ¨¡åž‹ï¼Œåªæ˜¯æ„è¯†åˆ°æˆ‘ä»¬æ— æ³•çœŸæ­£è§£å†³é—®é¢˜ã€‚ å¯¹äºŽå›žå½’ä»»åŠ¡ï¼Œè‰¯å¥½çš„åŸºçº¿æ˜¯ä½¿ç”¨è®­ç»ƒé›†ä¸Šç›®æ ‡çš„ä¸­å€¼ä½œä¸ºæ‰€æœ‰æ‰€æœ‰æµ‹è¯•é›†æ ·æœ¬çš„é¢„æµ‹å€¼ã€‚è¿™å¾ˆå®¹æ˜“å®žçŽ°ï¼Œå¹¶ä¸ºæˆ‘ä»¬çš„æ¨¡åž‹è®¾ç½®äº†ç›¸å¯¹è¾ƒä½Žçš„æ ‡å‡†ï¼šå¦‚æžœå®ƒä»¬ä¸èƒ½æ¯”çŒœæµ‹çš„ä¸­å€¼æ›´å¥½ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦é‡æ–°æ€è€ƒæˆ‘ä»¬çš„æ–¹æ³•ã€‚ åº¦é‡æ ‡å‡†ï¼šå¹³å‡ç»å¯¹è¯¯å·®æœºå™¨å­¦ä¹ ä»»åŠ¡ä¸­ä½¿ç”¨äº†è®¸å¤šæŒ‡æ ‡ï¼Œå¾ˆéš¾çŸ¥é“é€‰æ‹©å“ªä¸€ä¸ªæŒ‡æ ‡ã€‚ å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå®ƒå°†å–å†³äºŽç‰¹å®šé—®é¢˜ï¼Œå¦‚æžœæœ‰ä¸€ä¸ªç‰¹å®šçš„ç›®æ ‡æ¥ä¼˜åŒ–ã€‚ Andrew Ngå»ºè®®ä½¿ç”¨å•ä¸ªå®žå€¼æ€§èƒ½æŒ‡æ ‡æ¥æ¯”è¾ƒæ¨¡åž‹ï¼Œå› ä¸ºå®ƒç®€åŒ–äº†è¯„ä¼°è¿‡ç¨‹ã€‚ æˆ‘ä»¬åº”è¯¥ä½¿ç”¨ä¸€ä¸ªæ•°å­—ï¼Œè€Œä¸æ˜¯è®¡ç®—å¤šä¸ªæŒ‡æ ‡å¹¶å°è¯•ç¡®å®šæ¯ä¸ªæŒ‡æ ‡çš„é‡è¦ç¨‹åº¦ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå› ä¸ºæˆ‘ä»¬è¿›è¡Œå›žå½’ï¼Œæ‰€ä»¥å¹³å‡ç»å¯¹è¯¯å·®æ˜¯é€‚å½“çš„åº¦é‡ã€‚ è¿™ä¹Ÿæ˜¯å¯ä»¥è§£é‡Šçš„ï¼Œå› ä¸ºå®ƒè¡¨ç¤ºæˆ‘ä»¬çš„ä¼°è®¡çš„å¹³å‡åˆ†æ•°æ•°é‡ï¼Œå¹¶ä¸”ä¸Žç›®æ ‡å€¼çš„å•ä½ç›¸åŒ ä¸‹é¢çš„å‡½æ•°è®¡ç®—çœŸå®žå€¼å’Œé¢„æµ‹å€¼ä¹‹é—´çš„å¹³å‡ç»å¯¹è¯¯å·®ã€‚ 123# è®¡ç®—å¹³å‡ç»å¯¹è¯¯å·®çš„å‡½æ•°def mae(y_true, y_pred): return np.mean(abs(y_true - y_pred)) çŽ°åœ¨æˆ‘ä»¬å¯ä»¥åšä¸­å€¼çŒœæµ‹å¹¶ç”¨äºŽæµ‹è¯•é›†ã€‚ 1234baseline_guess = np.median(y)print('The baseline guess is a score of %0.2f' % baseline_guess)print("Baseline Performance on the test set: MAE = %0.4f" % mae(y_test, baseline_guess)) The baseline guess is a score of 66.00 Baseline Performance on the test set: MAE = 24.5164 è¿™è¡¨æ˜Žæˆ‘ä»¬å¯¹æµ‹è¯•é›†çš„å¹³å‡ä¼°è®¡åå·®çº¦25%ã€‚ å› ä¸ºåˆ†æ•°åœ¨1åˆ°100ä¹‹é—´ï¼Œå› æ­¤è¿™æ„å‘³ç€æ¥è‡ªbaselineçš„å¹³å‡è¯¯å·®çº¦25%ã€‚çŒœæµ‹è®­ç»ƒé›†ä¸­å€¼çš„naiveæ–¹æ³•ä¸ºæˆ‘ä»¬çš„åŽç»­çš„æ¨¡åž‹æä¾›äº†ä¸€ä¸ªä½ŽåŸºçº¿ï¼ 3.4 å°ç»“åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å®Œæˆäº†å¼€å¤´æ‰€è¯´æœºå™¨å­¦ä¹ å·¥ä½œæµç¨‹çš„å‰ä¸‰ä¸ªæ­¥éª¤ï¼š æ•°æ®æ¸…ç†å’Œæ ¼å¼åŒ– æŽ¢ç´¢æ€§æ•°æ®åˆ†æž ç‰¹å¾å·¥ç¨‹å’Œé€‰æ‹© æˆ‘ä»¬è¿˜å®Œæˆäº†å»ºç«‹åŸºçº¿æŒ‡æ ‡çš„å…³é”®ä»»åŠ¡ï¼Œä»¥ä¾¿æˆ‘ä»¬ç¡®å®šæˆ‘ä»¬çš„æ¨¡åž‹æ˜¯å¦æ¯”çŒœæµ‹æ›´å¥½ï¼ ä»¥ä¸Šæˆ‘ä»¬äº†è§£äº†æµç¨‹ä¸­çš„æ¯ä¸ªéƒ¨åˆ†æ˜¯å¦‚ä½•æµå…¥ä¸‹ä¸€ä¸ªéƒ¨åˆ†çš„ï¼š æ¸…ç†æ•°æ®å¹¶å°†å…¶è½¬æ¢ä¸ºæ­£ç¡®çš„æ ¼å¼å…è®¸æˆ‘ä»¬æ‰§è¡ŒæŽ¢ç´¢æ€§æ•°æ®åˆ†æž(EDA)ï¼› EDAçš„ç»“æžœè¾…åŠ©æˆ‘ä»¬è¿›è¡Œç‰¹å¾å·¥ç¨‹å’Œé€‰æ‹©ã€‚ è¿™ä¸‰ä¸ªæ­¥éª¤é€šå¸¸æŒ‰æ­¤é¡ºåºæ‰§è¡Œï¼Œä½†æˆ‘ä»¬å¯èƒ½ä¼šç¨åŽå†å›žæ¥ï¼Œæ ¹æ®æˆ‘ä»¬çš„å»ºæ¨¡ç»“æžœè¿›è¡Œæ›´å¤šçš„EDAæˆ–ç‰¹å¾å·¥ç¨‹ã€‚æ•°æ®ç§‘å­¦æ˜¯ä¸€ä¸ªè¿­ä»£è¿‡ç¨‹ï¼Œæˆ‘ä»¬ä¸€ç›´åœ¨å¯»æ‰¾æ”¹è¿›ä»¥å‰å·¥ä½œçš„æ–¹æ³•ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬ä¸å¿…ç¬¬ä¸€æ¬¡å®Œæˆä»»åŠ¡ï¼ˆå°½ç®¡æˆ‘ä»¬å¯ä»¥å°½åŠ›ï¼‰ï¼Œå› ä¸ºä¸€æ—¦æˆ‘ä»¬å¯¹é—®é¢˜æœ‰äº†æ›´å¤šçš„äº†è§£ï¼Œæ€»æœ‰æœºä¼šé‡æ–°å®¡è§†æˆ‘ä»¬çš„å†³ç­–ã€‚ æŽ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†é‡ç‚¹å®žçŽ°å‡ ç§æœºå™¨å­¦ä¹ æ–¹æ³•ï¼Œé€‰æ‹©æœ€ä½³æ¨¡åž‹ï¼Œå¹¶ä½¿ç”¨äº¤å‰éªŒè¯çš„è¶…å‚æ•°è°ƒæ•´æ–¹æ³•ä¼˜åŒ–æˆ‘ä»¬çš„é—®é¢˜ã€‚ åŒæ—¶ï¼ŒæŠŠæˆ‘ä»¬å¤„ç†è¿‡çš„æ•°æ®é›†ä¿å­˜èµ·æ¥ï¼Œä»¥ä¾¿åœ¨åŽç»­æ­¥éª¤ä¸­å†æ¬¡ä½¿ç”¨ã€‚ 123456# ä¿å­˜æ²¡æœ‰åˆ†æ•°çš„æ•°æ®é›†ï¼Œè®­ç»ƒé›†ï¼Œæµ‹è¯•é›†no_score.to_csv('dataset/no_score.csv', index = False)X.to_csv('dataset/training_features.csv', index = False)X_test.to_csv('dataset/testing_features.csv', index = False)y.to_csv('dataset/training_labels.csv', index = False)y_test.to_csv('dataset/testing_labels.csv', index = False) 4 è¯„ä¼°å’Œæ¯”è¾ƒæœºå™¨å­¦ä¹ æ¨¡åž‹4.1 å¯¼å…¥åº“æ–‡ä»¶åœ¨æœ¬é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨å„ç§æ ‡å‡†çš„æ•°æ®ç§‘å­¦å’Œæœºå™¨å­¦ä¹ åº“ã€‚ 1234567891011# ç¼ºå¤±å€¼å¡«å……å’Œæœ€å¤§æœ€å°å½’ä¸€åŒ–å¤„ç†from sklearn.preprocessing import Imputer, MinMaxScaler# æœºå™¨å­¦ä¹ æ¨¡åž‹from sklearn.linear_model import LinearRegressionfrom sklearn.ensemble import RandomForestRegressor, GradientBoostingRegressorfrom sklearn.svm import SVRfrom sklearn.neighbors import KNeighborsRegressor# è¶…å‚æ•°è°ƒæ•´from sklearn.model_selection import RandomizedSearchCV, GridSearchCV 4.2 å¯¼å…¥æ•°æ®è¯»å–å‰é¢éƒ¨åˆ†å¤„ç†å¥½çš„æ•°æ®ã€‚ 1234567891011# ä½¿ç”¨æ•°æ®å¸§è¯»å–æ•°æ®train_features = pd.read_csv('dataset/training_features.csv')train_labels = pd.read_csv('dataset/training_labels.csv')test_features = pd.read_csv('dataset/testing_features.csv')test_labels = pd.read_csv('dataset/testing_labels.csv')# æ•°æ®ç»´åº¦print('Training Feature Size:', train_features.shape)print('Training Labels Size:', train_labels.shape)print('Testing Feature Size:', test_features.shape)print('Testing Labels Size:', test_labels.shape) Training Feature Size: (6622, 64) Training Labels Size: (6622, 1) Testing Feature Size: (2839, 64) Testing Labels Size: (2839, 1) è¿™æ˜¯æ ¼å¼åŒ–åŽçš„æ•°æ®ã€‚ åœ¨å‰æ–‡ï¼Œæˆ‘ä»¬å¯¹æ•°å€¼ç‰¹å¾è¿›è¡Œäº†å¯¹æ•°å˜æ¢ï¼Œå¯¹ä¸¤ä¸ªç±»åˆ«ç‰¹å¾è¿›è¡Œç‹¬çƒ­ç¼–ç ï¼Œå¹¶é€šè¿‡åˆ é™¤é«˜å…±çº¿ç‰¹å¾æ¥é€‰æ‹©ç‰¹å¾å­é›†ã€‚ 1train_features.head(12) training_labelsåŒ…å«èƒ½æºä¹‹æ˜Ÿåˆ†æ•°ï¼Œè¿™æ˜¯æˆ‘ä»¬æœºå™¨å­¦ä¹ é—®é¢˜çš„ç›®æ ‡ã€‚ èƒ½æºä¹‹æ˜Ÿè¯„åˆ†æ˜¯å¯¹å»ºç­‘ç‰©èƒ½æ•ˆçš„æ¯”è¾ƒæµ‹é‡ã€‚ è¿™æ˜¯èƒ½æºä¹‹æ˜Ÿåˆ†æ•°çš„åˆ†å¸ƒã€‚ 1234567figsize(8, 8)# scoreçš„ç›´æ–¹å›¾åˆ†å¸ƒplt.hist(train_labels['score'].dropna(), bins = 100);plt.xlabel('Score')plt.ylabel('Number of Building')plt.title('Energy Star Score Distribution') Text(0.5, 1.0, &#39;Energy Star Score Distribution&#39;) 4.3 è¯„ä¼°å’Œæ¯”è¾ƒæœºå™¨å­¦ä¹ æ¨¡åž‹åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†ä¸ºæˆ‘ä»¬çš„ç›‘ç£å›žå½’ä»»åŠ¡æž„å»ºã€è®­ç»ƒåŠè¯„ä¼°å‡ ç§æœºå™¨å­¦ä¹ æ–¹æ³•ã€‚ ç›®æ ‡æ˜¯ç¡®å®šå“ªä¸ªæ¨¡åž‹æœ€æœ‰å¸Œæœ›è¿›ä¸€æ­¥å¼€å‘ï¼ˆä¾‹å¦‚è¶…å‚æ•°è°ƒæ•´ï¼‰ã€‚ æˆ‘ä»¬ä½¿ç”¨å¹³å‡ç»å¯¹è¯¯å·®ä½œä¸ºæŒ‡æ ‡æ¥æ¯”è¾ƒæ¨¡åž‹ã€‚ ä»Ž3.3èŠ‚å¯çŸ¥éšæœºçŒœæµ‹åˆ†æ•°ä¸­å€¼çš„åŸºçº¿æ¨¡åž‹å¹³å‡åç¦»25åˆ†ã€‚ 4.3.1 å¡«å……ç¼ºå¤±å€¼é€šå¸¸æœºå™¨å­¦ä¹ æ¨¡åž‹æ— æ³•å¤„ç†ç¼ºå¤±å€¼ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å¿…é¡»æ‰¾åˆ°ä¸€ç§æ–¹æ³•æ¥å¡«å……æˆ–å¿½ç•¥ä»»ä½•ç¼ºå°‘å€¼çš„ç‰¹å¾ã€‚ç”±äºŽæˆ‘ä»¬åœ¨1.4èŠ‚å·²ç»åˆ é™¤äº†ç¼ºå¤±å€¼è¶…è¿‡50%çš„ç‰¹å¾ï¼Œå› æ­¤æˆ‘ä»¬å°†é‡ç‚¹å¡«å……å‰©ä¸‹ç‰¹å¾çš„ç¼ºå¤±å€¼)ã€‚æœ‰è®¸å¤šå¡«å……æ–¹æ³•ï¼Œä½†åœ¨è¿™é‡Œæˆ‘ä»¬å°†ä½¿ç”¨ç›¸å¯¹ç®€å•çš„æ–¹æ³•ç”¨åˆ—çš„ä¸­ä½æ•°æ›¿æ¢ç¼ºå¤±å€¼ã€‚ ï¼ˆè¿™æ˜¯å…³äºŽç¼ºå¤±å€¼å¡«å……çš„æ›´å…¨é¢çš„è®¨è®ºï¼‰ åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªScikit-learn Imputerå¯¹è±¡ï¼Œç”¨åˆ—çš„ä¸­å€¼å¡«å……ç¼ºå¤±å€¼ã€‚è¯·æ³¨æ„ï¼Œæˆ‘ä»¬åªåœ¨è®­ç»ƒæ•°æ®ä¸Šä½¿ç”¨Imputer.fitï¼Œä½†åœ¨æµ‹è¯•æ•°æ®é›†æ²¡æœ‰ä½¿ç”¨ã€‚ç„¶åŽæˆ‘ä»¬ä½¿ç”¨Imputer.transformåŒæ—¶å¤„ç†è®­ç»ƒæ•°æ®é›†å’Œæµ‹è¯•æ•°æ®é›†ã€‚è¿™æ„å‘³ç€æµ‹è¯•é›†ä¸­çš„ç¼ºå¤±å€¼ç”¨è®­ç»ƒé›†ä¸­ç›¸åº”åˆ—çš„ä¸­å€¼å¡«å……ã€‚æˆ‘ä»¬å¿…é¡»çŽ°åœ¨è¿™ä¹ˆåšè€Œä¸æ˜¯éƒ¨ç½²æ—¶ï¼Œæˆ‘ä»¬å¿…é¡»æ ¹æ®è®­ç»ƒæ•°æ®é›†å°†æµ‹è¯•é›†çš„ç¼ºå¤±å€¼å¡«å……ã€‚è¿™æ˜¯é¿å…æ•°æ®æ³„æ¼é—®é¢˜çš„ä¸€ç§æ–¹æ³•ï¼Œæ•°æ®æ³„éœ²æŒ‡æ¥è‡ªæµ‹è¯•é›†çš„ä¿¡æ¯â€œæ³„æ¼â€åˆ°è®­ç»ƒè¿‡ç¨‹ä¸­ã€‚ 123456789# ä½¿ç”¨ä¸­ä½æ•°å¡«å……ç­–ç•¥åˆ›å»ºä¸€ä¸ªimputerå¯¹è±¡imputer = Imputer(strategy = 'median')# imputerå¯¹è±¡ä½œç”¨äºŽè®­ç»ƒé›†imputer.fit(train_features)# è½¬æ¢è®­ç»ƒæ•°æ®å’Œæµ‹è¯•æ•°æ®X = imputer.transform(train_features)X_test = imputer.transform(test_features) C:\Users\huangqiancun\Anaconda3\lib\site-packages\sklearn\utils\deprecation.py:58: DeprecationWarning: Class Imputer is deprecated; Imputer was deprecated in version 0.20 and will be removed in 0.22. Import impute.SimpleImputer from sklearn instead. warnings.warn(msg, category=DeprecationWarning) 12print('Missing values in training features: ', np.sum(np.isnan(X)))print('Missing values in testing features: ', np.sum(np.isnan(X_test))) Missing values in training features: 0 Missing values in testing features: 0 123# ä¿è¯æ‰€æœ‰æ•°å­—éƒ½æ˜¯æœ‰é™å€¼print(np.where(~np.isfinite(X)))print(np.where(~np.isfinite(X_test))) (array([], dtype=int64), array([], dtype=int64)) (array([], dtype=int64), array([], dtype=int64)) åœ¨å¡«å……ä¹‹åŽï¼Œæ‰€æœ‰ç‰¹å¾éƒ½æ˜¯å®žå€¼çš„ã€‚ å¯¹äºŽæ›´å¤æ‚çš„ç¼ºå¤±å€¼å¤„ç†æ–¹æ³•ï¼ˆå°½ç®¡ä¸­å€¼é€šå¸¸å¾ˆæœ‰æ•ˆï¼‰ï¼Œè¯·æŸ¥çœ‹æœ¬æ–‡ 4.3.2 ç‰¹å¾ç¼©æ”¾åœ¨æˆ‘ä»¬æž„å»ºæ¨¡åž‹ä¹‹å‰è¦é‡‡å–çš„æœ€åŽä¸€æ­¥æ˜¯ç‰¹å¾ç¼©æ”¾ã€‚è¿™æ˜¯å¿…è¦çš„ï¼Œå› ä¸ºç‰¹å¾ä¹‹é—´å…·æœ‰ä¸åŒçš„å•ä½åº¦é‡ï¼Œæˆ‘ä»¬å¸Œæœ›å¯¹ç‰¹å¾è¿›è¡Œæ ‡å‡†åŒ–ï¼Œä»¥ä½¿å•ä½ä¸å½±å“ç®—æ³•çš„ç»“æžœã€‚ çº¿æ€§å›žå½’å’Œéšæœºæ£®æž—ä¸éœ€è¦ç‰¹å¾ç¼©æ”¾ ä½†æ˜¯å…¶ä»–æ–¹æ³•ï¼ˆä¾‹å¦‚æ”¯æŒå‘é‡æœºå’ŒkNNï¼‰éœ€è¦è¿›è¡Œç‰¹å¾ç¼©æ”¾ï¼Œå› ä¸ºå®ƒä»¬è€ƒè™‘äº†æ ·æœ¬ä¹‹é—´çš„æ¬§å‡ é‡Œå¾·è·ç¦»ã€‚å› æ­¤ï¼Œåœ¨æ¯”è¾ƒå¤šä¸ªç®—æ³•æ—¶ï¼Œæœ€ä½³åšæ³•æ˜¯è¿›è¡Œç‰¹å¾ç¼©æ”¾ã€‚ æœ‰ä¸¤ç§å¸¸ç”¨çš„ç‰¹å¾ç¼©æ”¾æ–¹æ³•ï¼š å¯¹äºŽæ¯ä¸ªå€¼ï¼Œå‡åŽ»ç‰¹å¾çš„å¹³å‡å€¼å¹¶é™¤ä»¥ç‰¹å¾çš„æ ‡å‡†åå·®ã€‚è¿™ç§°ä¸ºæ ‡å‡†åŒ–ï¼Œå¹¶ä¸”å¯¼è‡´æ¯ä¸ªç‰¹å¾å…·æœ‰0å‡å€¼å’Œ1æ ‡å‡†å·®ã€‚ å¯¹äºŽæ¯ä¸ªå€¼ï¼Œå‡åŽ»ç‰¹å¾çš„æœ€å°å€¼å¹¶é™¤ä»¥æœ€å¤§å€¼å‡åŽ»æœ€å°å€¼ï¼ˆèŒƒå›´ï¼‰ã€‚è¿™ç¡®ä¿äº†ç‰¹å¾çš„æ‰€æœ‰å–å€¼éƒ½åœ¨0å’Œ1ä¹‹é—´ï¼Œè¿™ç§°ä¸ºå½’ä¸€åŒ–ã€‚ è¿™æ˜¯ä¸€ç¯‡å…³äºŽè§„èŒƒåŒ–å’Œæ ‡å‡†åŒ–çš„å¥½æ–‡ç« ã€‚ ä¸Žç¼ºå¤±å€¼å¤„ç†ä¸€æ ·ï¼Œå½“æˆ‘ä»¬è¿›è¡Œç‰¹å¾ç¼©æ”¾æ—¶ï¼Œæˆ‘ä»¬åªä½¿ç”¨è®­ç»ƒé›†è®¡ç®—ç¼©æ”¾å¯¹è±¡ã€‚å½“æˆ‘ä»¬è½¬æ¢ç‰¹å¾æ—¶ï¼Œæˆ‘ä»¬å°†è½¬æ¢è®­ç»ƒé›†å’Œæµ‹è¯•é›†ã€‚ 123456789# åˆ›å»ºï¼ˆ0,1ï¼‰ä¹‹é—´çš„ç¼©æ”¾å¯¹è±¡scaler = MinMaxScaler(feature_range=(0, 1))# æ‹Ÿåˆè®­ç»ƒé›†scaler.fit(X)# å¯¹è®­ç»ƒé›†å’Œæµ‹è¯•é›†è¿›è¡Œå˜æ¢X = scaler.transform(X)X_test = scaler.transform(X_test) 123# å°†yè½¬æ¢ä¸ºä¸€ç»´æ•°ç»„y = np.array(train_labels).reshape((-1, ))y_test = np.array(test_labels).reshape((-1, )) 1y.shape (6622,) 4.4 è¯„ä¼°æ¨¡åž‹æˆ‘ä»¬å°†ä½¿ç”¨Scikit-Learnåº“æ¯”è¾ƒäº”ç§ä¸åŒçš„æœºå™¨å­¦ä¹ æ¨¡åž‹ï¼š çº¿æ€§å›žå½’ æ”¯æŒå‘é‡æœºå›žå½’ éšæœºæ£®æž—å›žå½’ æ¢¯åº¦æå‡å›žå½’ K-Nearest Neighborså›žå½’ åœ¨æœ¬èŠ‚ï¼Œæˆ‘ä¸“æ³¨äºŽæ¨¡åž‹å®žçŽ°è¿‡ç¨‹ï¼Œè€Œä¸æ˜¯è§£é‡Šè¿™äº›æ¨¡åž‹æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚é™¤äº†åŠ¨æ‰‹æœºå™¨å­¦ä¹ ä¹‹å¤–ï¼Œé˜…è¯»æœºå™¨å­¦ä¹ æ¨¡åž‹çš„å¦ä¸€ä¸ªé‡è¦èµ„æºï¼ˆè¿™æ˜¯å…è´¹çš„åœ¨çº¿ï¼‰æ˜¯ç»Ÿè®¡å­¦ä¹ ç®€ä»‹ã€‚ ä¸ºäº†æ¯”è¾ƒæ¨¡åž‹ï¼Œæˆ‘ä»¬å°†ä¸»è¦ä½¿ç”¨æ¨¡åž‹è¶…å‚æ•°çš„Scikit-Learné»˜è®¤å€¼ã€‚é€šå¸¸è¿™äº›å°†è¡¨çŽ°å¾—å¾ˆå¥½ï¼Œä½†åº”è¯¥åœ¨å®žé™…ä½¿ç”¨æ¨¡åž‹ä¹‹å‰è¿›è¡Œä¼˜åŒ–ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬åªæƒ³ç¡®å®šæ¯ä¸ªæ¨¡åž‹çš„åŸºçº¿æ€§èƒ½ï¼Œç„¶åŽæˆ‘ä»¬å¯ä»¥é€‰æ‹©æ€§èƒ½æœ€ä½³çš„æ¨¡åž‹ï¼Œå†ä½¿ç”¨è¶…å‚æ•°è°ƒæ•´è¿›ä¸€æ­¥ä¼˜åŒ–ã€‚è¯·è®°ä½ï¼Œé»˜è®¤çš„è¶…å‚æ•°å°†å¯åŠ¨å¹¶è¿è¡Œæ¨¡åž‹ï¼Œä½†å‡ ä¹Žæ€»æ˜¯åº”è¯¥ä½¿ç”¨æŸç§æœç´¢æ¥è°ƒæ•´ä»¥æ‰¾åˆ°é—®é¢˜çš„æœ€ä½³è®¾ç½®ï¼ ä»¥ä¸‹æ˜¯Scikit-learnæ–‡æ¡£ä¸­æœ‰å…³é»˜è®¤å€¼çš„å†…å®¹ï¼š __Sensible defaults__: Whenever an operation requires a user-defined parameter,an appropriate default value is defined by the library. The default value should cause the operation to be performed in a sensible way (giving a baseline solution for the task at hand.) å…³äºŽscikit-learnçš„æœ€å¤§çš„ç‰¹ç‚¹æ˜¯æ‰€æœ‰æ¨¡åž‹éƒ½ä»¥ç›¸åŒçš„æ–¹å¼å®žçŽ°ï¼šä¸€æ—¦ä½ çŸ¥é“å¦‚ä½•æž„å»ºä¸€ä¸ªæ¨¡åž‹ï¼Œä½ å°±å¯ä»¥å®žçŽ°ä¸€ç³»åˆ—æžå…¶å¤šæ ·åŒ–çš„æ¨¡åž‹ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†ç”¨å‡ è¡Œä»£ç å®žçŽ°å¤šä¸ªæ¨¡åž‹ã€‚ 123456789101112131415# è®¡ç®—å¹³å‡ç»å¯¹è¯¯å·®çš„å‡½æ•°def mae(y_true, y_pred): return np.mean(abs(y_true - y_pred))# æ¨¡åž‹è®­ç»ƒå’Œé¢„æµ‹è¿‡ç¨‹ï¼Œè¾“å…¥ä»»æ„æ¨¡åž‹ï¼Œè¾“å‡ºmaedef fit_and_evaluate(model): # è®­ç»ƒæ¨¡åž‹ model.fit(X, y) # é¢„æµ‹å’Œè¯„ä¼° model_pred = model.predict(X_test) model_mae = mae(y_test, model_pred) # è¿”å›žè¯¯å·®æŒ‡æ ‡ return model_mae 12345# çº¿æ€§å›žå½’lr = LinearRegression()lr_mae = fit_and_evaluate(lr)print('Linear Regression Performance on the test set: MAE = %0.4f' % lr_mae) Linear Regression Performance on the test set: MAE = 13.4651 12345# æ”¯æŒå‘é‡å›žå½’svm = SVR(C = 1000, gamma = 0.1)svm_mae = fit_and_evaluate(svm)print('Support Vector Machine Regression Performance on the test set: MAE = %0.4f' % svm_mae) Support Vector Machine Regression Performance on the test set: MAE = 10.9337 12345# éšæœºæ£®æž—random_forest = RandomForestRegressor(random_state=60)random_forest_mae = fit_and_evaluate(random_forest)print('Random Forest Regression Performance on the test set: MAE = %0.4f' % random_forest_mae) C:\Users\huangqiancun\Anaconda3\lib\site-packages\sklearn\ensemble\forest.py:246: FutureWarning: The default value of n_estimators will change from 10 in version 0.20 to 100 in 0.22. &quot;10 in version 0.20 to 100 in 0.22.&quot;, FutureWarning) Random Forest Regression Performance on the test set: MAE = 10.0073 12345# æ¢¯åº¦æå‡å›žå½’gradient_boosted = GradientBoostingRegressor(random_state=60)gradient_boosted_mae = fit_and_evaluate(gradient_boosted)print('Gradient Boosted Regression Performance on the test set: MAE = %0.4f' % gradient_boosted_mae) Gradient Boosted Regression Performance on the test set: MAE = 10.0144 12345# kè¿‘é‚»å›žå½’knn = KNeighborsRegressor(n_neighbors=10)knn_mae = fit_and_evaluate(knn)print('K-Nearest Neighbors Regression Performance on the test set: MAE = %0.4f' % knn_mae) K-Nearest Neighbors Regression Performance on the test set: MAE = 13.0131 123456789101112131415161718# å¯è§†åŒ–æ¯”è¾ƒä¸åŒæ¨¡åž‹çš„ç»“æžœfigsize(8, 4)# ä¿å­˜ç»“æžœçš„æ•°æ®å¸§model_comparison = pd.DataFrame(&#123;'model': ['Linear Regression', 'Support Vector Machine', 'Random Forest', 'Gradient Boosted', 'K-Nearest Neighbors'], 'mae': [lr_mae, svm_mae, random_forest_mae, gradient_boosted_mae, knn_mae]&#125;)# ç›´æ–¹å›¾model_comparison.sort_values('mae', ascending = False).plot(x = 'model', y = 'mae', kind = 'barh', color = 'red', edgecolor = 'black')plt.ylabel('')plt.yticks(size = 14)plt.xlabel('Mean Absolute Error')plt.xticks(size = 14)plt.title('Model Comparison on Test MAE', size = 20) Text(0.5, 1.0, &#39;Model Comparison on Test MAE&#39;) æ ¹æ®æ¨¡åž‹ç»“æžœæ¯”è¾ƒï¼ˆæ¯æ¬¡ç»“æžœä¼šç•¥æœ‰å˜åŒ–ï¼‰ï¼Œéšæœºæ£®æž—è¡¨çŽ°æœ€ä½³ï¼Œå…¶æ¬¡æ˜¯æ¢¯åº¦æå‡å›žå½’ã€‚ ç„¶è€Œè¿™ä¸æ˜¯æœ€å…¬å¹³çš„æ¯”è¾ƒï¼Œå› ä¸ºæˆ‘ä»¬ä¸»è¦ä½¿ç”¨é»˜è®¤çš„è¶…å‚æ•°ã€‚ç‰¹åˆ«æ˜¯ä½¿ç”¨æ”¯æŒå‘é‡å›žå½’å™¨ï¼Œè¶…å‚æ•°å¯¹æ€§èƒ½æœ‰æ˜¾ç€å½±å“ã€‚ ï¼ˆéšæœºæ£®æž—å’Œæ¢¯åº¦æå‡æ–¹æ³•éžå¸¸é€‚åˆå¼€å§‹ï¼Œå› ä¸ºæ€§èƒ½è¾ƒå°‘ä¾èµ–äºŽæ¨¡åž‹è®¾ç½®ï¼‰ã€‚ å°½ç®¡å¦‚æ­¤ï¼Œä»Žè¿™äº›ç»“æžœä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºç»“è®ºï¼Œæœºå™¨å­¦ä¹ æ˜¯é€‚ç”¨çš„ï¼Œå› ä¸ºæ‰€æœ‰æ¨¡åž‹éƒ½æ˜Žæ˜¾ä¼˜äºŽåŸºçº¿ï¼ˆ3.3èŠ‚25%çš„maeï¼‰ï¼ æŽ¥ä¸‹æ¥ï¼Œæˆ‘å°†ä¸“æ³¨äºŽä½¿ç”¨è¶…å‚æ•°è°ƒæ•´æ¥ä¼˜åŒ–æœ€ä½³æ¨¡åž‹ã€‚é‰´äºŽæ­¤å¤„çš„ç»“æžœï¼Œæˆ‘å°†ä¸“æ³¨äºŽä½¿ç”¨Gradient Boosting Regressorã€‚å› ä¸ºGradient Boosted Treesçš„Scikit-Learnå®žçŽ°ï¼Œåœ¨è¿‡åŽ»çš„å‡ å¹´ä¸­èµ¢å¾—äº†è®¸å¤šKaggleæ¯”èµ›ã€‚ Scikit-Learnç‰ˆæœ¬é€šå¸¸æ¯”XGBoostç‰ˆæœ¬æ…¢ï¼Œä½†åœ¨è¿™é‡Œæˆ‘ä»¬å°†åšæŒä½¿ç”¨Scikit-Learnï¼Œå› ä¸ºè¯­æ³•æ›´ä¸ºç†Ÿæ‚‰ã€‚è¿™æ˜¯XGBooståŒ…ä¸­ä½¿ç”¨å®žçŽ°çš„æŒ‡å—ã€‚ 5 æ¨¡åž‹ä¼˜åŒ–åœ¨æœºå™¨å­¦ä¹ ä¸­ï¼Œä¼˜åŒ–æ¨¡åž‹æ„å‘³ç€ä¸ºç‰¹å®šé—®é¢˜æ‰¾åˆ°æœ€ä½³çš„è¶…å‚æ•°é›†ã€‚ 5.1 è¶…å‚æ•°é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦äº†è§£å“ªäº›æ¨¡åž‹è¶…å‚æ•°ä¸Žæ¨¡åž‹å‚æ•°çš„å¯¹æ¯”ï¼š æ¨¡åž‹è¶…å‚æ•°è¢«è®¤ä¸ºæ˜¯æœºå™¨å­¦ä¹ ç®—æ³•çš„è®¾ç½®ï¼Œåœ¨è®­ç»ƒä¹‹å‰ç”±æ•°æ®ç§‘å­¦å®¶è°ƒæ•´ã€‚ä¾‹å¦‚ï¼Œéšæœºæ£®æž—ä¸­çš„æ ‘çš„æ•°é‡ï¼Œæˆ–è€…K Nearest Neighbors Regressionä¸­ä½¿ç”¨çš„è¿‘é‚»æ•°é‡ã€‚ æ¨¡åž‹å‚æ•°æ˜¯æ¨¡åž‹åœ¨è®­ç»ƒæœŸé—´å­¦ä¹ çš„å†…å®¹ï¼Œä¾‹å¦‚çº¿æ€§å›žå½’ä¸­çš„æƒé‡ã€‚ æˆ‘ä»¬é€šè¿‡é€‰æ‹©è¶…å‚æ•°æ¥æŽ§åˆ¶æ¨¡åž‹ï¼Œè¿™äº›é€‰æ‹©ä¼šå¯¹æ¨¡åž‹çš„æœ€ç»ˆæ€§èƒ½äº§ç”Ÿé‡å¤§å½±å“ï¼ˆå°½ç®¡é€šå¸¸ä¸ä¼šåƒèŽ·å–æ›´å¤šæ•°æ®æˆ–ç‰¹å¾å·¥ç¨‹é‚£ä¹ˆæœ‰æ•ˆï¼‰ã€‚ è°ƒæ•´æ¨¡åž‹è¶…å‚æ•°å¯ä»¥æŽ§åˆ¶æ¨¡åž‹æ¬ æ‹Ÿåˆä¸Žè¿‡æ‹Ÿåˆçš„å¹³è¡¡ã€‚ æˆ‘ä»¬å¯ä»¥å°è¯•é€šè¿‡æ›´å¤æ‚çš„æ¨¡åž‹æ¥æ ¡æ­£æ¬ æ‹Ÿåˆï¼Œä¾‹å¦‚åœ¨éšæœºæ£®æž—ä¸­ä½¿ç”¨æ›´å¤šæ ‘æˆ–åœ¨æ·±åº¦ç¥žç»ç½‘ç»œä¸­ä½¿ç”¨æ›´å¤šå±‚ã€‚ä¸åˆé€‚çš„æ¨¡åž‹å…·æœ‰é«˜åå·®ï¼Œå¹¶ä¸”å½“æˆ‘ä»¬çš„æ¨¡åž‹æ²¡æœ‰è¶³å¤Ÿçš„å®¹é‡ï¼ˆè‡ªç”±åº¦ï¼‰æ¥å­¦ä¹ ç‰¹å¾å’Œç›®æ ‡ä¹‹é—´çš„å…³ç³»æ—¶å‘ç”Ÿã€‚ æˆ‘ä»¬å¯ä»¥é€šè¿‡é™åˆ¶æ¨¡åž‹çš„å¤æ‚æ€§å’Œåº”ç”¨æ­£åˆ™åŒ–æ¥å°è¯•çº æ­£è¿‡æ‹Ÿåˆã€‚è¿™å¯èƒ½æ„å‘³ç€é™ä½Žå¤šé¡¹å¼å›žå½’çš„é˜¶æ•°ï¼Œæˆ–å°†dropout å±‚æ·»åŠ åˆ°æ·±åº¦ç¥žç»ç½‘ç»œã€‚è¿‡æ‹Ÿåˆçš„æ¨¡åž‹å…·æœ‰é«˜æ–¹å·®å¹¶ä¸”å®žé™…ä¸Šè®°å¿†äº†è®­ç»ƒé›†ã€‚ æ¬ æ‹Ÿåˆå’Œè¿‡æ‹Ÿåˆéƒ½ä¼šå¯¼è‡´æµ‹è¯•é›†ä¸Šçš„æ³›åŒ–æ€§èƒ½å˜å·®ã€‚ é€‰æ‹©è¶…å‚æ•°çš„é—®é¢˜åœ¨äºŽï¼Œæ²¡æœ‰ä»»ä½•è¶…å‚æ•°å¯ä»¥åœ¨æ‰€æœ‰é—®é¢˜ä¸­å‘æŒ¥æœ€ä½³æ•ˆæžœã€‚å› æ­¤ï¼Œå¯¹äºŽæ¯ä¸ªæ–°æ•°æ®é›†ï¼Œæˆ‘ä»¬å¿…é¡»æ‰¾åˆ°æœ€ä½³è®¾ç½®ã€‚è¿™å¯èƒ½æ˜¯ä¸€ä¸ªè€—æ—¶çš„è¿‡ç¨‹ï¼Œä½†å¹¸è¿çš„æ˜¯ï¼Œåœ¨Scikit-Learnä¸­æ‰§è¡Œæ­¤è¿‡ç¨‹çš„æ–¹æ³•æœ‰å¤šç§é€‰æ‹©ã€‚æ›´å¥½çš„æ˜¯ï¼Œæ–°çš„åº“ï¼Œä¾‹å¦‚epistasis labsçš„TPOTï¼Œæ—¨åœ¨è‡ªåŠ¨å®Œæˆæ­¤è¿‡ç¨‹ï¼æœ¬é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å°†åšæŒåœ¨Scikit-Learnä¸­æ‰‹åŠ¨å®Œæˆï¼Œä½†è¯·ç»§ç»­å…³æ³¨è‡ªåŠ¨æ¨¡åž‹é€‰æ‹©çš„æ–‡ç« ï¼ 5.2 ä½¿ç”¨éšæœºæœç´¢å’Œäº¤å‰éªŒè¯è¿›è¡Œè¶…å‚æ•°è°ƒæ•´æˆ‘ä»¬å¯ä»¥é€šè¿‡éšæœºæœç´¢å’Œäº¤å‰éªŒè¯ä¸ºæ¨¡åž‹é€‰æ‹©æœ€ä½³è¶…å‚æ•°ã€‚ éšæœºæœç´¢æ˜¯æŒ‡æˆ‘ä»¬é€‰æ‹©è¶…å‚æ•°æ¥è¯„ä¼°æ¨¡åž‹çš„æ–¹æ³•ï¼š æˆ‘ä»¬å®šä¹‰ä¸€ç³»åˆ—é€‰é¡¹ï¼Œç„¶åŽéšæœºé€‰æ‹©è¦å°è¯•çš„ç»„åˆã€‚è¿™ä¸Žç½‘æ ¼æœç´¢å½¢æˆå¯¹æ¯”ï¼Œç½‘æ ¼æœç´¢è¯„ä¼°æˆ‘ä»¬æŒ‡å®šçš„æ¯ä¸ªç»„åˆã€‚ é€šå¸¸ï¼Œå½“æˆ‘ä»¬å¯¹æœ€ä½³æ¨¡åž‹è¶…å‚æ•°çš„çŸ¥è¯†æœ‰é™æ—¶ï¼Œéšæœºæœç´¢ä¼šæ›´å¥½ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨éšæœºæœç´¢ç¼©å°é€‰é¡¹èŒƒå›´ï¼Œç„¶åŽä½¿ç”¨æ›´æœ‰é™çš„é€‰é¡¹èŒƒå›´è¿›è¡Œç½‘æ ¼æœç´¢ã€‚ äº¤å‰éªŒè¯æ˜¯ç”¨äºŽè¯„ä¼°è¶…å‚æ•°æ€§èƒ½çš„æ–¹æ³•ï¼š æˆ‘ä»¬ä½¿ç”¨K-Foldäº¤å‰éªŒè¯ï¼Œè€Œä¸æ˜¯å°†æ•°æ®é›†æ‹†åˆ†ä¸ºå•ç‹¬è®­ç»ƒé›†çš„å’ŒéªŒè¯é›†ï¼Œä»¥å‡å°‘æˆ‘ä»¬å¯ä»¥ä½¿ç”¨çš„è®­ç»ƒæ•°æ®é‡ã€‚ å°†è®­ç»ƒæ•°æ®åˆ’åˆ†ä¸ºKä¸ªéƒ¨åˆ†ï¼Œç„¶åŽéåŽ†è¿­ä»£è¿‡ç¨‹ï¼Œå…¶ä¸­æˆ‘ä»¬é¦–å…ˆåœ¨K-1ä¸ªæ•°æ®é›†ä¸Šè®­ç»ƒï¼Œç„¶åŽè¯„ä¼°åœ¨ç¬¬kä¸ªæ•°æ®é›†çš„æ€§èƒ½ã€‚ é‡å¤è¿™ä¸ªè¿‡ç¨‹Kæ¬¡ï¼Œæ‰€ä»¥æœ€ç»ˆæˆ‘ä»¬å°†æµ‹è¯•è®­ç»ƒæ•°æ®ä¸­çš„æ¯ä¸ªä¾‹å­ï¼Œå…³é”®æ˜¯æ¯æ¬¡è¿­ä»£æˆ‘ä»¬éƒ½åœ¨æµ‹è¯•æˆ‘ä»¬æ²¡æœ‰è®­ç»ƒè¿‡çš„æ•°æ®ã€‚ åœ¨KæŠ˜äº¤å‰éªŒè¯ç»“æŸæ—¶ï¼Œæˆ‘ä»¬å°†æ¯æ¬¡Kæ¬¡è¿­ä»£çš„å¹³å‡è¯¯å·®ä½œä¸ºæœ€ç»ˆæ€§èƒ½åº¦é‡ï¼Œç„¶åŽåœ¨æ‰€æœ‰è®­ç»ƒæ•°æ®ä¸Šè®­ç»ƒæ¨¡åž‹ã€‚ç„¶åŽï¼Œæˆ‘ä»¬è®°å½•çš„æ€§èƒ½ç”¨äºŽæ¯”è¾ƒè¶…å‚æ•°çš„ä¸åŒç»„åˆã€‚ ä½¿ç”¨k = 5çš„kæŠ˜äº¤å‰éªŒè¯å›¾ç‰‡å¦‚ä¸‹æ‰€ç¤ºï¼š åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†ä½¿ç”¨äº¤å‰éªŒè¯å®žçŽ°éšæœºæœç´¢ï¼Œä»¥é€‰æ‹©æ¢¯åº¦æ¢¯åº¦å›žå½’æ¨¡åž‹çš„æœ€ä½³è¶…å‚æ•°ã€‚ æˆ‘ä»¬é¦–å…ˆå®šä¹‰ä¸€ä¸ªç½‘æ ¼ç„¶åŽæ‰§è¡Œè¿­ä»£è¿‡ç¨‹ï¼šä»Žç½‘æ ¼ä¸­éšæœºæŠ½æ ·ä¸€ç»„è¶…å‚æ•°ï¼Œä½¿ç”¨4æŠ˜äº¤å‰éªŒè¯è¯„ä¼°è¶…å‚æ•°ï¼Œç„¶åŽé€‰æ‹©å…·æœ‰æœ€ä½³æ€§èƒ½çš„è¶…å‚æ•°ã€‚ å½“ç„¶æˆ‘ä»¬å®žé™…ä¸Šå¹¶æ²¡æœ‰è‡ªå·±åšè¿™ä¸ªè¿­ä»£ï¼Œæˆ‘ä»¬è®©Scikit-Learnå’ŒRandomizedSearchCVä¸ºæˆ‘ä»¬å®Œæˆè¿™ä¸ªè¿‡ç¨‹ï¼ 12345678910111213141516171819202122232425# æŸå¤±å‡½æ•° å‡æ–¹å·®"ls", ç»å¯¹æŸå¤±"lad", HuberæŸå¤±"huber"loss = ['ls', 'lad', 'huber']# æå‡è¿‡ç¨‹ä½¿ç”¨çš„æ ‘çš„æ•°é‡n_estimators = [100, 500, 900, 1100, 1500]# æ¯æ£µæ ‘çš„æœ€å¤§æ·±åº¦max_depth = [2, 3, 5, 10, 15]# æ¯ä¸ªå¶å­èŠ‚ç‚¹çš„æœ€å°‘æ ·æœ¬min_samples_leaf = [1, 2, 4, 6, 8]# æ‹†åˆ†èŠ‚ç‚¹çš„æœ€å°æ ·æœ¬æ•°min_samples_split = [2, 4, 6, 10]# åˆ†å‰²æ—¶è¦è€ƒè™‘çš„æœ€å¤§ç‰¹å¾çš„æ•°é‡max_features = ['auto', 'sqrt', 'log2', None]# å®šä¹‰è¦è¿›è¡Œè¶…å‚æ•°æœç´¢çš„ç½‘ç»œhyperparameter_grid = &#123;'loss': loss, 'n_estimators': n_estimators, 'max_depth': max_depth, 'min_samples_leaf': min_samples_leaf, 'min_samples_split': min_samples_split, 'max_features': max_features&#125; æˆ‘ä»¬é€‰æ‹©äº†6ä¸ªä¸åŒçš„è¶…å‚æ•°æ¥è°ƒæ•´GBDTå›žå½’ã€‚ è¿™äº›éƒ½å°†ä»¥ä¸åŒçš„æ–¹å¼å½±å“æ¨¡åž‹ï¼Œè¿™äº›æ–¹æ³•å¾ˆéš¾æå‰ç¡®å®šï¼Œæ‰¾åˆ°ç‰¹å®šé—®é¢˜çš„æœ€ä½³ç»„åˆçš„å”¯ä¸€æ–¹æ³•æ˜¯æµ‹è¯•å®ƒä»¬ï¼ è¦äº†è§£è¶…å‚æ•°ï¼Œå¯ä»¥æŸ¥çœ‹Scikit-Learnæ–‡æ¡£ã€‚çŽ°åœ¨ï¼Œåªè¦çŸ¥é“æˆ‘ä»¬æ­£åœ¨åŠªåŠ›å¯»æ‰¾è¶…å‚æ•°çš„æœ€ä½³ç»„åˆï¼Œå¹¶ä¸”å› ä¸ºæ²¡æœ‰ç†è®ºå‘Šè¯‰æˆ‘ä»¬å“ªç§æ–¹æ³•æ•ˆæžœæœ€å¥½ï¼Œæˆ‘ä»¬åªéœ€è¦è¯„ä¼°å®ƒä»¬ï¼Œå°±åƒè¿è¡Œå®žéªŒä¸€æ ·ï¼ åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†éšæœºæœç´¢å¯¹è±¡ï¼Œä¼ é€’ä»¥ä¸‹å‚æ•°ï¼š estimator: æ¨¡åž‹ param_distributions: æˆ‘ä»¬å®šä¹‰çš„è¶…å‚æ•°ç½‘ç»œåˆ†å¸ƒ cv ï¼šç”¨äºŽk-foldäº¤å‰éªŒè¯çš„folds æ•°é‡ n_iter: ä¸åŒçš„å‚æ•°ç»„åˆçš„æ•°é‡ scoring: è¯„ä¼°å€™é€‰å‚æ•°æ—¶ä½¿ç”¨çš„æŒ‡æ ‡ n_jobs: å¹¶è¡Œè¿è¡Œæ—¶æ ¸çš„æ•°é‡ï¼ˆ-1 æ—¶å…¨éƒ¨ä½¿ç”¨ï¼‰ verbose: æ˜¾ç¤ºä¿¡æ¯çš„æ•°é‡ï¼ˆ1æ˜¾ç¤ºæœ‰é™ä¿¡æ¯ï¼‰ return_train_score: æ¯ä¸€ä¸ªcross-validation fold è¿”å›žçš„åˆ†æ•° random_state: å›ºå®šä½¿ç”¨çš„éšæœºæ•°ç”Ÿæˆå™¨ï¼Œå› æ­¤æ¯æ¬¡è¿è¡Œéƒ½ä¼šå¾—åˆ°ç›¸åŒçš„ç»“æžœ éšæœºæœç´¢å¯¹è±¡çš„è®­ç»ƒæ–¹å¼ä¸Žä»»ä½•scikit-learnæ¨¡åž‹ç›¸åŒã€‚è®­ç»ƒä¹‹åŽï¼Œæˆ‘ä»¬å¯ä»¥æ¯”è¾ƒæ‰€æœ‰ä¸åŒçš„è¶…å‚æ•°ç»„åˆï¼Œæ‰¾åˆ°æ•ˆæžœæœ€å¥½çš„ç»„åˆã€‚ 1234567891011# å»ºç«‹ä¸€ä¸ªæ¨¡åž‹ç”¨äºŽè¶…å‚æ•°æœç´¢model = GradientBoostingRegressor(random_state = 42)# é…ç½®å…·æœ‰4æŠ˜äº¤å‰éªŒè¯çš„éšæœºæœç´¢random_cv = RandomizedSearchCV(estimator=model, param_distributions=hyperparameter_grid, cv=4, n_iter=25, scoring = 'neg_mean_absolute_error', n_jobs = -1, verbose = 1, return_train_score = True, random_state=42) 12# æ‹Ÿåˆè®­ç»ƒæ•°æ®random_cv.fit(X, y) Fitting 4 folds for each of 25 candidates, totalling 100 fits [Parallel(n_jobs=-1)]: Using backend LokyBackend with 4 concurrent workers. [Parallel(n_jobs=-1)]: Done 42 tasks | elapsed: 13.5min [Parallel(n_jobs=-1)]: Done 100 out of 100 | elapsed: 21.9min finished RandomizedSearchCV(cv=4, error_score=&#39;raise-deprecating&#39;, estimator=GradientBoostingRegressor(alpha=0.9, criterion=&#39;friedman_mse&#39;, init=None, learning_rate=0.1, loss=&#39;ls&#39;, max_depth=3, max_features=None, max_leaf_nodes=None, min_impurity_decrease=0.0, min_impurity_split=None, min_samples_leaf=1, min_sampl...te=42, subsample=1.0, tol=0.0001, validation_fraction=0.1, verbose=0, warm_start=False), fit_params=None, iid=&#39;warn&#39;, n_iter=25, n_jobs=-1, param_distributions={&#39;loss&#39;: [&#39;ls&#39;, &#39;lad&#39;, &#39;huber&#39;], &#39;n_estimators&#39;: [100, 500, 900, 1100, 1500], &#39;max_depth&#39;: [2, 3, 5, 10, 15], &#39;min_samples_leaf&#39;: [1, 2, 4, 6, 8], &#39;min_samples_split&#39;: [2, 4, 6, 10], &#39;max_features&#39;: [&#39;auto&#39;, &#39;sqrt&#39;, &#39;log2&#39;, None]}, pre_dispatch=&#39;2*n_jobs&#39;, random_state=42, refit=True, return_train_score=True, scoring=&#39;neg_mean_absolute_error&#39;, verbose=1) Scikit-learnä½¿ç”¨è´Ÿå¹³å‡ç»å¯¹è¯¯å·®è¿›è¡Œè¯„ä¼°ï¼Œå› ä¸ºå®ƒå¸Œæœ›åº¦é‡æœ€å¤§åŒ–ã€‚ å› æ­¤ï¼Œæ›´å¥½çš„åˆ†æ•°å°†æ›´æŽ¥è¿‘0.æˆ‘ä»¬å¯ä»¥å°†éšæœºæœç´¢çš„ç»“æžœå¯¼å…¥æ•°æ®å¸§ï¼Œå¹¶æŒ‰æ€§èƒ½è¿›è¡ŒæŽ’åºã€‚ 123# èŽ·å–cvçš„ç»“æžœå¹¶æŒ‰æ€§èƒ½æŽ’åºrandom_result = pd.DataFrame(random_cv.cv_results_).sort_values('mean_test_score', ascending = False)random_result.head(10) 1random_cv.best_estimator_ GradientBoostingRegressor(alpha=0.9, criterion=&#39;friedman_mse&#39;, init=None, learning_rate=0.1, loss=&#39;lad&#39;, max_depth=5, max_features=None, max_leaf_nodes=None, min_impurity_decrease=0.0, min_impurity_split=None, min_samples_leaf=6, min_samples_split=6, min_weight_fraction_leaf=0.0, n_estimators=500, n_iter_no_change=None, presort=&#39;auto&#39;, random_state=42, subsample=1.0, tol=0.0001, validation_fraction=0.1, verbose=0, warm_start=False) æœ€ä½³æ¢¯åº¦å¢žå¼ºæ¨¡åž‹å…·æœ‰ä»¥ä¸‹è¶…å‚æ•°: loss = lad n_estimators = 500 max_depth = 5 min_samples_leaf = 6 min_samples_split = 6 max_features = None (è¿™æ„å‘³ç€æœ€å¤§ç‰¹å¾æ•°é‡ç­‰äºŽæ•°æ®é›†ä¸­ç‰¹å¾çš„æ•°é‡) ä½¿ç”¨éšæœºæœç´¢æ˜¯ç¼©å°å¯èƒ½çš„è¶…å‚æ•°çš„å¥½æ–¹æ³•ã€‚æœ€åˆï¼Œæˆ‘ä»¬ä¸çŸ¥é“å“ªç§ç»„åˆæ•ˆæžœæœ€å¥½ï¼Œä½†è¿™è‡³å°‘ç¼©å°äº†é€‰é¡¹çš„èŒƒå›´ã€‚ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨éšæœºæœç´¢ç»“æžœæ¥é€šè¿‡åˆ›å»ºå…·æœ‰è¶…å‚æ•°çš„ç½‘æ ¼æ¥é€šçŸ¥ç½‘æ ¼æœç´¢ï¼Œè¿™äº›å‚æ•°æŽ¥è¿‘äºŽåœ¨éšæœºæœç´¢æœŸé—´æœ€æœ‰æ•ˆçš„å‚æ•°ã€‚æŽ¥ä¸‹æ¥å°†é‡ç‚¹æ”¾åœ¨å•ä¸ªæ ‘ä¸­çš„æ ‘æ•°é‡ï¼ˆn_estimatorsï¼‰ã€‚é€šè¿‡ä»…æ”¹å˜ä¸€ä¸ªè¶…å‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æŽ¥è§‚å¯Ÿå®ƒå¦‚ä½•å½±å“æ€§èƒ½ã€‚åœ¨è¿™ç§æƒ…å†µæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬é¢„è®¡ä¼šçœ‹åˆ°å¯¹è¿‡æ‹Ÿåˆçš„å½±å“ã€‚ åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ç½‘æ ¼æœç´¢ï¼Œç½‘æ ¼åªæœ‰n_estimatorsè¶…å‚æ•°ã€‚æˆ‘ä»¬å°†è¯„ä¼°æ ‘çš„ä¸ªæ•°ï¼Œç„¶åŽç»˜åˆ¶è®­ç»ƒå’Œæµ‹è¯•æ€§èƒ½ï¼Œä»¥äº†è§£å¢žåŠ æ ‘æ•°é‡å¯¹æ¨¡åž‹çš„å½±å“ã€‚æˆ‘ä»¬å°†å…¶ä»–è¶…å‚æ•°å›ºå®šä¸ºä»Žéšæœºæœç´¢è¿”å›žçš„æœ€ä½³å€¼ï¼Œä»¥ç›´æŽ¥æŸ¥çœ‹æ ‘çš„æ•°é‡å¯¹æ¨¡åž‹çš„å½±å“ã€‚ 12345678910111213# åˆ›å»ºä¸€ç³»åˆ—æ ‘çš„æ•°é‡trees_grid = &#123;'n_estimators': [100, 150, 200, 250, 300, 350, 400, 450, 500, 550, 600, 650, 700, 750, 800]&#125;model = GradientBoostingRegressor(loss = 'lad', max_depth = 5, min_samples_leaf = 6, min_samples_split = 6, max_features = None, random_state = 42)# å¯¹æ ‘çš„æ•°é‡è¿›è¡Œç½‘ç»œæœç´¢grid_search = GridSearchCV(estimator = model, param_grid=trees_grid, cv = 4, scoring = 'neg_mean_absolute_error', verbose = 1, n_jobs = -1, return_train_score = True) 12# æ‹Ÿåˆè®­ç»ƒæ•°æ®grid_search.fit(X, y) Fitting 4 folds for each of 15 candidates, totalling 60 fits [Parallel(n_jobs=-1)]: Using backend LokyBackend with 4 concurrent workers. [Parallel(n_jobs=-1)]: Done 42 tasks | elapsed: 3.4min [Parallel(n_jobs=-1)]: Done 60 out of 60 | elapsed: 6.2min finished GridSearchCV(cv=4, error_score=&#39;raise-deprecating&#39;, estimator=GradientBoostingRegressor(alpha=0.9, criterion=&#39;friedman_mse&#39;, init=None, learning_rate=0.1, loss=&#39;lad&#39;, max_depth=5, max_features=None, max_leaf_nodes=None, min_impurity_decrease=0.0, min_impurity_split=None, min_samples_leaf=6, min_samp...te=42, subsample=1.0, tol=0.0001, validation_fraction=0.1, verbose=0, warm_start=False), fit_params=None, iid=&#39;warn&#39;, n_jobs=-1, param_grid={&#39;n_estimators&#39;: [100, 150, 200, 250, 300, 350, 400, 450, 500, 550, 600, 650, 700, 750, 800]}, pre_dispatch=&#39;2*n_jobs&#39;, refit=True, return_train_score=True, scoring=&#39;neg_mean_absolute_error&#39;, verbose=1) 123456789101112# èŽ·å–ç»“æžœresults = pd.DataFrame(grid_search.cv_results_)# ç»˜åˆ¶ä¸åŒæ ‘çš„æ•°é‡çš„è®­ç»ƒå’Œæµ‹è¯•è¯¯å·®figsize(8, 8)plt.style.use('fivethirtyeight')plt.plot(results['param_n_estimators'], -1 * results['mean_test_score'], label = 'Testing Error')plt.plot(results['param_n_estimators'], -1 * results['mean_train_score'], label = 'Training Error')plt.xlabel('Number of Trees')plt.ylabel('Mean Abosolute Error')plt.legend();plt.title('Performance vs Number of Trees') Text(0.5, 1.0, &#39;Performance vs Number of Trees&#39;) 1results.sort_values('mean_test_score', ascending = False).head() ä»Žä¸Šå›¾æ¥çœ‹ï¼Œå¾ˆæ˜Žæ˜¾æˆ‘ä»¬çš„æ¨¡åž‹è¿‡æ‹Ÿåˆäº†ï¼è®­ç»ƒè¯¯å·®æ˜Žæ˜¾ä½ŽäºŽæµ‹è¯•è¯¯å·®ï¼Œè¿™è¡¨æ˜Žæ¨¡åž‹æ­£åœ¨å¾ˆå¥½åœ°å­¦ä¹ è®­ç»ƒæ•°æ®ï¼Œä½†æ˜¯æ— æ³•æ³›åŒ–åˆ°æµ‹è¯•æ•°æ®ã€‚éšç€æ ‘æ•°é‡çš„å¢žåŠ ï¼Œå¯¹è®­ç»ƒé›†çš„æ‹Ÿåˆæ•ˆæžœå˜å¥½ï¼Œæµ‹è¯•å’Œè®­ç»ƒè¯¯å·®éƒ½ä¼šå‡å°‘ï¼Œä½†è®­ç»ƒè¯¯å·®ä¼šæ›´å¿«åœ°å‡å°‘ã€‚ è®­ç»ƒè¯¯å·®å’Œæµ‹è¯•è¯¯å·®ä¹‹é—´å§‹ç»ˆå­˜åœ¨æ˜¾è‘—çš„å·®å¼‚ï¼ˆè®­ç»ƒè¯¯å·®å§‹ç»ˆè¾ƒä½Žï¼‰ï¼Œæˆ‘ä»¬å¸Œæœ›é€šè¿‡èŽ·å–æ›´å¤šè®­ç»ƒæ•°æ®æˆ–é™ä½Žæ¨¡åž‹çš„å¤æ‚æ€§æ¥å°è¯•é™ä½Žè¿‡æ‹Ÿåˆï¼Œä¾‹å¦‚å¯ä»¥è¿›è¡Œè¶…å‚æ•°è°ƒæ•´æˆ–æ­£åˆ™åŒ–ã€‚å¯¹äºŽGDBTå›žå½’ï¼Œå¯ä»¥å‡å°‘æ ‘çš„æ•°é‡ï¼Œå‡å°‘æ¯æ£µæ ‘çš„æœ€å¤§æ·±åº¦ï¼Œä»¥åŠå¢žåŠ å¶èŠ‚ç‚¹ä¸­çš„æœ€å°æ ·æœ¬æ•°ã€‚å¯¹äºŽä»»ä½•æƒ³è¦è¿›ä¸€æ­¥äº†è§£GDBTå›žå½’çš„äººæ¥è¯´ï¼Œè¿™æ˜¯ä¸€ç¯‡å¾ˆæ£’çš„æ–‡ç« ã€‚ç›®å‰ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨å…·æœ‰æœ€ä½³æ€§èƒ½çš„æ¨¡åž‹ï¼Œå¹¶æŽ¥å—å®ƒå¯èƒ½å¯¹è®­ç»ƒé›†è¿‡æ‹Ÿåˆçš„äº‹å®žã€‚ æ ¹æ®äº¤å‰éªŒè¯ç»“æžœï¼Œä½¿ç”¨800æ£µæ ‘çš„æœ€ä½³æ¨¡åž‹çš„äº¤å‰éªŒè¯è¯¯å·®åœ¨9ä»¥ä¸‹ã€‚è¿™è¡¨æ˜ŽEnergy Star Scoreèƒ½æºä¹‹æ˜Ÿåˆ†æ•°çš„å¹³å‡äº¤å‰éªŒè¯ä¼°è®¡åœ¨çœŸå®žç­”æ¡ˆçš„9åˆ†ä¹‹å†…ï¼Œå³ä½¿æ¨¡åž‹è¿‡æ‹Ÿåˆäº†ï¼Œä½†ä»ç„¶æ˜¯ä¸€ä¸ªä¸é”™çš„ç»“æžœã€‚ 6 ä½¿ç”¨æœ€ä½³æ¨¡åž‹è¯„ä¼°æµ‹è¯•é›†æˆ‘ä»¬å°†ä½¿ç”¨è¶…å‚æ•°è°ƒæ•´ä¸­çš„æœ€ä½³æ¨¡åž‹æ¥å¯¹æµ‹è¯•é›†è¿›è¡Œé¢„æµ‹ã€‚ è¯·è®°ä½ï¼Œæˆ‘ä»¬çš„æ¨¡åž‹ä»¥å‰ä»Žæœªè§è¿‡æµ‹è¯•é›†ï¼Œæ‰€ä»¥è¿™ä¸ªæ€§èƒ½åº”è¯¥æ˜¯æ¨¡åž‹åœ¨çŽ°å®žä¸–ç•Œä¸­éƒ¨ç½²æ—¶çš„è¡¨çŽ°çš„ä¸€ä¸ªå¾ˆå¥½çš„æŒ‡æ ‡ã€‚ ä¸ºäº†æ¯”è¾ƒï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æŸ¥çœ‹ä½¿ç”¨é»˜è®¤å‚æ•°çš„æ¨¡åž‹çš„æ€§èƒ½å¹¶å’Œæœ€ä½³æ¨¡åž‹è¿›è¡Œæ¯”è¾ƒã€‚ ä¸‹é¢çš„ä»£ç åˆ›å»ºæœ€ç»ˆæ¨¡åž‹ï¼Œè®­ç»ƒå®ƒï¼ˆå¸¦æœ‰æ—¶é—´ï¼‰ï¼Œå¹¶è¯„ä¼°æµ‹è¯•é›†ã€‚ 1234567# é»˜è®¤æ¨¡åž‹default_model = GradientBoostingRegressor(random_state = 42)# é€‰æ‹©æœ€ä¼˜æ¨¡åž‹final_model = grid_search.best_estimator_final_model GradientBoostingRegressor(alpha=0.9, criterion=&#39;friedman_mse&#39;, init=None, learning_rate=0.1, loss=&#39;lad&#39;, max_depth=5, max_features=None, max_leaf_nodes=None, min_impurity_decrease=0.0, min_impurity_split=None, min_samples_leaf=6, min_samples_split=6, min_weight_fraction_leaf=0.0, n_estimators=800, n_iter_no_change=None, presort=&#39;auto&#39;, random_state=42, subsample=1.0, tol=0.0001, validation_fraction=0.1, verbose=0, warm_start=False) 12%%timeit -n 1 -r 5default_model.fit(X, y) 1.36 s Â± 117 ms per loop (mean Â± std. dev. of 5 runs, 1 loop each) 12%%timeit -n 1 -r 5final_model.fit(X, y) 18.6 s Â± 471 ms per loop (mean Â± std. dev. of 5 runs, 1 loop each) 12345default_pred = default_model.predict(X_test)final_pred = final_model.predict(X_test)print('Default model performance on the test set: MAE = %0.4f.' % mae(y_test, default_pred))print('Final model performance on the test set: MAE = %0.4f.' % mae(y_test, final_pred)) Default model performance on the test set: MAE = 10.0130. Final model performance on the test set: MAE = 9.0453. æœ€ç»ˆçš„æ¨¡åž‹æ¯”åŸºçº¿æ¨¡åž‹çš„æ€§èƒ½æé«˜äº†å¤§çº¦10ï¼…ï¼Œä½†ä»£ä»·æ˜¯æ˜¾è‘—å¢žåŠ äº†è¿è¡Œæ—¶é—´ã€‚ æœºå™¨å­¦ä¹ é€šå¸¸æ˜¯ä¸€ä¸ªéœ€è¦æƒè¡¡çš„é¢†åŸŸï¼š åå·®ä¸Žæ–¹å·® å‡†ç¡®æ€§ä¸Žå¯è§£é‡Šæ€§ å‡†ç¡®æ€§ä¸Žè¿è¡Œæ—¶é—´ ä»¥åŠä½¿ç”¨å“ªç§æ¨¡åž‹ æœ€ç»ˆå†³å®šå–å†³äºŽå…·ä½“æƒ…å†µã€‚ è¿™é‡Œï¼Œè¿è¡Œæ—¶é—´çš„å¢žåŠ ä¸æ˜¯éšœç¢ï¼Œå› ä¸ºè™½ç„¶ç›¸å¯¹å·®å¼‚å¾ˆå¤§ï¼Œä½†è®­ç»ƒæ—¶é—´çš„ç»å¯¹é‡å€¼å¹¶ä¸æ˜¾ç€ã€‚ åœ¨ä¸åŒçš„æƒ…å†µä¸‹ï¼Œæƒè¡¡å¯èƒ½ä¸ä¸€æ ·ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦è€ƒè™‘æˆ‘ä»¬æ­£åœ¨ä¼˜åŒ–çš„å†…å®¹ä»¥åŠæˆ‘ä»¬å¿…é¡»ä½¿ç”¨çš„é™åˆ¶ã€‚ ä¸ºç›´è§‚åœ°äº†è§£é¢„æµ‹æ•ˆæžœï¼Œæˆ‘ä»¬å¯ä»¥ç»˜åˆ¶ä¸‹é¢ä¸¤ä¸ªå€¼çš„åˆ†å¸ƒï¼šæµ‹è¯•é›†ä¸Šçš„çœŸå®žå€¼å’Œæœ€ç»ˆæ¨¡åž‹çš„é¢„æµ‹å€¼ 123456789figsize(8, 8)# æµ‹è¯•é›†ä¸Šçš„çœŸå®žå€¼å’Œé¢„æµ‹å€¼çš„å¯†åº¦å›¾sns.kdeplot(final_pred, label = 'Predictions')sns.kdeplot(y_test, label = 'True Values')plt.xlabel('Energy Star Score')plt.ylabel('Density')plt.title('Test Values and Predictions') C:\Users\huangqiancun\Anaconda3\lib\site-packages\scipy\stats\stats.py:1713: FutureWarning: Using a non-tuple sequence for multidimensional indexing is deprecated; use `arr[tuple(seq)]` instead of `arr[seq]`. In the future this will be interpreted as an array index, `arr[np.array(seq)]`, which will result either in an error or a different result. return np.add.reduce(sorted[indexer] * weights, axis=axis) / sumval Text(0.5, 1.0, &#39;Test Values and Predictions&#39;) è™½ç„¶é¢„æµ‹å€¼çš„å¯†åº¦æ›´æŽ¥è¿‘æµ‹è¯•å€¼çš„ä¸­å€¼è€Œä¸æ˜¯100çš„å®žé™…å³°å€¼ï¼Œä½†åˆ†å¸ƒçœ‹èµ·æ¥å‡ ä¹Žç›¸åŒã€‚çœ‹æ¥æ¨¡åž‹åœ¨é¢„æµ‹æžå€¼æ—¶å¯èƒ½ä¸å¤ªå‡†ç¡® è€Œæ˜¯é¢„æµ‹å€¼æ›´æŽ¥è¿‘ä¸­ä½æ•°ã€‚ æŽ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç”»ä¸€ä¸‹é¢„æµ‹å€¼ä¸ŽçœŸå®žå€¼æ®‹å·®çš„ç›´æ–¹å›¾ã€‚ ç†æƒ³æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¸Œæœ›æ®‹å·®æ˜¯æ­£æ€åˆ†å¸ƒçš„ï¼Œè¿™æ„å‘³ç€æ¨¡åž‹åœ¨ä¸¤ä¸ªæ–¹å‘ï¼ˆé«˜å’Œä½Žï¼‰ä¸Šéƒ½æ˜¯é¢„æµ‹è¯¯å·®æƒ…å†µæ˜¯ä¸€æ ·çš„ã€‚ 1234567891011figsize(6, 6)# è®¡ç®—æ®‹å·®residuals = final_pred - y_test# æ®‹å·®çš„ç›´æ–¹å›¾plt.hist(residuals, color = 'red', bins = 20, edgecolor = 'black')plt.xlabel('Error')plt.ylabel('Count')plt.title('Distribution of Residuals') Text(0.5, 1.0, &#39;Distribution of Residuals&#39;) æ®‹å·®æŽ¥è¿‘æ­£æ€åˆ†å¸ƒï¼Œä½Žç«¯æœ‰ä¸€äº›æ˜Žæ˜¾çš„å¼‚å¸¸å€¼ã€‚ è¿™äº›è¡¨æ˜Žæ¨¡åž‹ä¼°è®¡è¿œä½ŽäºŽçœŸå®žå€¼ã€‚ 6.1 å°ç»“ä»¥ä¸Šæˆ‘ä»¬å®Œæˆäº†æœºå™¨å­¦ä¹ çš„4åˆ°6ä¸‰ä¸ªæ­¥éª¤ï¼š å»ºç«‹baselineå¹¶æ ¹æ®æ€§èƒ½æŒ‡æ ‡æ¯”è¾ƒå¤šä¸ªæœºå™¨å­¦ä¹ æ¨¡åž‹ å¯¹æœ€ä½³æ¨¡åž‹æ‰§è¡Œè¶…å‚æ•°è°ƒæ•´ï¼Œä»¥é’ˆå¯¹è¯¥é—®é¢˜è¿›è¡Œä¼˜åŒ– ä½¿ç”¨æœ€ä½³æ¨¡åž‹è¯„ä¼°æµ‹è¯•é›† ç»“æžœè¡¨æ˜Žæœºå™¨å­¦ä¹ é€‚ç”¨äºŽæˆ‘ä»¬çš„é—®é¢˜ï¼Œæœ€ç»ˆæ¨¡åž‹èƒ½å¤Ÿå°†å»ºç­‘ç‰©çš„èƒ½æºä¹‹æ˜Ÿåˆ†æ•°é¢„æµ‹åˆ°9.1åˆ†ä»¥å†…ï¼ˆå°½ç®¡å­˜åœ¨è¿‡æ‹ŸåˆçŽ°è±¡ï¼‰ã€‚æˆ‘ä»¬è¿˜çœ‹åˆ°ï¼š è¶…å‚æ•°è°ƒæ•´èƒ½å¤Ÿç•¥å¾®æ”¹å–„æ¨¡åž‹çš„æ€§èƒ½ï¼Œä½†åŒæ—¶ä¼šæ¶ˆè€—å¤§é‡çš„æ—¶é—´ã€‚è¿™è¡¨æ˜Žï¼Œæ­£ç¡®çš„ç‰¹å¾å·¥ç¨‹å’Œæ”¶é›†æ›´å¤šæ•°æ®ï¼ˆå¦‚æžœå¯èƒ½ï¼ï¼‰æ¯”å¾®è°ƒæ¨¡åž‹æœ‰æ›´å¤§çš„å›žæŠ¥ã€‚æˆ‘ä»¬è¿˜è§‚å¯Ÿäº†è¿è¡Œæ—¶é—´ä¸Žç²¾åº¦ä¹‹é—´çš„æƒè¡¡ï¼Œè¿™æ˜¯æˆ‘ä»¬åœ¨è®¾è®¡æœºå™¨å­¦ä¹ æ¨¡åž‹æ—¶å¿…é¡»è€ƒè™‘çš„ä¼—å¤šå› ç´ ä¹‹ä¸€ã€‚ æˆ‘ä»¬çŸ¥é“æˆ‘ä»¬çš„æ¨¡åž‹æ˜¯å‡†ç¡®çš„ï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦çŸ¥é“ä¸ºä»€ä¹ˆå®ƒèƒ½åšå‡ºæ­£ç¡®é¢„æµ‹ï¼æœºå™¨å­¦ä¹ è¿‡ç¨‹çš„ä¸‹ä¸€æ­¥è‡³å…³é‡è¦ï¼šå°è¯•ç†è§£æ¨¡åž‹å¦‚ä½•è¿›è¡Œé¢„æµ‹ï¼Œå³å°½å¯èƒ½åœ°è§£é‡Šæ¨¡åž‹ç»“æžœã€‚å®žçŽ°é«˜ç²¾åº¦æ˜¯å¾ˆå¥½çš„ï¼Œä½†å¦‚æžœæˆ‘ä»¬èƒ½å¤Ÿæ‰¾å‡ºæ¨¡åž‹èƒ½å¤Ÿå‡†ç¡®é¢„æµ‹çš„åŽŸå› ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨è¿™äº›ä¿¡æ¯æ¥æ›´å¥½åœ°ç†è§£é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œæ¨¡åž‹ä¾é ä»€ä¹ˆç‰¹å¾æ¥æŽ¨æ–­èƒ½æºä¹‹æ˜Ÿåˆ†æ•°ï¼Ÿå¯ä»¥ä½¿ç”¨æ­¤æ¨¡åž‹è¿›è¡Œç‰¹å¾é€‰æ‹©ï¼Œå¹¶å®žçŽ°æ›´æ˜“äºŽè§£é‡Šçš„æ›´ç®€å•æ¨¡åž‹å—ï¼Ÿ åœ¨æŽ¥ä¸‹æ¥çš„éƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†å°è¯•å›žç­”è¿™äº›é—®é¢˜å¹¶ä»Žé¡¹ç›®ä¸­å¾—å‡ºæœ€ç»ˆç»“è®ºï¼ 7 è§£é‡Šæ¨¡åž‹æœ¬èŠ‚ï¼Œæˆ‘ä»¬å°†æŸ¥çœ‹æˆ‘ä»¬æž„å»ºçš„é»‘ç›’å­æ¨¡åž‹ã€‚æˆ‘ä»¬çŸ¥é“è¿™æ˜¯å‡†ç¡®çš„ï¼Œå› ä¸ºå®ƒå¯ä»¥é¢„æµ‹èƒ½æºä¹‹æ˜Ÿåˆ†æ•°åœ¨çœŸå®žå€¼çš„ç›¸å¯¹è¯¯å·®åœ¨9åˆ†ä¹‹å†…ï¼Œä½†å®ƒç©¶ç«Ÿæ˜¯å¦‚ä½•åšå‡ºé¢„æµ‹çš„å‘¢ï¼Ÿ æˆ‘ä»¬å°†ç ”ç©¶ä¸€äº›å°è¯•ç†è§£GBDTå›žå½’ç„¶åŽå¾—å‡ºç»“è®ºã€‚ 123456# å¼•å…¥æ ‘æ¨¡åž‹from sklearn import tree# LIME ç”¨äºŽè§£é‡Šé¢„æµ‹import lime import lime.lime_tabular 7.1 é‡æ–°æž„å»ºæœ€ç»ˆæ¨¡åž‹123456# ä½¿ç”¨è¶…å‚æ•°æœç´¢çš„ç»“æžœé‡æž„æ¨¡åž‹model = GradientBoostingRegressor(loss='lad', max_depth=5, max_features=None, min_samples_leaf=6, min_samples_split=6, n_estimators=800, random_state=42)model.fit(X, y) GradientBoostingRegressor(alpha=0.9, criterion=&#39;friedman_mse&#39;, init=None, learning_rate=0.1, loss=&#39;lad&#39;, max_depth=5, max_features=None, max_leaf_nodes=None, min_impurity_decrease=0.0, min_impurity_split=None, min_samples_leaf=6, min_samples_split=6, min_weight_fraction_leaf=0.0, n_estimators=800, n_iter_no_change=None, presort=&#39;auto&#39;, random_state=42, subsample=1.0, tol=0.0001, validation_fraction=0.1, verbose=0, warm_start=False) 1234# åœ¨æµ‹è¯•é›†ä¸Šåšé¢„æµ‹model_pred = model.predict(X_test)print('Final Model Performance on the test set: MAE = %0.4f' % mae(y_test, model_pred)) Final Model Performance on the test set: MAE = 9.0453 7.2 è§£é‡Šæ¨¡åž‹æœºå™¨å­¦ä¹ ç»å¸¸è¢«æ‰¹è¯„ä¸ºä¸€ä¸ªé»‘ç›’å­ï¼š æˆ‘ä»¬æŠŠæ•°æ®ä¸¢è¿›åŽ»ï¼Œå®ƒç»™äº†æˆ‘ä»¬é¢„æµ‹ç­”æ¡ˆã€‚ è™½ç„¶è¿™äº›ç­”æ¡ˆé€šå¸¸éžå¸¸å‡†ç¡®ï¼Œä½†è¯¥æ¨¡åž‹å¹¶æœªå‘Šè¯‰æˆ‘ä»¬å®ƒæ˜¯å¦‚ä½•å®žé™…åšå‡ºé¢„æµ‹çš„ã€‚ è¿™åœ¨æŸç§ç¨‹åº¦ä¸Šæ˜¯æ­£ç¡®çš„ï¼Œä½†æˆ‘ä»¬å¯ä»¥é€šè¿‡å¤šç§æ–¹å¼å°è¯•å¹¶å‘çŽ°æ¨¡åž‹å¦‚ä½•â€œæ€è€ƒâ€ï¼Œä¾‹å¦‚å±€éƒ¨å¯ç†è§£çš„ä¸Žæ¨¡åž‹æ— å…³çš„è§£é‡Šå™¨(Locally Interpretable Model-agnostic Explainer, LIME)ã€‚ è¿™ç§æ–¹æ³•è¯•å›¾é€šè¿‡å­¦ä¹ å›´ç»•é¢„æµ‹çš„çº¿æ€§å›žå½’æ¥è§£é‡Šæ¨¡åž‹é¢„æµ‹ï¼Œè¿™æ˜¯ä¸€ä¸ªæ˜“äºŽè§£é‡Šçš„æ¨¡åž‹ï¼ æˆ‘ä»¬å°†æŽ¢ç´¢å‡ ç§è§£é‡Šæ¨¡åž‹çš„æ–¹æ³•ï¼š ç‰¹å¾é‡è¦æ€§ å±€éƒ¨å¯ç†è§£çš„ä¸Žæ¨¡åž‹æ— å…³çš„è§£é‡Šå™¨ï¼ˆLIMEï¼‰ æ£€æŸ¥æ•´ä½“ä¸­çš„å•ä¸ªå†³ç­–æ ‘ 7.2 ç‰¹å¾é‡è¦æ€§æˆ‘ä»¬å¯ä»¥è§£é‡Šå†³ç­–æ ‘é›†æˆçš„åŸºæœ¬æ–¹æ³•ä¹‹ä¸€æ˜¯é€šè¿‡ç‰¹å¾é‡è¦æ€§ã€‚ è¿™äº›å¯ä»¥è§£é‡Šä¸ºæœ€èƒ½é¢„æµ‹ç›®æ ‡çš„ç‰¹å¾ã€‚ è™½ç„¶ç‰¹å¾é‡è¦æ€§çš„å®žé™…ç»†èŠ‚éžå¸¸å¤æ‚(è¿™é‡Œæ˜¯ç›¸å…³è®¨è®º)ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç›¸å¯¹å€¼æ¥æ¯”è¾ƒç‰¹å¾å¹¶ç¡®å®šå“ªäº›ä¸Žæˆ‘ä»¬çš„é—®é¢˜æœ€ç›¸å…³ã€‚ åœ¨scikit-learnä¸­ï¼Œä»Žç»è¿‡è®­ç»ƒçš„æ ‘é›†æˆä¸­æå–ç‰¹å¾é‡è¦æ€§éžå¸¸å®¹æ˜“ã€‚ æˆ‘ä»¬å°†ç‰¹å¾é‡è¦æ€§å­˜å‚¨åœ¨æ•°æ®å¸§ä¸­ä»¥åˆ†æžå’Œå¯è§†åŒ–å®ƒä»¬ã€‚ 12345678# æå–ç‰¹å¾é‡è¦æ€§ï¼Œä¿å­˜åˆ°æ•°æ®å¸§ä¸­feature_results = pd.DataFrame(&#123;'feature': list(train_features.columns), 'importance': model.feature_importances_&#125;)# æ˜¾ç¤ºæœ€é‡è¦çš„10ä¸ªç‰¹å¾feature_results = feature_results.sort_values('importance', ascending = False).reset_index(drop=True)feature_results.head(10) Site EUI (kBtu/ftÂ²) å’ŒWeather Normalized Site Electricity Intensity (kWh/ftÂ²)æ˜¯ä¸¤ä¸ªç›¸å¯¹æœ€é‡è¦çš„ä¸¤ä¸ªç‰¹å¾ã€‚ä¹‹åŽï¼Œç›¸å¯¹é‡è¦æ€§å¤§å¹…ä¸‹é™ï¼Œè¿™è¡¨æ˜Žæˆ‘ä»¬å¯èƒ½ä¸éœ€è¦ä¿ç•™æ‰€æœ‰ç‰¹å¾æ¥åˆ›å»ºå…·æœ‰å‡ ä¹Žç›¸åŒæ€§èƒ½çš„æ¨¡åž‹ã€‚ è®©æˆ‘ä»¬å¯è§†åŒ–ç‰¹å¾é‡è¦æ€§ã€‚ 12345678figsize(12, 10)# å°†æœ€é‡è¦çš„10ä¸ªç‰¹å¾ç”»æˆç›´æ–¹å›¾feature_results.loc[:9, :].plot(x = 'feature', y = 'importance', edgecolor = 'k', kind = 'barh', color = 'blue')plt.xlabel('Relative Importance', size = 20)plt.ylabel('')plt.title('Feature Importance from Random Forest', size = 30) Text(0.5, 1.0, &#39;Feature Importance from Random Forest&#39;) åˆ©ç”¨ç‰¹å¾é‡è¦æ€§è¿›è¡Œç‰¹å¾é€‰æ‹©: é‰´äºŽå¹¶éžæ¯ä¸ªç‰¹å¾å¯¹äºŽå½±å“åˆ†æ•°éƒ½å¾ˆé‡è¦ï¼Œå¦‚æžœæˆ‘ä»¬å°†éšæœºæ£®æž—ä¸­æœ€é‡è¦ç‰¹å¾çš„å­é›†ç”¨äºŽæ›´ç®€å•çš„æ¨¡åž‹ï¼ˆå¦‚çº¿æ€§å›žå½’ï¼‰ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ çº¿æ€§å›žå½’ç¡®å®žä¼˜äºŽåŸºçº¿ï¼Œä½†ä¸Žæ¨¡åž‹å¤æ‚æ¨¡åž‹ç›¸æ¯”è¡¨çŽ°ä¸ä½³ã€‚ è®©æˆ‘ä»¬å°è¯•ä»…åœ¨çº¿æ€§å›žå½’ä¸­çš„ä½¿ç”¨10ä¸ªæœ€é‡è¦çš„ç‰¹å¾æ¥æŸ¥çœ‹æ€§èƒ½æ˜¯å¦å¾—åˆ°æ”¹å–„ã€‚ æˆ‘ä»¬è¿˜å¯ä»¥é™åˆ¶è¿™äº›åŠŸèƒ½å¹¶é‡æ–°è¯„ä¼°éšæœºæ£®æž—ã€‚ 123456789101112# æå–é‡è¦çš„10ä¸ªç‰¹å¾åç§°most_important_features = feature_results['feature'][:10]# å¯»æ‰¾å¯¹åº”ç‰¹å¾çš„indexindices = [list(train_features.columns).index(x) for x in most_important_features]# ä»…ä¿ç•™æœ€é‡è¦çš„10ä¸ªç‰¹å¾X_reduced = X[:, indices]X_test_reduced = X_test[:, indices]print('Most important training features shape: ', X_reduced.shape)print('Most important testing features shape: ', X_test_reduced.shape) Most important training features shape: (6622, 10) Most important testing features shape: (2839, 10) 12345678910111213lr = LinearRegression()# æ‹Ÿåˆæ‰€æœ‰ç‰¹å¾lr.fit(X, y)lr_full_pred = lr.predict(X_test)# ä»…æ‹Ÿåˆæœ€é‡è¦çš„10ä¸ªç‰¹å¾lr.fit(X_reduced, y)lr_reduced_pred = lr.predict(X_test_reduced)# ç»“æžœå¯¹æ¯”print('Linear Regression Full Results: MAE = %0.4f.' % mae(y_test, lr_full_pred))print('Linear Regression Reduced Results: MAE = %0.4f.' % mae(y_test, lr_reduced_pred)) Linear Regression Full Results: MAE = 13.4651. Linear Regression Reduced Results: MAE = 14.4016. å¯ä»¥çœ‹åˆ°ï¼Œå‡å°‘ç‰¹å¾å¹¶æ²¡æœ‰æ”¹å–„çº¿æ€§å›žå½’ç»“æžœï¼ äº‹å®žè¯æ˜Žï¼Œä½Žé‡è¦æ€§ç‰¹å¾ä¸­çš„é¢å¤–ä¿¡æ¯ç¡®å®žå¯ä»¥æé«˜æ€§èƒ½ã€‚ è®©æˆ‘ä»¬å†çœ‹çœ‹åœ¨æ¢¯åº¦æå‡å›žå½’ä¸­ä½¿ç”¨å‡å°‘çš„ç‰¹å¾é›†ã€‚ æ€§èƒ½å¦‚ä½•å—åˆ°å½±å“ï¼Ÿ 12345678910# ä½¿ç”¨ä¸€æ ·çš„è¶…å‚æ•°å»ºç«‹æ¢¯åº¦æå‡æ¨¡åž‹model_reduced = GradientBoostingRegressor(loss='lad', max_depth=5, max_features=None, min_samples_leaf=6, min_samples_split=6, n_estimators=800, random_state=42)# æ‹Ÿåˆå¹¶é¢„æµ‹model_reduced.fit(X_reduced, y)model_reduced_pred = model_reduced.predict(X_test_reduced)print('Gradient Boosted Reduced Results: MAE = %0.4f' % mae(y_test, model_reduced_pred)) Gradient Boosted Reduced Results: MAE = 9.5251 éšç€ç‰¹å¾çš„å‡å°‘ï¼Œæ¨¡åž‹ç»“æžœç•¥å·®ï¼Œæˆ‘ä»¬å°†ä¸ºæœ€ç»ˆæ¨¡åž‹ä¿ç•™æ‰€æœ‰ç‰¹å¾ã€‚ å‡å°‘ç‰¹å¾æ•°é‡æ˜¯å› ä¸ºæˆ‘ä»¬æ€»æ˜¯å¸Œæœ›æž„å»ºæœ€ç®€çº¦çš„æ¨¡åž‹ï¼š å³å…·æœ‰è¶³å¤Ÿæ€§èƒ½çš„æœ€ç®€å•æ¨¡åž‹ã€‚ ä½¿ç”¨è¾ƒå°‘ç‰¹å¾çš„æ¨¡åž‹å°†æ›´å¿«åœ°è®­ç»ƒå¹¶ä¸”é€šå¸¸æ›´å®¹æ˜“è§£é‡Šã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¿ç•™æ‰€æœ‰ç‰¹å¾å¹¶ä¸æ˜¯ä¸»è¦é—®é¢˜ï¼Œå› ä¸ºè®­ç»ƒæ—¶é—´åœ¨æœ¬é¡¹ç›®ä¸­å¹¶ä¸é‡è¦ï¼Œæˆ‘ä»¬ä»ç„¶å¯ä»¥ä½¿ç”¨è®¸å¤šç‰¹å¾è¿›è¡Œè§£é‡Šã€‚ 7.3 å±€éƒ¨å¯ç†è§£çš„ä¸Žæ¨¡åž‹æ— å…³çš„è§£é‡Šå™¨ï¼ˆLIMEï¼‰æˆ‘ä»¬å°†ä½¿ç”¨LIMEæ¥è§£é‡Šæ¨¡åž‹æ‰€åšçš„ä¸ªåˆ«é¢„æµ‹ã€‚ LIMEæ˜¯ä¸€é¡¹ç›¸å¯¹è¾ƒæ–°çš„å·¥ä½œï¼Œæ—¨åœ¨é€šè¿‡ç”¨çº¿æ€§æ¨¡åž‹è¿‘ä¼¼ä¸€ä¸ªé¢„æµ‹å‘¨å›´çš„åŒºåŸŸæ¥å±•ç¤ºæœºå™¨å­¦ä¹ æ¨¡åž‹çš„æ€è€ƒæ–¹å¼ã€‚ æˆ‘ä»¬å°†è¯•å›¾è§£é‡Šæ¨¡åž‹åœ¨ä¸¤ä¸ªä¾‹å­ä¸Šå¾—åˆ°çš„é¢„æµ‹ç»“æžœï¼šå…¶ä¸­ä¸€ä¸ªä¾‹å­å¾—åˆ°çš„é¢„æµ‹ç»“æžœéžå¸¸å·®ï¼Œå¦ä¸€ä¸ªä¾‹å­å¾—åˆ°çš„é¢„æµ‹ç»“æžœéžå¸¸å¥½ã€‚ æˆ‘ä»¬å°†é™åˆ¶ä½¿ç”¨çš„10ä¸ªæœ€é‡è¦çš„ç‰¹å¾æ¥å¸®åŠ©è§£é‡Šã€‚ è™½ç„¶åœ¨10ä¸ªæœ€é‡è¦çš„ç‰¹å¾ä¸Šè®­ç»ƒçš„æ¨¡åž‹ç¨å¾®ä¸å‡†ç¡®ï¼Œä½†æˆ‘ä»¬é€šå¸¸å¿…é¡»æƒè¡¡å¯è§£é‡Šæ€§çš„å‡†ç¡®æ€§ï¼ 123456# è®¡ç®—æ®‹å·®residuals = abs(model_reduced_pred - y_test)# æå–æœ€å·®å’Œæœ€å¥½çš„é¢„æµ‹wrong = X_test_reduced[np.argmax(residuals), :]right = X_test_reduced[np.argmin(residuals), :] 12345# åˆ›å»ºlimeè§£é‡Šå™¨explainer = lime.lime_tabular.LimeTabularExplainer(training_data = X_reduced, mode = 'regression', training_labels = y, feature_names = list(most_important_features)) 1234567891011# ä¸ºé”™è¯¯ç¤ºä¾‹æ˜¾ç¤ºé¢„æµ‹å€¼å’ŒçœŸå®žå€¼print('Prediction: %0.4f' % model_reduced.predict(wrong.reshape(1, -1)))print('Actual Value: %0.4f' % y_test[np.argmax(residuals)])# è§£é‡Šé”™è¯¯é¢„æµ‹wrong_exp = explainer.explain_instance(data_row = wrong, predict_fn = model_reduced.predict)# ç»˜åˆ¶é¢„æµ‹è§£é‡Šwrong_exp.as_pyplot_figure()plt.title('Explanation of Prediction', size = 28);plt.xlabel('Effect on Prediction', size = 22); Prediction: 14.1601 Actual Value: 96.0000 C:\Users\huangqiancun\Anaconda3\lib\site-packages\sklearn\linear_model\ridge.py:125: LinAlgWarning: scipy.linalg.solve Ill-conditioned matrix detected. Result is not guaranteed to be accurate. Reciprocal condition number3.113013e-27 overwrite_a=True).T 1wrong_exp.show_in_notebook(show_predicted_value=False) var lime = /******/ (function(modules) { // webpackBootstrap /******/ // The module cache /******/ var installedModules = {}; /******/ /******/ // The require function /******/ function __webpack_require__(moduleId) { /******/ /******/ // Check if module is in cache /******/ if(installedModules[moduleId]) /******/ return installedModules[moduleId].exports; /******/ /******/ // Create a new module (and put it into the cache) /******/ var module = installedModules[moduleId] = { /******/ exports: {}, /******/ id: moduleId, /******/ loaded: false /******/ }; /******/ /******/ // Execute the module function /******/ modules[moduleId].call(module.exports, module, module.exports, __webpack_require__); /******/ /******/ // Flag the module as loaded /******/ module.loaded = true; /******/ /******/ // Return the exports of the module /******/ return module.exports; /******/ } /******/ /******/ /******/ // expose the modules object (__webpack_modules__) /******/ __webpack_require__.m = modules; /******/ /******/ // expose the module cache /******/ __webpack_require__.c = installedModules; /******/ /******/ // __webpack_public_path__ /******/ __webpack_require__.p = ""; /******/ /******/ // Load entry module and return exports /******/ return __webpack_require__(0); /******/ }) /************************************************************************/ /******/ ([ /* 0 */ /***/ (function(module, exports, __webpack_require__) { /* WEBPACK VAR INJECTION */(function(global) {'use strict'; Object.defineProperty(exports, "__esModule", { value: true }); exports.PredictedValue = exports.PredictProba = exports.Barchart = exports.Explanation = undefined; var _explanation = __webpack_require__(1); var _explanation2 = _interopRequireDefault(_explanation); var _bar_chart = __webpack_require__(3); var _bar_chart2 = _interopRequireDefault(_bar_chart); var _predict_proba = __webpack_require__(6); var _predict_proba2 = _interopRequireDefault(_predict_proba); var _predicted_value = __webpack_require__(7); var _predicted_value2 = _interopRequireDefault(_predicted_value); function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; } if (!global._babelPolyfill) { __webpack_require__(8); } __webpack_require__(339); exports.Explanation = _explanation2.default; exports.Barchart = _bar_chart2.default; exports.PredictProba = _predict_proba2.default; exports.PredictedValue = _predicted_value2.default; //require('style-loader'); /* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }()))) /***/ }), /* 1 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; Object.defineProperty(exports, "__esModule", { value: true }); var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }(); var _d2 = __webpack_require__(2); var _d3 = _interopRequireDefault(_d2); var _bar_chart = __webpack_require__(3); var _bar_chart2 = _interopRequireDefault(_bar_chart); var _lodash = __webpack_require__(4); function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; } function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } } var Explanation = function () { function Explanation(class_names) { _classCallCheck(this, Explanation); this.names = class_names; if (class_names.length < 10) { this.colors = _d3.default.scale.category10().domain(this.names); this.colors_i = _d3.default.scale.category10().domain((0, _lodash.range)(this.names.length)); } else { this.colors = _d3.default.scale.category20().domain(this.names); this.colors_i = _d3.default.scale.category20().domain((0, _lodash.range)(this.names.length)); } } // exp: [(feature-name, weight), ...] // label: int // div: d3 selection Explanation.prototype.show = function show(exp, label, div) { var svg = div.append('svg').style('width', '100%'); var colors = ['#5F9EA0', this.colors_i(label)]; var names = ['NOT ' + this.names[label], this.names[label]]; if (this.names.length == 2) { colors = [this.colors_i(0), this.colors_i(1)]; names = this.names; } var plot = new _bar_chart2.default(svg, exp, true, names, colors, true, 10); svg.style('height', plot.svg_height + 'px'); }; // exp has all ocurrences of words, with start index and weight: // exp = [('word', 132, -0.13), ('word3', 111, 1.3) Explanation.prototype.show_raw_text = function show_raw_text(exp, label, raw, div) { var opacity = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true; //let colors=['#5F9EA0', this.colors(this.exp['class'])]; var colors = ['#5F9EA0', this.colors_i(label)]; if (this.names.length == 2) { colors = [this.colors_i(0), this.colors_i(1)]; } var word_lists = [[], []]; var max_weight = -1; var _iteratorNormalCompletion = true; var _didIteratorError = false; var _iteratorError = undefined; try { for (var _iterator = exp[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) { var _step$value = _slicedToArray(_step.value, 3), word = _step$value[0], start = _step$value[1], weight = _step$value[2]; if (weight > 0) { word_lists[1].push([start, start + word.length, weight]); } else { word_lists[0].push([start, start + word.length, -weight]); } max_weight = Math.max(max_weight, Math.abs(weight)); } } catch (err) { _didIteratorError = true; _iteratorError = err; } finally { try { if (!_iteratorNormalCompletion && _iterator.return) { _iterator.return(); } } finally { if (_didIteratorError) { throw _iteratorError; } } } if (!opacity) { max_weight = 0; } this.display_raw_text(div, raw, word_lists, colors, max_weight, true); }; // exp is list of (feature_name, value, weight) Explanation.prototype.show_raw_tabular = function show_raw_tabular(exp, label, div) { div.classed('lime', true).classed('table_div', true); var colors = ['#5F9EA0', this.colors_i(label)]; if (this.names.length == 2) { colors = [this.colors_i(0), this.colors_i(1)]; } var table = div.append('table'); var thead = table.append('tr'); thead.append('td').text('Feature'); thead.append('td').text('Value'); thead.style('color', 'black').style('font-size', '20px'); var _iteratorNormalCompletion2 = true; var _didIteratorError2 = false; var _iteratorError2 = undefined; try { for (var _iterator2 = exp[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) { var _step2$value = _slicedToArray(_step2.value, 3), fname = _step2$value[0], value = _step2$value[1], weight = _step2$value[2]; var tr = table.append('tr'); tr.style('border-style', 'hidden'); tr.append('td').text(fname); tr.append('td').text(value); if (weight > 0) { tr.style('background-color', colors[1]); } else if (weight < 0) { tr.style('background-color', colors[0]); } else { tr.style('color', 'black'); } } } catch (err) { _didIteratorError2 = true; _iteratorError2 = err; } finally { try { if (!_iteratorNormalCompletion2 && _iterator2.return) { _iterator2.return(); } } finally { if (_didIteratorError2) { throw _iteratorError2; } } } }; Explanation.prototype.hexToRgb = function hexToRgb(hex) { var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex); return result ? { r: parseInt(result[1], 16), g: parseInt(result[2], 16), b: parseInt(result[3], 16) } : null; }; Explanation.prototype.applyAlpha = function applyAlpha(hex, alpha) { var components = this.hexToRgb(hex); return 'rgba(' + components.r + "," + components.g + "," + components.b + "," + alpha.toFixed(3) + ")"; }; // sord_lists is an array of arrays, of length (colors). if with_positions is true, // word_lists is an array of [start,end] positions instead Explanation.prototype.display_raw_text = function display_raw_text(div, raw_text) { var word_lists = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : []; var colors = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : []; var max_weight = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1; var positions = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false; div.classed('lime', true).classed('text_div', true); div.append('h3').text('Text with highlighted words'); var highlight_tag = 'span'; var text_span = div.append('span').style('white-space', 'pre-wrap').text(raw_text); var position_lists = word_lists; if (!positions) { position_lists = this.wordlists_to_positions(word_lists, raw_text); } var objects = []; var _iteratorNormalCompletion3 = true; var _didIteratorError3 = false; var _iteratorError3 = undefined; try { var _loop = function _loop() { var i = _step3.value; position_lists[i].map(function (x) { return objects.push({ 'label': i, 'start': x[0], 'end': x[1], 'alpha': max_weight === 0 ? 1 : x[2] / max_weight }); }); }; for (var _iterator3 = (0, _lodash.range)(position_lists.length)[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) { _loop(); } } catch (err) { _didIteratorError3 = true; _iteratorError3 = err; } finally { try { if (!_iteratorNormalCompletion3 && _iterator3.return) { _iterator3.return(); } } finally { if (_didIteratorError3) { throw _iteratorError3; } } } objects = (0, _lodash.sortBy)(objects, function (x) { return x['start']; }); var node = text_span.node().childNodes[0]; var subtract = 0; var _iteratorNormalCompletion4 = true; var _didIteratorError4 = false; var _iteratorError4 = undefined; try { for (var _iterator4 = objects[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) { var obj = _step4.value; var word = raw_text.slice(obj.start, obj.end); var start = obj.start - subtract; var end = obj.end - subtract; var match = document.createElement(highlight_tag); match.appendChild(document.createTextNode(word)); match.style.backgroundColor = this.applyAlpha(colors[obj.label], obj.alpha); var after = node.splitText(start); after.nodeValue = after.nodeValue.substring(word.length); node.parentNode.insertBefore(match, after); subtract += end; node = after; } } catch (err) { _didIteratorError4 = true; _iteratorError4 = err; } finally { try { if (!_iteratorNormalCompletion4 && _iterator4.return) { _iterator4.return(); } } finally { if (_didIteratorError4) { throw _iteratorError4; } } } }; Explanation.prototype.wordlists_to_positions = function wordlists_to_positions(word_lists, raw_text) { var ret = []; var _iteratorNormalCompletion5 = true; var _didIteratorError5 = false; var _iteratorError5 = undefined; try { for (var _iterator5 = word_lists[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) { var words = _step5.value; if (words.length === 0) { ret.push([]); continue; } var re = new RegExp("\\b(" + words.join('|') + ")\\b", 'gm'); var temp = void 0; var list = []; while ((temp = re.exec(raw_text)) !== null) { list.push([temp.index, temp.index + temp[0].length]); } ret.push(list); } } catch (err) { _didIteratorError5 = true; _iteratorError5 = err; } finally { try { if (!_iteratorNormalCompletion5 && _iterator5.return) { _iterator5.return(); } } finally { if (_didIteratorError5) { throw _iteratorError5; } } } return ret; }; return Explanation; }(); exports.default = Explanation; /***/ }), /* 2 */ /***/ (function(module, exports, __webpack_require__) { var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;!function() { var d3 = { version: "3.5.17" }; var d3_arraySlice = [].slice, d3_array = function(list) { return d3_arraySlice.call(list); }; var d3_document = this.document; function d3_documentElement(node) { return node && (node.ownerDocument || node.document || node).documentElement; } function d3_window(node) { return node && (node.ownerDocument && node.ownerDocument.defaultView || node.document && node || node.defaultView); } if (d3_document) { try { d3_array(d3_document.documentElement.childNodes)[0].nodeType; } catch (e) { d3_array = function(list) { var i = list.length, array = new Array(i); while (i--) array[i] = list[i]; return array; }; } } if (!Date.now) Date.now = function() { return +new Date(); }; if (d3_document) { try { d3_document.createElement("DIV").style.setProperty("opacity", 0, ""); } catch (error) { var d3_element_prototype = this.Element.prototype, d3_element_setAttribute = d3_element_prototype.setAttribute, d3_element_setAttributeNS = d3_element_prototype.setAttributeNS, d3_style_prototype = this.CSSStyleDeclaration.prototype, d3_style_setProperty = d3_style_prototype.setProperty; d3_element_prototype.setAttribute = function(name, value) { d3_element_setAttribute.call(this, name, value + ""); }; d3_element_prototype.setAttributeNS = function(space, local, value) { d3_element_setAttributeNS.call(this, space, local, value + ""); }; d3_style_prototype.setProperty = function(name, value, priority) { d3_style_setProperty.call(this, name, value + "", priority); }; } } d3.ascending = d3_ascending; function d3_ascending(a, b) { return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN; } d3.descending = function(a, b) { return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN; }; d3.min = function(array, f) { var i = -1, n = array.length, a, b; if (arguments.length === 1) { while (++i < n) if ((b = array[i]) != null && b >= b) { a = b; break; } while (++i < n) if ((b = array[i]) != null && a > b) a = b; } else { while (++i < n) if ((b = f.call(array, array[i], i)) != null && b >= b) { a = b; break; } while (++i < n) if ((b = f.call(array, array[i], i)) != null && a > b) a = b; } return a; }; d3.max = function(array, f) { var i = -1, n = array.length, a, b; if (arguments.length === 1) { while (++i < n) if ((b = array[i]) != null && b >= b) { a = b; break; } while (++i < n) if ((b = array[i]) != null && b > a) a = b; } else { while (++i < n) if ((b = f.call(array, array[i], i)) != null && b >= b) { a = b; break; } while (++i < n) if ((b = f.call(array, array[i], i)) != null && b > a) a = b; } return a; }; d3.extent = function(array, f) { var i = -1, n = array.length, a, b, c; if (arguments.length === 1) { while (++i < n) if ((b = array[i]) != null && b >= b) { a = c = b; break; } while (++i < n) if ((b = array[i]) != null) { if (a > b) a = b; if (c < b) c = b; } } else { while (++i < n) if ((b = f.call(array, array[i], i)) != null && b >= b) { a = c = b; break; } while (++i < n) if ((b = f.call(array, array[i], i)) != null) { if (a > b) a = b; if (c < b) c = b; } } return [ a, c ]; }; function d3_number(x) { return x === null ? NaN : +x; } function d3_numeric(x) { return !isNaN(x); } d3.sum = function(array, f) { var s = 0, n = array.length, a, i = -1; if (arguments.length === 1) { while (++i < n) if (d3_numeric(a = +array[i])) s += a; } else { while (++i < n) if (d3_numeric(a = +f.call(array, array[i], i))) s += a; } return s; }; d3.mean = function(array, f) { var s = 0, n = array.length, a, i = -1, j = n; if (arguments.length === 1) { while (++i < n) if (d3_numeric(a = d3_number(array[i]))) s += a; else --j; } else { while (++i < n) if (d3_numeric(a = d3_number(f.call(array, array[i], i)))) s += a; else --j; } if (j) return s / j; }; d3.quantile = function(values, p) { var H = (values.length - 1) * p + 1, h = Math.floor(H), v = +values[h - 1], e = H - h; return e ? v + e * (values[h] - v) : v; }; d3.median = function(array, f) { var numbers = [], n = array.length, a, i = -1; if (arguments.length === 1) { while (++i < n) if (d3_numeric(a = d3_number(array[i]))) numbers.push(a); } else { while (++i < n) if (d3_numeric(a = d3_number(f.call(array, array[i], i)))) numbers.push(a); } if (numbers.length) return d3.quantile(numbers.sort(d3_ascending), .5); }; d3.variance = function(array, f) { var n = array.length, m = 0, a, d, s = 0, i = -1, j = 0; if (arguments.length === 1) { while (++i < n) { if (d3_numeric(a = d3_number(array[i]))) { d = a - m; m += d / ++j; s += d * (a - m); } } } else { while (++i < n) { if (d3_numeric(a = d3_number(f.call(array, array[i], i)))) { d = a - m; m += d / ++j; s += d * (a - m); } } } if (j > 1) return s / (j - 1); }; d3.deviation = function() { var v = d3.variance.apply(this, arguments); return v ? Math.sqrt(v) : v; }; function d3_bisector(compare) { return { left: function(a, x, lo, hi) { if (arguments.length < 3) lo = 0; if (arguments.length < 4) hi = a.length; while (lo < hi) { var mid = lo + hi >>> 1; if (compare(a[mid], x) < 0) lo = mid + 1; else hi = mid; } return lo; }, right: function(a, x, lo, hi) { if (arguments.length < 3) lo = 0; if (arguments.length < 4) hi = a.length; while (lo < hi) { var mid = lo + hi >>> 1; if (compare(a[mid], x) > 0) hi = mid; else lo = mid + 1; } return lo; } }; } var d3_bisect = d3_bisector(d3_ascending); d3.bisectLeft = d3_bisect.left; d3.bisect = d3.bisectRight = d3_bisect.right; d3.bisector = function(f) { return d3_bisector(f.length === 1 ? function(d, x) { return d3_ascending(f(d), x); } : f); }; d3.shuffle = function(array, i0, i1) { if ((m = arguments.length) < 3) { i1 = array.length; if (m < 2) i0 = 0; } var m = i1 - i0, t, i; while (m) { i = Math.random() * m-- | 0; t = array[m + i0], array[m + i0] = array[i + i0], array[i + i0] = t; } return array; }; d3.permute = function(array, indexes) { var i = indexes.length, permutes = new Array(i); while (i--) permutes[i] = array[indexes[i]]; return permutes; }; d3.pairs = function(array) { var i = 0, n = array.length - 1, p0, p1 = array[0], pairs = new Array(n < 0 ? 0 : n); while (i < n) pairs[i] = [ p0 = p1, p1 = array[++i] ]; return pairs; }; d3.transpose = function(matrix) { if (!(n = matrix.length)) return []; for (var i = -1, m = d3.min(matrix, d3_transposeLength), transpose = new Array(m); ++i < m; ) { for (var j = -1, n, row = transpose[i] = new Array(n); ++j < n; ) { row[j] = matrix[j][i]; } } return transpose; }; function d3_transposeLength(d) { return d.length; } d3.zip = function() { return d3.transpose(arguments); }; d3.keys = function(map) { var keys = []; for (var key in map) keys.push(key); return keys; }; d3.values = function(map) { var values = []; for (var key in map) values.push(map[key]); return values; }; d3.entries = function(map) { var entries = []; for (var key in map) entries.push({ key: key, value: map[key] }); return entries; }; d3.merge = function(arrays) { var n = arrays.length, m, i = -1, j = 0, merged, array; while (++i < n) j += arrays[i].length; merged = new Array(j); while (--n >= 0) { array = arrays[n]; m = array.length; while (--m >= 0) { merged[--j] = array[m]; } } return merged; }; var abs = Math.abs; d3.range = function(start, stop, step) { if (arguments.length < 3) { step = 1; if (arguments.length < 2) { stop = start; start = 0; } } if ((stop - start) / step === Infinity) throw new Error("infinite range"); var range = [], k = d3_range_integerScale(abs(step)), i = -1, j; start *= k, stop *= k, step *= k; if (step < 0) while ((j = start + step * ++i) > stop) range.push(j / k); else while ((j = start + step * ++i) < stop) range.push(j / k); return range; }; function d3_range_integerScale(x) { var k = 1; while (x * k % 1) k *= 10; return k; } function d3_class(ctor, properties) { for (var key in properties) { Object.defineProperty(ctor.prototype, key, { value: properties[key], enumerable: false }); } } d3.map = function(object, f) { var map = new d3_Map(); if (object instanceof d3_Map) { object.forEach(function(key, value) { map.set(key, value); }); } else if (Array.isArray(object)) { var i = -1, n = object.length, o; if (arguments.length === 1) while (++i < n) map.set(i, object[i]); else while (++i < n) map.set(f.call(object, o = object[i], i), o); } else { for (var key in object) map.set(key, object[key]); } return map; }; function d3_Map() { this._ = Object.create(null); } var d3_map_proto = "__proto__", d3_map_zero = "\x00"; d3_class(d3_Map, { has: d3_map_has, get: function(key) { return this._[d3_map_escape(key)]; }, set: function(key, value) { return this._[d3_map_escape(key)] = value; }, remove: d3_map_remove, keys: d3_map_keys, values: function() { var values = []; for (var key in this._) values.push(this._[key]); return values; }, entries: function() { var entries = []; for (var key in this._) entries.push({ key: d3_map_unescape(key), value: this._[key] }); return entries; }, size: d3_map_size, empty: d3_map_empty, forEach: function(f) { for (var key in this._) f.call(this, d3_map_unescape(key), this._[key]); } }); function d3_map_escape(key) { return (key += "") === d3_map_proto || key[0] === d3_map_zero ? d3_map_zero + key : key; } function d3_map_unescape(key) { return (key += "")[0] === d3_map_zero ? key.slice(1) : key; } function d3_map_has(key) { return d3_map_escape(key) in this._; } function d3_map_remove(key) { return (key = d3_map_escape(key)) in this._ && delete this._[key]; } function d3_map_keys() { var keys = []; for (var key in this._) keys.push(d3_map_unescape(key)); return keys; } function d3_map_size() { var size = 0; for (var key in this._) ++size; return size; } function d3_map_empty() { for (var key in this._) return false; return true; } d3.nest = function() { var nest = {}, keys = [], sortKeys = [], sortValues, rollup; function map(mapType, array, depth) { if (depth >= keys.length) return rollup ? rollup.call(nest, array) : sortValues ? array.sort(sortValues) : array; var i = -1, n = array.length, key = keys[depth++], keyValue, object, setter, valuesByKey = new d3_Map(), values; while (++i < n) { if (values = valuesByKey.get(keyValue = key(object = array[i]))) { values.push(object); } else { valuesByKey.set(keyValue, [ object ]); } } if (mapType) { object = mapType(); setter = function(keyValue, values) { object.set(keyValue, map(mapType, values, depth)); }; } else { object = {}; setter = function(keyValue, values) { object[keyValue] = map(mapType, values, depth); }; } valuesByKey.forEach(setter); return object; } function entries(map, depth) { if (depth >= keys.length) return map; var array = [], sortKey = sortKeys[depth++]; map.forEach(function(key, keyMap) { array.push({ key: key, values: entries(keyMap, depth) }); }); return sortKey ? array.sort(function(a, b) { return sortKey(a.key, b.key); }) : array; } nest.map = function(array, mapType) { return map(mapType, array, 0); }; nest.entries = function(array) { return entries(map(d3.map, array, 0), 0); }; nest.key = function(d) { keys.push(d); return nest; }; nest.sortKeys = function(order) { sortKeys[keys.length - 1] = order; return nest; }; nest.sortValues = function(order) { sortValues = order; return nest; }; nest.rollup = function(f) { rollup = f; return nest; }; return nest; }; d3.set = function(array) { var set = new d3_Set(); if (array) for (var i = 0, n = array.length; i < n; ++i) set.add(array[i]); return set; }; function d3_Set() { this._ = Object.create(null); } d3_class(d3_Set, { has: d3_map_has, add: function(key) { this._[d3_map_escape(key += "")] = true; return key; }, remove: d3_map_remove, values: d3_map_keys, size: d3_map_size, empty: d3_map_empty, forEach: function(f) { for (var key in this._) f.call(this, d3_map_unescape(key)); } }); d3.behavior = {}; function d3_identity(d) { return d; } d3.rebind = function(target, source) { var i = 1, n = arguments.length, method; while (++i < n) target[method = arguments[i]] = d3_rebind(target, source, source[method]); return target; }; function d3_rebind(target, source, method) { return function() { var value = method.apply(source, arguments); return value === source ? target : value; }; } function d3_vendorSymbol(object, name) { if (name in object) return name; name = name.charAt(0).toUpperCase() + name.slice(1); for (var i = 0, n = d3_vendorPrefixes.length; i < n; ++i) { var prefixName = d3_vendorPrefixes[i] + name; if (prefixName in object) return prefixName; } } var d3_vendorPrefixes = [ "webkit", "ms", "moz", "Moz", "o", "O" ]; function d3_noop() {} d3.dispatch = function() { var dispatch = new d3_dispatch(), i = -1, n = arguments.length; while (++i < n) dispatch[arguments[i]] = d3_dispatch_event(dispatch); return dispatch; }; function d3_dispatch() {} d3_dispatch.prototype.on = function(type, listener) { var i = type.indexOf("."), name = ""; if (i >= 0) { name = type.slice(i + 1); type = type.slice(0, i); } if (type) return arguments.length < 2 ? this[type].on(name) : this[type].on(name, listener); if (arguments.length === 2) { if (listener == null) for (type in this) { if (this.hasOwnProperty(type)) this[type].on(name, null); } return this; } }; function d3_dispatch_event(dispatch) { var listeners = [], listenerByName = new d3_Map(); function event() { var z = listeners, i = -1, n = z.length, l; while (++i < n) if (l = z[i].on) l.apply(this, arguments); return dispatch; } event.on = function(name, listener) { var l = listenerByName.get(name), i; if (arguments.length < 2) return l && l.on; if (l) { l.on = null; listeners = listeners.slice(0, i = listeners.indexOf(l)).concat(listeners.slice(i + 1)); listenerByName.remove(name); } if (listener) listeners.push(listenerByName.set(name, { on: listener })); return dispatch; }; return event; } d3.event = null; function d3_eventPreventDefault() { d3.event.preventDefault(); } function d3_eventSource() { var e = d3.event, s; while (s = e.sourceEvent) e = s; return e; } function d3_eventDispatch(target) { var dispatch = new d3_dispatch(), i = 0, n = arguments.length; while (++i < n) dispatch[arguments[i]] = d3_dispatch_event(dispatch); dispatch.of = function(thiz, argumentz) { return function(e1) { try { var e0 = e1.sourceEvent = d3.event; e1.target = target; d3.event = e1; dispatch[e1.type].apply(thiz, argumentz); } finally { d3.event = e0; } }; }; return dispatch; } d3.requote = function(s) { return s.replace(d3_requote_re, "\\$&"); }; var d3_requote_re = /[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g; var d3_subclass = {}.__proto__ ? function(object, prototype) { object.__proto__ = prototype; } : function(object, prototype) { for (var property in prototype) object[property] = prototype[property]; }; function d3_selection(groups) { d3_subclass(groups, d3_selectionPrototype); return groups; } var d3_select = function(s, n) { return n.querySelector(s); }, d3_selectAll = function(s, n) { return n.querySelectorAll(s); }, d3_selectMatches = function(n, s) { var d3_selectMatcher = n.matches || n[d3_vendorSymbol(n, "matchesSelector")]; d3_selectMatches = function(n, s) { return d3_selectMatcher.call(n, s); }; return d3_selectMatches(n, s); }; if (typeof Sizzle === "function") { d3_select = function(s, n) { return Sizzle(s, n)[0] || null; }; d3_selectAll = Sizzle; d3_selectMatches = Sizzle.matchesSelector; } d3.selection = function() { return d3.select(d3_document.documentElement); }; var d3_selectionPrototype = d3.selection.prototype = []; d3_selectionPrototype.select = function(selector) { var subgroups = [], subgroup, subnode, group, node; selector = d3_selection_selector(selector); for (var j = -1, m = this.length; ++j < m; ) { subgroups.push(subgroup = []); subgroup.parentNode = (group = this[j]).parentNode; for (var i = -1, n = group.length; ++i < n; ) { if (node = group[i]) { subgroup.push(subnode = selector.call(node, node.__data__, i, j)); if (subnode && "__data__" in node) subnode.__data__ = node.__data__; } else { subgroup.push(null); } } } return d3_selection(subgroups); }; function d3_selection_selector(selector) { return typeof selector === "function" ? selector : function() { return d3_select(selector, this); }; } d3_selectionPrototype.selectAll = function(selector) { var subgroups = [], subgroup, node; selector = d3_selection_selectorAll(selector); for (var j = -1, m = this.length; ++j < m; ) { for (var group = this[j], i = -1, n = group.length; ++i < n; ) { if (node = group[i]) { subgroups.push(subgroup = d3_array(selector.call(node, node.__data__, i, j))); subgroup.parentNode = node; } } } return d3_selection(subgroups); }; function d3_selection_selectorAll(selector) { return typeof selector === "function" ? selector : function() { return d3_selectAll(selector, this); }; } var d3_nsXhtml = "http://www.w3.org/1999/xhtml"; var d3_nsPrefix = { svg: "http://www.w3.org/2000/svg", xhtml: d3_nsXhtml, xlink: "http://www.w3.org/1999/xlink", xml: "http://www.w3.org/XML/1998/namespace", xmlns: "http://www.w3.org/2000/xmlns/" }; d3.ns = { prefix: d3_nsPrefix, qualify: function(name) { var i = name.indexOf(":"), prefix = name; if (i >= 0 && (prefix = name.slice(0, i)) !== "xmlns") name = name.slice(i + 1); return d3_nsPrefix.hasOwnProperty(prefix) ? { space: d3_nsPrefix[prefix], local: name } : name; } }; d3_selectionPrototype.attr = function(name, value) { if (arguments.length < 2) { if (typeof name === "string") { var node = this.node(); name = d3.ns.qualify(name); return name.local ? node.getAttributeNS(name.space, name.local) : node.getAttribute(name); } for (value in name) this.each(d3_selection_attr(value, name[value])); return this; } return this.each(d3_selection_attr(name, value)); }; function d3_selection_attr(name, value) { name = d3.ns.qualify(name); function attrNull() { this.removeAttribute(name); } function attrNullNS() { this.removeAttributeNS(name.space, name.local); } function attrConstant() { this.setAttribute(name, value); } function attrConstantNS() { this.setAttributeNS(name.space, name.local, value); } function attrFunction() { var x = value.apply(this, arguments); if (x == null) this.removeAttribute(name); else this.setAttribute(name, x); } function attrFunctionNS() { var x = value.apply(this, arguments); if (x == null) this.removeAttributeNS(name.space, name.local); else this.setAttributeNS(name.space, name.local, x); } return value == null ? name.local ? attrNullNS : attrNull : typeof value === "function" ? name.local ? attrFunctionNS : attrFunction : name.local ? attrConstantNS : attrConstant; } function d3_collapse(s) { return s.trim().replace(/\s+/g, " "); } d3_selectionPrototype.classed = function(name, value) { if (arguments.length < 2) { if (typeof name === "string") { var node = this.node(), n = (name = d3_selection_classes(name)).length, i = -1; if (value = node.classList) { while (++i < n) if (!value.contains(name[i])) return false; } else { value = node.getAttribute("class"); while (++i < n) if (!d3_selection_classedRe(name[i]).test(value)) return false; } return true; } for (value in name) this.each(d3_selection_classed(value, name[value])); return this; } return this.each(d3_selection_classed(name, value)); }; function d3_selection_classedRe(name) { return new RegExp("(?:^|\\s+)" + d3.requote(name) + "(?:\\s+|$)", "g"); } function d3_selection_classes(name) { return (name + "").trim().split(/^|\s+/); } function d3_selection_classed(name, value) { name = d3_selection_classes(name).map(d3_selection_classedName); var n = name.length; function classedConstant() { var i = -1; while (++i < n) name[i](this, value); } function classedFunction() { var i = -1, x = value.apply(this, arguments); while (++i < n) name[i](this, x); } return typeof value === "function" ? classedFunction : classedConstant; } function d3_selection_classedName(name) { var re = d3_selection_classedRe(name); return function(node, value) { if (c = node.classList) return value ? c.add(name) : c.remove(name); var c = node.getAttribute("class") || ""; if (value) { re.lastIndex = 0; if (!re.test(c)) node.setAttribute("class", d3_collapse(c + " " + name)); } else { node.setAttribute("class", d3_collapse(c.replace(re, " "))); } }; } d3_selectionPrototype.style = function(name, value, priority) { var n = arguments.length; if (n < 3) { if (typeof name !== "string") { if (n < 2) value = ""; for (priority in name) this.each(d3_selection_style(priority, name[priority], value)); return this; } if (n < 2) { var node = this.node(); return d3_window(node).getComputedStyle(node, null).getPropertyValue(name); } priority = ""; } return this.each(d3_selection_style(name, value, priority)); }; function d3_selection_style(name, value, priority) { function styleNull() { this.style.removeProperty(name); } function styleConstant() { this.style.setProperty(name, value, priority); } function styleFunction() { var x = value.apply(this, arguments); if (x == null) this.style.removeProperty(name); else this.style.setProperty(name, x, priority); } return value == null ? styleNull : typeof value === "function" ? styleFunction : styleConstant; } d3_selectionPrototype.property = function(name, value) { if (arguments.length < 2) { if (typeof name === "string") return this.node()[name]; for (value in name) this.each(d3_selection_property(value, name[value])); return this; } return this.each(d3_selection_property(name, value)); }; function d3_selection_property(name, value) { function propertyNull() { delete this[name]; } function propertyConstant() { this[name] = value; } function propertyFunction() { var x = value.apply(this, arguments); if (x == null) delete this[name]; else this[name] = x; } return value == null ? propertyNull : typeof value === "function" ? propertyFunction : propertyConstant; } d3_selectionPrototype.text = function(value) { return arguments.length ? this.each(typeof value === "function" ? function() { var v = value.apply(this, arguments); this.textContent = v == null ? "" : v; } : value == null ? function() { this.textContent = ""; } : function() { this.textContent = value; }) : this.node().textContent; }; d3_selectionPrototype.html = function(value) { return arguments.length ? this.each(typeof value === "function" ? function() { var v = value.apply(this, arguments); this.innerHTML = v == null ? "" : v; } : value == null ? function() { this.innerHTML = ""; } : function() { this.innerHTML = value; }) : this.node().innerHTML; }; d3_selectionPrototype.append = function(name) { name = d3_selection_creator(name); return this.select(function() { return this.appendChild(name.apply(this, arguments)); }); }; function d3_selection_creator(name) { function create() { var document = this.ownerDocument, namespace = this.namespaceURI; return namespace === d3_nsXhtml && document.documentElement.namespaceURI === d3_nsXhtml ? document.createElement(name) : document.createElementNS(namespace, name); } function createNS() { return this.ownerDocument.createElementNS(name.space, name.local); } return typeof name === "function" ? name : (name = d3.ns.qualify(name)).local ? createNS : create; } d3_selectionPrototype.insert = function(name, before) { name = d3_selection_creator(name); before = d3_selection_selector(before); return this.select(function() { return this.insertBefore(name.apply(this, arguments), before.apply(this, arguments) || null); }); }; d3_selectionPrototype.remove = function() { return this.each(d3_selectionRemove); }; function d3_selectionRemove() { var parent = this.parentNode; if (parent) parent.removeChild(this); } d3_selectionPrototype.data = function(value, key) { var i = -1, n = this.length, group, node; if (!arguments.length) { value = new Array(n = (group = this[0]).length); while (++i < n) { if (node = group[i]) { value[i] = node.__data__; } } return value; } function bind(group, groupData) { var i, n = group.length, m = groupData.length, n0 = Math.min(n, m), updateNodes = new Array(m), enterNodes = new Array(m), exitNodes = new Array(n), node, nodeData; if (key) { var nodeByKeyValue = new d3_Map(), keyValues = new Array(n), keyValue; for (i = -1; ++i < n; ) { if (node = group[i]) { if (nodeByKeyValue.has(keyValue = key.call(node, node.__data__, i))) { exitNodes[i] = node; } else { nodeByKeyValue.set(keyValue, node); } keyValues[i] = keyValue; } } for (i = -1; ++i < m; ) { if (!(node = nodeByKeyValue.get(keyValue = key.call(groupData, nodeData = groupData[i], i)))) { enterNodes[i] = d3_selection_dataNode(nodeData); } else if (node !== true) { updateNodes[i] = node; node.__data__ = nodeData; } nodeByKeyValue.set(keyValue, true); } for (i = -1; ++i < n; ) { if (i in keyValues && nodeByKeyValue.get(keyValues[i]) !== true) { exitNodes[i] = group[i]; } } } else { for (i = -1; ++i < n0; ) { node = group[i]; nodeData = groupData[i]; if (node) { node.__data__ = nodeData; updateNodes[i] = node; } else { enterNodes[i] = d3_selection_dataNode(nodeData); } } for (;i < m; ++i) { enterNodes[i] = d3_selection_dataNode(groupData[i]); } for (;i < n; ++i) { exitNodes[i] = group[i]; } } enterNodes.update = updateNodes; enterNodes.parentNode = updateNodes.parentNode = exitNodes.parentNode = group.parentNode; enter.push(enterNodes); update.push(updateNodes); exit.push(exitNodes); } var enter = d3_selection_enter([]), update = d3_selection([]), exit = d3_selection([]); if (typeof value === "function") { while (++i < n) { bind(group = this[i], value.call(group, group.parentNode.__data__, i)); } } else { while (++i < n) { bind(group = this[i], value); } } update.enter = function() { return enter; }; update.exit = function() { return exit; }; return update; }; function d3_selection_dataNode(data) { return { __data__: data }; } d3_selectionPrototype.datum = function(value) { return arguments.length ? this.property("__data__", value) : this.property("__data__"); }; d3_selectionPrototype.filter = function(filter) { var subgroups = [], subgroup, group, node; if (typeof filter !== "function") filter = d3_selection_filter(filter); for (var j = 0, m = this.length; j < m; j++) { subgroups.push(subgroup = []); subgroup.parentNode = (group = this[j]).parentNode; for (var i = 0, n = group.length; i < n; i++) { if ((node = group[i]) && filter.call(node, node.__data__, i, j)) { subgroup.push(node); } } } return d3_selection(subgroups); }; function d3_selection_filter(selector) { return function() { return d3_selectMatches(this, selector); }; } d3_selectionPrototype.order = function() { for (var j = -1, m = this.length; ++j < m; ) { for (var group = this[j], i = group.length - 1, next = group[i], node; --i >= 0; ) { if (node = group[i]) { if (next && next !== node.nextSibling) next.parentNode.insertBefore(node, next); next = node; } } } return this; }; d3_selectionPrototype.sort = function(comparator) { comparator = d3_selection_sortComparator.apply(this, arguments); for (var j = -1, m = this.length; ++j < m; ) this[j].sort(comparator); return this.order(); }; function d3_selection_sortComparator(comparator) { if (!arguments.length) comparator = d3_ascending; return function(a, b) { return a && b ? comparator(a.__data__, b.__data__) : !a - !b; }; } d3_selectionPrototype.each = function(callback) { return d3_selection_each(this, function(node, i, j) { callback.call(node, node.__data__, i, j); }); }; function d3_selection_each(groups, callback) { for (var j = 0, m = groups.length; j < m; j++) { for (var group = groups[j], i = 0, n = group.length, node; i < n; i++) { if (node = group[i]) callback(node, i, j); } } return groups; } d3_selectionPrototype.call = function(callback) { var args = d3_array(arguments); callback.apply(args[0] = this, args); return this; }; d3_selectionPrototype.empty = function() { return !this.node(); }; d3_selectionPrototype.node = function() { for (var j = 0, m = this.length; j < m; j++) { for (var group = this[j], i = 0, n = group.length; i < n; i++) { var node = group[i]; if (node) return node; } } return null; }; d3_selectionPrototype.size = function() { var n = 0; d3_selection_each(this, function() { ++n; }); return n; }; function d3_selection_enter(selection) { d3_subclass(selection, d3_selection_enterPrototype); return selection; } var d3_selection_enterPrototype = []; d3.selection.enter = d3_selection_enter; d3.selection.enter.prototype = d3_selection_enterPrototype; d3_selection_enterPrototype.append = d3_selectionPrototype.append; d3_selection_enterPrototype.empty = d3_selectionPrototype.empty; d3_selection_enterPrototype.node = d3_selectionPrototype.node; d3_selection_enterPrototype.call = d3_selectionPrototype.call; d3_selection_enterPrototype.size = d3_selectionPrototype.size; d3_selection_enterPrototype.select = function(selector) { var subgroups = [], subgroup, subnode, upgroup, group, node; for (var j = -1, m = this.length; ++j < m; ) { upgroup = (group = this[j]).update; subgroups.push(subgroup = []); subgroup.parentNode = group.parentNode; for (var i = -1, n = group.length; ++i < n; ) { if (node = group[i]) { subgroup.push(upgroup[i] = subnode = selector.call(group.parentNode, node.__data__, i, j)); subnode.__data__ = node.__data__; } else { subgroup.push(null); } } } return d3_selection(subgroups); }; d3_selection_enterPrototype.insert = function(name, before) { if (arguments.length < 2) before = d3_selection_enterInsertBefore(this); return d3_selectionPrototype.insert.call(this, name, before); }; function d3_selection_enterInsertBefore(enter) { var i0, j0; return function(d, i, j) { var group = enter[j].update, n = group.length, node; if (j != j0) j0 = j, i0 = 0; if (i >= i0) i0 = i + 1; while (!(node = group[i0]) && ++i0 < n) ; return node; }; } d3.select = function(node) { var group; if (typeof node === "string") { group = [ d3_select(node, d3_document) ]; group.parentNode = d3_document.documentElement; } else { group = [ node ]; group.parentNode = d3_documentElement(node); } return d3_selection([ group ]); }; d3.selectAll = function(nodes) { var group; if (typeof nodes === "string") { group = d3_array(d3_selectAll(nodes, d3_document)); group.parentNode = d3_document.documentElement; } else { group = d3_array(nodes); group.parentNode = null; } return d3_selection([ group ]); }; d3_selectionPrototype.on = function(type, listener, capture) { var n = arguments.length; if (n < 3) { if (typeof type !== "string") { if (n < 2) listener = false; for (capture in type) this.each(d3_selection_on(capture, type[capture], listener)); return this; } if (n < 2) return (n = this.node()["__on" + type]) && n._; capture = false; } return this.each(d3_selection_on(type, listener, capture)); }; function d3_selection_on(type, listener, capture) { var name = "__on" + type, i = type.indexOf("."), wrap = d3_selection_onListener; if (i > 0) type = type.slice(0, i); var filter = d3_selection_onFilters.get(type); if (filter) type = filter, wrap = d3_selection_onFilter; function onRemove() { var l = this[name]; if (l) { this.removeEventListener(type, l, l.$); delete this[name]; } } function onAdd() { var l = wrap(listener, d3_array(arguments)); onRemove.call(this); this.addEventListener(type, this[name] = l, l.$ = capture); l._ = listener; } function removeAll() { var re = new RegExp("^__on([^.]+)" + d3.requote(type) + "$"), match; for (var name in this) { if (match = name.match(re)) { var l = this[name]; this.removeEventListener(match[1], l, l.$); delete this[name]; } } } return i ? listener ? onAdd : onRemove : listener ? d3_noop : removeAll; } var d3_selection_onFilters = d3.map({ mouseenter: "mouseover", mouseleave: "mouseout" }); if (d3_document) { d3_selection_onFilters.forEach(function(k) { if ("on" + k in d3_document) d3_selection_onFilters.remove(k); }); } function d3_selection_onListener(listener, argumentz) { return function(e) { var o = d3.event; d3.event = e; argumentz[0] = this.__data__; try { listener.apply(this, argumentz); } finally { d3.event = o; } }; } function d3_selection_onFilter(listener, argumentz) { var l = d3_selection_onListener(listener, argumentz); return function(e) { var target = this, related = e.relatedTarget; if (!related || related !== target && !(related.compareDocumentPosition(target) & 8)) { l.call(target, e); } }; } var d3_event_dragSelect, d3_event_dragId = 0; function d3_event_dragSuppress(node) { var name = ".dragsuppress-" + ++d3_event_dragId, click = "click" + name, w = d3.select(d3_window(node)).on("touchmove" + name, d3_eventPreventDefault).on("dragstart" + name, d3_eventPreventDefault).on("selectstart" + name, d3_eventPreventDefault); if (d3_event_dragSelect == null) { d3_event_dragSelect = "onselectstart" in node ? false : d3_vendorSymbol(node.style, "userSelect"); } if (d3_event_dragSelect) { var style = d3_documentElement(node).style, select = style[d3_event_dragSelect]; style[d3_event_dragSelect] = "none"; } return function(suppressClick) { w.on(name, null); if (d3_event_dragSelect) style[d3_event_dragSelect] = select; if (suppressClick) { var off = function() { w.on(click, null); }; w.on(click, function() { d3_eventPreventDefault(); off(); }, true); setTimeout(off, 0); } }; } d3.mouse = function(container) { return d3_mousePoint(container, d3_eventSource()); }; var d3_mouse_bug44083 = this.navigator && /WebKit/.test(this.navigator.userAgent) ? -1 : 0; function d3_mousePoint(container, e) { if (e.changedTouches) e = e.changedTouches[0]; var svg = container.ownerSVGElement || container; if (svg.createSVGPoint) { var point = svg.createSVGPoint(); if (d3_mouse_bug44083 < 0) { var window = d3_window(container); if (window.scrollX || window.scrollY) { svg = d3.select("body").append("svg").style({ position: "absolute", top: 0, left: 0, margin: 0, padding: 0, border: "none" }, "important"); var ctm = svg[0][0].getScreenCTM(); d3_mouse_bug44083 = !(ctm.f || ctm.e); svg.remove(); } } if (d3_mouse_bug44083) point.x = e.pageX, point.y = e.pageY; else point.x = e.clientX, point.y = e.clientY; point = point.matrixTransform(container.getScreenCTM().inverse()); return [ point.x, point.y ]; } var rect = container.getBoundingClientRect(); return [ e.clientX - rect.left - container.clientLeft, e.clientY - rect.top - container.clientTop ]; } d3.touch = function(container, touches, identifier) { if (arguments.length < 3) identifier = touches, touches = d3_eventSource().changedTouches; if (touches) for (var i = 0, n = touches.length, touch; i < n; ++i) { if ((touch = touches[i]).identifier === identifier) { return d3_mousePoint(container, touch); } } }; d3.behavior.drag = function() { var event = d3_eventDispatch(drag, "drag", "dragstart", "dragend"), origin = null, mousedown = dragstart(d3_noop, d3.mouse, d3_window, "mousemove", "mouseup"), touchstart = dragstart(d3_behavior_dragTouchId, d3.touch, d3_identity, "touchmove", "touchend"); function drag() { this.on("mousedown.drag", mousedown).on("touchstart.drag", touchstart); } function dragstart(id, position, subject, move, end) { return function() { var that = this, target = d3.event.target.correspondingElement || d3.event.target, parent = that.parentNode, dispatch = event.of(that, arguments), dragged = 0, dragId = id(), dragName = ".drag" + (dragId == null ? "" : "-" + dragId), dragOffset, dragSubject = d3.select(subject(target)).on(move + dragName, moved).on(end + dragName, ended), dragRestore = d3_event_dragSuppress(target), position0 = position(parent, dragId); if (origin) { dragOffset = origin.apply(that, arguments); dragOffset = [ dragOffset.x - position0[0], dragOffset.y - position0[1] ]; } else { dragOffset = [ 0, 0 ]; } dispatch({ type: "dragstart" }); function moved() { var position1 = position(parent, dragId), dx, dy; if (!position1) return; dx = position1[0] - position0[0]; dy = position1[1] - position0[1]; dragged |= dx | dy; position0 = position1; dispatch({ type: "drag", x: position1[0] + dragOffset[0], y: position1[1] + dragOffset[1], dx: dx, dy: dy }); } function ended() { if (!position(parent, dragId)) return; dragSubject.on(move + dragName, null).on(end + dragName, null); dragRestore(dragged); dispatch({ type: "dragend" }); } }; } drag.origin = function(x) { if (!arguments.length) return origin; origin = x; return drag; }; return d3.rebind(drag, event, "on"); }; function d3_behavior_dragTouchId() { return d3.event.changedTouches[0].identifier; } d3.touches = function(container, touches) { if (arguments.length < 2) touches = d3_eventSource().touches; return touches ? d3_array(touches).map(function(touch) { var point = d3_mousePoint(container, touch); point.identifier = touch.identifier; return point; }) : []; }; var Îµ = 1e-6, Îµ2 = Îµ * Îµ, Ï€ = Math.PI, Ï„ = 2 * Ï€, Ï„Îµ = Ï„ - Îµ, halfÏ€ = Ï€ / 2, d3_radians = Ï€ / 180, d3_degrees = 180 / Ï€; function d3_sgn(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; } function d3_cross2d(a, b, c) { return (b[0] - a[0]) * (c[1] - a[1]) - (b[1] - a[1]) * (c[0] - a[0]); } function d3_acos(x) { return x > 1 ? 0 : x < -1 ? Ï€ : Math.acos(x); } function d3_asin(x) { return x > 1 ? halfÏ€ : x < -1 ? -halfÏ€ : Math.asin(x); } function d3_sinh(x) { return ((x = Math.exp(x)) - 1 / x) / 2; } function d3_cosh(x) { return ((x = Math.exp(x)) + 1 / x) / 2; } function d3_tanh(x) { return ((x = Math.exp(2 * x)) - 1) / (x + 1); } function d3_haversin(x) { return (x = Math.sin(x / 2)) * x; } var Ï = Math.SQRT2, Ï2 = 2, Ï4 = 4; d3.interpolateZoom = function(p0, p1) { var ux0 = p0[0], uy0 = p0[1], w0 = p0[2], ux1 = p1[0], uy1 = p1[1], w1 = p1[2], dx = ux1 - ux0, dy = uy1 - uy0, d2 = dx * dx + dy * dy, i, S; if (d2 < Îµ2) { S = Math.log(w1 / w0) / Ï; i = function(t) { return [ ux0 + t * dx, uy0 + t * dy, w0 * Math.exp(Ï * t * S) ]; }; } else { var d1 = Math.sqrt(d2), b0 = (w1 * w1 - w0 * w0 + Ï4 * d2) / (2 * w0 * Ï2 * d1), b1 = (w1 * w1 - w0 * w0 - Ï4 * d2) / (2 * w1 * Ï2 * d1), r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0), r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1); S = (r1 - r0) / Ï; i = function(t) { var s = t * S, coshr0 = d3_cosh(r0), u = w0 / (Ï2 * d1) * (coshr0 * d3_tanh(Ï * s + r0) - d3_sinh(r0)); return [ ux0 + u * dx, uy0 + u * dy, w0 * coshr0 / d3_cosh(Ï * s + r0) ]; }; } i.duration = S * 1e3; return i; }; d3.behavior.zoom = function() { var view = { x: 0, y: 0, k: 1 }, translate0, center0, center, size = [ 960, 500 ], scaleExtent = d3_behavior_zoomInfinity, duration = 250, zooming = 0, mousedown = "mousedown.zoom", mousemove = "mousemove.zoom", mouseup = "mouseup.zoom", mousewheelTimer, touchstart = "touchstart.zoom", touchtime, event = d3_eventDispatch(zoom, "zoomstart", "zoom", "zoomend"), x0, x1, y0, y1; if (!d3_behavior_zoomWheel) { d3_behavior_zoomWheel = "onwheel" in d3_document ? (d3_behavior_zoomDelta = function() { return -d3.event.deltaY * (d3.event.deltaMode ? 120 : 1); }, "wheel") : "onmousewheel" in d3_document ? (d3_behavior_zoomDelta = function() { return d3.event.wheelDelta; }, "mousewheel") : (d3_behavior_zoomDelta = function() { return -d3.event.detail; }, "MozMousePixelScroll"); } function zoom(g) { g.on(mousedown, mousedowned).on(d3_behavior_zoomWheel + ".zoom", mousewheeled).on("dblclick.zoom", dblclicked).on(touchstart, touchstarted); } zoom.event = function(g) { g.each(function() { var dispatch = event.of(this, arguments), view1 = view; if (d3_transitionInheritId) { d3.select(this).transition().each("start.zoom", function() { view = this.__chart__ || { x: 0, y: 0, k: 1 }; zoomstarted(dispatch); }).tween("zoom:zoom", function() { var dx = size[0], dy = size[1], cx = center0 ? center0[0] : dx / 2, cy = center0 ? center0[1] : dy / 2, i = d3.interpolateZoom([ (cx - view.x) / view.k, (cy - view.y) / view.k, dx / view.k ], [ (cx - view1.x) / view1.k, (cy - view1.y) / view1.k, dx / view1.k ]); return function(t) { var l = i(t), k = dx / l[2]; this.__chart__ = view = { x: cx - l[0] * k, y: cy - l[1] * k, k: k }; zoomed(dispatch); }; }).each("interrupt.zoom", function() { zoomended(dispatch); }).each("end.zoom", function() { zoomended(dispatch); }); } else { this.__chart__ = view; zoomstarted(dispatch); zoomed(dispatch); zoomended(dispatch); } }); }; zoom.translate = function(_) { if (!arguments.length) return [ view.x, view.y ]; view = { x: +_[0], y: +_[1], k: view.k }; rescale(); return zoom; }; zoom.scale = function(_) { if (!arguments.length) return view.k; view = { x: view.x, y: view.y, k: null }; scaleTo(+_); rescale(); return zoom; }; zoom.scaleExtent = function(_) { if (!arguments.length) return scaleExtent; scaleExtent = _ == null ? d3_behavior_zoomInfinity : [ +_[0], +_[1] ]; return zoom; }; zoom.center = function(_) { if (!arguments.length) return center; center = _ && [ +_[0], +_[1] ]; return zoom; }; zoom.size = function(_) { if (!arguments.length) return size; size = _ && [ +_[0], +_[1] ]; return zoom; }; zoom.duration = function(_) { if (!arguments.length) return duration; duration = +_; return zoom; }; zoom.x = function(z) { if (!arguments.length) return x1; x1 = z; x0 = z.copy(); view = { x: 0, y: 0, k: 1 }; return zoom; }; zoom.y = function(z) { if (!arguments.length) return y1; y1 = z; y0 = z.copy(); view = { x: 0, y: 0, k: 1 }; return zoom; }; function location(p) { return [ (p[0] - view.x) / view.k, (p[1] - view.y) / view.k ]; } function point(l) { return [ l[0] * view.k + view.x, l[1] * view.k + view.y ]; } function scaleTo(s) { view.k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], s)); } function translateTo(p, l) { l = point(l); view.x += p[0] - l[0]; view.y += p[1] - l[1]; } function zoomTo(that, p, l, k) { that.__chart__ = { x: view.x, y: view.y, k: view.k }; scaleTo(Math.pow(2, k)); translateTo(center0 = p, l); that = d3.select(that); if (duration > 0) that = that.transition().duration(duration); that.call(zoom.event); } function rescale() { if (x1) x1.domain(x0.range().map(function(x) { return (x - view.x) / view.k; }).map(x0.invert)); if (y1) y1.domain(y0.range().map(function(y) { return (y - view.y) / view.k; }).map(y0.invert)); } function zoomstarted(dispatch) { if (!zooming++) dispatch({ type: "zoomstart" }); } function zoomed(dispatch) { rescale(); dispatch({ type: "zoom", scale: view.k, translate: [ view.x, view.y ] }); } function zoomended(dispatch) { if (!--zooming) dispatch({ type: "zoomend" }), center0 = null; } function mousedowned() { var that = this, dispatch = event.of(that, arguments), dragged = 0, subject = d3.select(d3_window(that)).on(mousemove, moved).on(mouseup, ended), location0 = location(d3.mouse(that)), dragRestore = d3_event_dragSuppress(that); d3_selection_interrupt.call(that); zoomstarted(dispatch); function moved() { dragged = 1; translateTo(d3.mouse(that), location0); zoomed(dispatch); } function ended() { subject.on(mousemove, null).on(mouseup, null); dragRestore(dragged); zoomended(dispatch); } } function touchstarted() { var that = this, dispatch = event.of(that, arguments), locations0 = {}, distance0 = 0, scale0, zoomName = ".zoom-" + d3.event.changedTouches[0].identifier, touchmove = "touchmove" + zoomName, touchend = "touchend" + zoomName, targets = [], subject = d3.select(that), dragRestore = d3_event_dragSuppress(that); started(); zoomstarted(dispatch); subject.on(mousedown, null).on(touchstart, started); function relocate() { var touches = d3.touches(that); scale0 = view.k; touches.forEach(function(t) { if (t.identifier in locations0) locations0[t.identifier] = location(t); }); return touches; } function started() { var target = d3.event.target; d3.select(target).on(touchmove, moved).on(touchend, ended); targets.push(target); var changed = d3.event.changedTouches; for (var i = 0, n = changed.length; i < n; ++i) { locations0[changed[i].identifier] = null; } var touches = relocate(), now = Date.now(); if (touches.length === 1) { if (now - touchtime < 500) { var p = touches[0]; zoomTo(that, p, locations0[p.identifier], Math.floor(Math.log(view.k) / Math.LN2) + 1); d3_eventPreventDefault(); } touchtime = now; } else if (touches.length > 1) { var p = touches[0], q = touches[1], dx = p[0] - q[0], dy = p[1] - q[1]; distance0 = dx * dx + dy * dy; } } function moved() { var touches = d3.touches(that), p0, l0, p1, l1; d3_selection_interrupt.call(that); for (var i = 0, n = touches.length; i < n; ++i, l1 = null) { p1 = touches[i]; if (l1 = locations0[p1.identifier]) { if (l0) break; p0 = p1, l0 = l1; } } if (l1) { var distance1 = (distance1 = p1[0] - p0[0]) * distance1 + (distance1 = p1[1] - p0[1]) * distance1, scale1 = distance0 && Math.sqrt(distance1 / distance0); p0 = [ (p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2 ]; l0 = [ (l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2 ]; scaleTo(scale1 * scale0); } touchtime = null; translateTo(p0, l0); zoomed(dispatch); } function ended() { if (d3.event.touches.length) { var changed = d3.event.changedTouches; for (var i = 0, n = changed.length; i < n; ++i) { delete locations0[changed[i].identifier]; } for (var identifier in locations0) { return void relocate(); } } d3.selectAll(targets).on(zoomName, null); subject.on(mousedown, mousedowned).on(touchstart, touchstarted); dragRestore(); zoomended(dispatch); } } function mousewheeled() { var dispatch = event.of(this, arguments); if (mousewheelTimer) clearTimeout(mousewheelTimer); else d3_selection_interrupt.call(this), translate0 = location(center0 = center || d3.mouse(this)), zoomstarted(dispatch); mousewheelTimer = setTimeout(function() { mousewheelTimer = null; zoomended(dispatch); }, 50); d3_eventPreventDefault(); scaleTo(Math.pow(2, d3_behavior_zoomDelta() * .002) * view.k); translateTo(center0, translate0); zoomed(dispatch); } function dblclicked() { var p = d3.mouse(this), k = Math.log(view.k) / Math.LN2; zoomTo(this, p, location(p), d3.event.shiftKey ? Math.ceil(k) - 1 : Math.floor(k) + 1); } return d3.rebind(zoom, event, "on"); }; var d3_behavior_zoomInfinity = [ 0, Infinity ], d3_behavior_zoomDelta, d3_behavior_zoomWheel; d3.color = d3_color; function d3_color() {} d3_color.prototype.toString = function() { return this.rgb() + ""; }; d3.hsl = d3_hsl; function d3_hsl(h, s, l) { return this instanceof d3_hsl ? void (this.h = +h, this.s = +s, this.l = +l) : arguments.length < 2 ? h instanceof d3_hsl ? new d3_hsl(h.h, h.s, h.l) : d3_rgb_parse("" + h, d3_rgb_hsl, d3_hsl) : new d3_hsl(h, s, l); } var d3_hslPrototype = d3_hsl.prototype = new d3_color(); d3_hslPrototype.brighter = function(k) { k = Math.pow(.7, arguments.length ? k : 1); return new d3_hsl(this.h, this.s, this.l / k); }; d3_hslPrototype.darker = function(k) { k = Math.pow(.7, arguments.length ? k : 1); return new d3_hsl(this.h, this.s, k * this.l); }; d3_hslPrototype.rgb = function() { return d3_hsl_rgb(this.h, this.s, this.l); }; function d3_hsl_rgb(h, s, l) { var m1, m2; h = isNaN(h) ? 0 : (h %= 360) < 0 ? h + 360 : h; s = isNaN(s) ? 0 : s < 0 ? 0 : s > 1 ? 1 : s; l = l < 0 ? 0 : l > 1 ? 1 : l; m2 = l 360) h -= 360; else if (h < 0) h += 360; if (h < 60) return m1 + (m2 - m1) * h / 60; if (h < 180) return m2; if (h < 240) return m1 + (m2 - m1) * (240 - h) / 60; return m1; } function vv(h) { return Math.round(v(h) * 255); } return new d3_rgb(vv(h + 120), vv(h), vv(h - 120)); } d3.hcl = d3_hcl; function d3_hcl(h, c, l) { return this instanceof d3_hcl ? void (this.h = +h, this.c = +c, this.l = +l) : arguments.length < 2 ? h instanceof d3_hcl ? new d3_hcl(h.h, h.c, h.l) : h instanceof d3_lab ? d3_lab_hcl(h.l, h.a, h.b) : d3_lab_hcl((h = d3_rgb_lab((h = d3.rgb(h)).r, h.g, h.b)).l, h.a, h.b) : new d3_hcl(h, c, l); } var d3_hclPrototype = d3_hcl.prototype = new d3_color(); d3_hclPrototype.brighter = function(k) { return new d3_hcl(this.h, this.c, Math.min(100, this.l + d3_lab_K * (arguments.length ? k : 1))); }; d3_hclPrototype.darker = function(k) { return new d3_hcl(this.h, this.c, Math.max(0, this.l - d3_lab_K * (arguments.length ? k : 1))); }; d3_hclPrototype.rgb = function() { return d3_hcl_lab(this.h, this.c, this.l).rgb(); }; function d3_hcl_lab(h, c, l) { if (isNaN(h)) h = 0; if (isNaN(c)) c = 0; return new d3_lab(l, Math.cos(h *= d3_radians) * c, Math.sin(h) * c); } d3.lab = d3_lab; function d3_lab(l, a, b) { return this instanceof d3_lab ? void (this.l = +l, this.a = +a, this.b = +b) : arguments.length < 2 ? l instanceof d3_lab ? new d3_lab(l.l, l.a, l.b) : l instanceof d3_hcl ? d3_hcl_lab(l.h, l.c, l.l) : d3_rgb_lab((l = d3_rgb(l)).r, l.g, l.b) : new d3_lab(l, a, b); } var d3_lab_K = 18; var d3_lab_X = .95047, d3_lab_Y = 1, d3_lab_Z = 1.08883; var d3_labPrototype = d3_lab.prototype = new d3_color(); d3_labPrototype.brighter = function(k) { return new d3_lab(Math.min(100, this.l + d3_lab_K * (arguments.length ? k : 1)), this.a, this.b); }; d3_labPrototype.darker = function(k) { return new d3_lab(Math.max(0, this.l - d3_lab_K * (arguments.length ? k : 1)), this.a, this.b); }; d3_labPrototype.rgb = function() { return d3_lab_rgb(this.l, this.a, this.b); }; function d3_lab_rgb(l, a, b) { var y = (l + 16) / 116, x = y + a / 500, z = y - b / 200; x = d3_lab_xyz(x) * d3_lab_X; y = d3_lab_xyz(y) * d3_lab_Y; z = d3_lab_xyz(z) * d3_lab_Z; return new d3_rgb(d3_xyz_rgb(3.2404542 * x - 1.5371385 * y - .4985314 * z), d3_xyz_rgb(-.969266 * x + 1.8760108 * y + .041556 * z), d3_xyz_rgb(.0556434 * x - .2040259 * y + 1.0572252 * z)); } function d3_lab_hcl(l, a, b) { return l > 0 ? new d3_hcl(Math.atan2(b, a) * d3_degrees, Math.sqrt(a * a + b * b), l) : new d3_hcl(NaN, NaN, l); } function d3_lab_xyz(x) { return x > .206893034 ? x * x * x : (x - 4 / 29) / 7.787037; } function d3_xyz_lab(x) { return x > .008856 ? Math.pow(x, 1 / 3) : 7.787037 * x + 4 / 29; } function d3_xyz_rgb(r) { return Math.round(255 * (r 16, value >> 8 & 255, value & 255); } function d3_rgbString(value) { return d3_rgbNumber(value) + ""; } var d3_rgbPrototype = d3_rgb.prototype = new d3_color(); d3_rgbPrototype.brighter = function(k) { k = Math.pow(.7, arguments.length ? k : 1); var r = this.r, g = this.g, b = this.b, i = 30; if (!r && !g && !b) return new d3_rgb(i, i, i); if (r && r < i) r = i; if (g && g < i) g = i; if (b && b < i) b = i; return new d3_rgb(Math.min(255, r / k), Math.min(255, g / k), Math.min(255, b / k)); }; d3_rgbPrototype.darker = function(k) { k = Math.pow(.7, arguments.length ? k : 1); return new d3_rgb(k * this.r, k * this.g, k * this.b); }; d3_rgbPrototype.hsl = function() { return d3_rgb_hsl(this.r, this.g, this.b); }; d3_rgbPrototype.toString = function() { return "#" + d3_rgb_hex(this.r) + d3_rgb_hex(this.g) + d3_rgb_hex(this.b); }; function d3_rgb_hex(v) { return v < 16 ? "0" + Math.max(0, v).toString(16) : Math.min(255, v).toString(16); } function d3_rgb_parse(format, rgb, hsl) { var r = 0, g = 0, b = 0, m1, m2, color; m1 = /([a-z]+)\((.*)\)/.exec(format = format.toLowerCase()); if (m1) { m2 = m1[2].split(","); switch (m1[1]) { case "hsl": { return hsl(parseFloat(m2[0]), parseFloat(m2[1]) / 100, parseFloat(m2[2]) / 100); } case "rgb": { return rgb(d3_rgb_parseNumber(m2[0]), d3_rgb_parseNumber(m2[1]), d3_rgb_parseNumber(m2[2])); } } } if (color = d3_rgb_names.get(format)) { return rgb(color.r, color.g, color.b); } if (format != null && format.charAt(0) === "#" && !isNaN(color = parseInt(format.slice(1), 16))) { if (format.length === 4) { r = (color & 3840) >> 4; r = r >> 4 | r; g = color & 240; g = g >> 4 | g; b = color & 15; b = b < 4 | b; } else if (format.length === 7) { r = (color & 16711680) >> 16; g = (color & 65280) >> 8; b = color & 255; } } return rgb(r, g, b); } function d3_rgb_hsl(r, g, b) { var min = Math.min(r /= 255, g /= 255, b /= 255), max = Math.max(r, g, b), d = max - min, h, s, l = (max + min) / 2; if (d) { s = l < .5 ? d / (max + min) : d / (2 - max - min); if (r == max) h = (g - b) / d + (g < b ? 6 : 0); else if (g == max) h = (b - r) / d + 2; else h = (r - g) / d + 4; h *= 60; } else { h = NaN; s = l > 0 && l < 1 ? 0 : h; } return new d3_hsl(h, s, l); } function d3_rgb_lab(r, g, b) { r = d3_rgb_xyz(r); g = d3_rgb_xyz(g); b = d3_rgb_xyz(b); var x = d3_xyz_lab((.4124564 * r + .3575761 * g + .1804375 * b) / d3_lab_X), y = d3_xyz_lab((.2126729 * r + .7151522 * g + .072175 * b) / d3_lab_Y), z = d3_xyz_lab((.0193339 * r + .119192 * g + .9503041 * b) / d3_lab_Z); return d3_lab(116 * y - 16, 500 * (x - y), 200 * (y - z)); } function d3_rgb_xyz(r) { return (r /= 255) = 200 && status < 300 || status === 304) { try { result = response.call(xhr, request); } catch (e) { dispatch.error.call(xhr, e); return; } dispatch.load.call(xhr, result); } else { dispatch.error.call(xhr, request); } } request.onprogress = function(event) { var o = d3.event; d3.event = event; try { dispatch.progress.call(xhr, request); } finally { d3.event = o; } }; xhr.header = function(name, value) { name = (name + "").toLowerCase(); if (arguments.length < 2) return headers[name]; if (value == null) delete headers[name]; else headers[name] = value + ""; return xhr; }; xhr.mimeType = function(value) { if (!arguments.length) return mimeType; mimeType = value == null ? null : value + ""; return xhr; }; xhr.responseType = function(value) { if (!arguments.length) return responseType; responseType = value; return xhr; }; xhr.response = function(value) { response = value; return xhr; }; [ "get", "post" ].forEach(function(method) { xhr[method] = function() { return xhr.send.apply(xhr, [ method ].concat(d3_array(arguments))); }; }); xhr.send = function(method, data, callback) { if (arguments.length === 2 && typeof data === "function") callback = data, data = null; request.open(method, url, true); if (mimeType != null && !("accept" in headers)) headers["accept"] = mimeType + ",*/*"; if (request.setRequestHeader) for (var name in headers) request.setRequestHeader(name, headers[name]); if (mimeType != null && request.overrideMimeType) request.overrideMimeType(mimeType); if (responseType != null) request.responseType = responseType; if (callback != null) xhr.on("error", callback).on("load", function(request) { callback(null, request); }); dispatch.beforesend.call(xhr, request); request.send(data == null ? null : data); return xhr; }; xhr.abort = function() { request.abort(); return xhr; }; d3.rebind(xhr, dispatch, "on"); return callback == null ? xhr : xhr.get(d3_xhr_fixCallback(callback)); } function d3_xhr_fixCallback(callback) { return callback.length === 1 ? function(error, request) { callback(error == null ? request : null); } : callback; } function d3_xhrHasResponse(request) { var type = request.responseType; return type && type !== "text" ? request.response : request.responseText; } d3.dsv = function(delimiter, mimeType) { var reFormat = new RegExp('["' + delimiter + "\n]"), delimiterCode = delimiter.charCodeAt(0); function dsv(url, row, callback) { if (arguments.length < 3) callback = row, row = null; var xhr = d3_xhr(url, mimeType, row == null ? response : typedResponse(row), callback); xhr.row = function(_) { return arguments.length ? xhr.response((row = _) == null ? response : typedResponse(_)) : row; }; return xhr; } function response(request) { return dsv.parse(request.responseText); } function typedResponse(f) { return function(request) { return dsv.parse(request.responseText, f); }; } dsv.parse = function(text, f) { var o; return dsv.parseRows(text, function(row, i) { if (o) return o(row, i - 1); var a = new Function("d", "return {" + row.map(function(name, i) { return JSON.stringify(name) + ": d[" + i + "]"; }).join(",") + "}"); o = f ? function(row, i) { return f(a(row), i); } : a; }); }; dsv.parseRows = function(text, f) { var EOL = {}, EOF = {}, rows = [], N = text.length, I = 0, n = 0, t, eol; function token() { if (I >= N) return EOF; if (eol) return eol = false, EOL; var j = I; if (text.charCodeAt(j) === 34) { var i = j; while (i++ < N) { if (text.charCodeAt(i) === 34) { if (text.charCodeAt(i + 1) !== 34) break; ++i; } } I = i + 2; var c = text.charCodeAt(i + 1); if (c === 13) { eol = true; if (text.charCodeAt(i + 2) === 10) ++I; } else if (c === 10) { eol = true; } return text.slice(j + 1, i).replace(/""/g, '"'); } while (I < N) { var c = text.charCodeAt(I++), k = 1; if (c === 10) eol = true; else if (c === 13) { eol = true; if (text.charCodeAt(I) === 10) ++I, ++k; } else if (c !== delimiterCode) continue; return text.slice(j, I - k); } return text.slice(j); } while ((t = token()) !== EOF) { var a = []; while (t !== EOL && t !== EOF) { a.push(t); t = token(); } if (f && (a = f(a, n++)) == null) continue; rows.push(a); } return rows; }; dsv.format = function(rows) { if (Array.isArray(rows[0])) return dsv.formatRows(rows); var fieldSet = new d3_Set(), fields = []; rows.forEach(function(row) { for (var field in row) { if (!fieldSet.has(field)) { fields.push(fieldSet.add(field)); } } }); return [ fields.map(formatValue).join(delimiter) ].concat(rows.map(function(row) { return fields.map(function(field) { return formatValue(row[field]); }).join(delimiter); })).join("\n"); }; dsv.formatRows = function(rows) { return rows.map(formatRow).join("\n"); }; function formatRow(row) { return row.map(formatValue).join(delimiter); } function formatValue(text) { return reFormat.test(text) ? '"' + text.replace(/\"/g, '""') + '"' : text; } return dsv; }; d3.csv = d3.dsv(",", "text/csv"); d3.tsv = d3.dsv(" ", "text/tab-separated-values"); var d3_timer_queueHead, d3_timer_queueTail, d3_timer_interval, d3_timer_timeout, d3_timer_frame = this[d3_vendorSymbol(this, "requestAnimationFrame")] || function(callback) { setTimeout(callback, 17); }; d3.timer = function() { d3_timer.apply(this, arguments); }; function d3_timer(callback, delay, then) { var n = arguments.length; if (n < 2) delay = 0; if (n < 3) then = Date.now(); var time = then + delay, timer = { c: callback, t: time, n: null }; if (d3_timer_queueTail) d3_timer_queueTail.n = timer; else d3_timer_queueHead = timer; d3_timer_queueTail = timer; if (!d3_timer_interval) { d3_timer_timeout = clearTimeout(d3_timer_timeout); d3_timer_interval = 1; d3_timer_frame(d3_timer_step); } return timer; } function d3_timer_step() { var now = d3_timer_mark(), delay = d3_timer_sweep() - now; if (delay > 24) { if (isFinite(delay)) { clearTimeout(d3_timer_timeout); d3_timer_timeout = setTimeout(d3_timer_step, delay); } d3_timer_interval = 0; } else { d3_timer_interval = 1; d3_timer_frame(d3_timer_step); } } d3.timer.flush = function() { d3_timer_mark(); d3_timer_sweep(); }; function d3_timer_mark() { var now = Date.now(), timer = d3_timer_queueHead; while (timer) { if (now >= timer.t && timer.c(now - timer.t)) timer.c = null; timer = timer.n; } return now; } function d3_timer_sweep() { var t0, t1 = d3_timer_queueHead, time = Infinity; while (t1) { if (t1.c) { if (t1.t < time) time = t1.t; t1 = (t0 = t1).n; } else { t1 = t0 ? t0.n = t1.n : d3_timer_queueHead = t1.n; } } d3_timer_queueTail = t0; return time; } function d3_format_precision(x, p) { return p - (x ? Math.ceil(Math.log(x) / Math.LN10) : 1); } d3.round = function(x, n) { return n ? Math.round(x * (n = Math.pow(10, n))) / n : Math.round(x); }; var d3_formatPrefixes = [ "y", "z", "a", "f", "p", "n", "Âµ", "m", "", "k", "M", "G", "T", "P", "E", "Z", "Y" ].map(d3_formatPrefix); d3.formatPrefix = function(value, precision) { var i = 0; if (value = +value) { if (value < 0) value *= -1; if (precision) value = d3.round(value, d3_format_precision(value, precision)); i = 1 + Math.floor(1e-12 + Math.log(value) / Math.LN10); i = Math.max(-24, Math.min(24, Math.floor((i - 1) / 3) * 3)); } return d3_formatPrefixes[8 + i / 3]; }; function d3_formatPrefix(d, i) { var k = Math.pow(10, abs(8 - i) * 3); return { scale: i > 8 ? function(d) { return d / k; } : function(d) { return d * k; }, symbol: d }; } function d3_locale_numberFormat(locale) { var locale_decimal = locale.decimal, locale_thousands = locale.thousands, locale_grouping = locale.grouping, locale_currency = locale.currency, formatGroup = locale_grouping && locale_thousands ? function(value, width) { var i = value.length, t = [], j = 0, g = locale_grouping[0], length = 0; while (i > 0 && g > 0) { if (length + g + 1 > width) g = Math.max(1, width - length); t.push(value.substring(i -= g, i + g)); if ((length += g + 1) > width) break; g = locale_grouping[j = (j + 1) % locale_grouping.length]; } return t.reverse().join(locale_thousands); } : d3_identity; return function(specifier) { var match = d3_format_re.exec(specifier), fill = match[1] || " ", align = match[2] || ">", sign = match[3] || "-", symbol = match[4] || "", zfill = match[5], width = +match[6], comma = match[7], precision = match[8], type = match[9], scale = 1, prefix = "", suffix = "", integer = false, exponent = true; if (precision) precision = +precision.substring(1); if (zfill || fill === "0" && align === "=") { zfill = fill = "0"; align = "="; } switch (type) { case "n": comma = true; type = "g"; break; case "%": scale = 100; suffix = "%"; type = "f"; break; case "p": scale = 100; suffix = "%"; type = "r"; break; case "b": case "o": case "x": case "X": if (symbol === "#") prefix = "0" + type.toLowerCase(); case "c": exponent = false; case "d": integer = true; precision = 0; break; case "s": scale = -1; type = "r"; break; } if (symbol === "$") prefix = locale_currency[0], suffix = locale_currency[1]; if (type == "r" && !precision) type = "g"; if (precision != null) { if (type == "g") precision = Math.max(1, Math.min(21, precision)); else if (type == "e" || type == "f") precision = Math.max(0, Math.min(20, precision)); } type = d3_format_types.get(type) || d3_format_typeDefault; var zcomma = zfill && comma; return function(value) { var fullSuffix = suffix; if (integer && value % 1) return ""; var negative = value < 0 || value === 0 && 1 / value < 0 ? (value = -value, "-") : sign === "-" ? "" : sign; if (scale < 0) { var unit = d3.formatPrefix(value, precision); value = unit.scale(value); fullSuffix = unit.symbol + suffix; } else { value *= scale; } value = type(value, precision); var i = value.lastIndexOf("."), before, after; if (i < 0) { var j = exponent ? value.lastIndexOf("e") : -1; if (j < 0) before = value, after = ""; else before = value.substring(0, j), after = value.substring(j); } else { before = value.substring(0, i); after = locale_decimal + value.substring(i + 1); } if (!zfill && comma) before = formatGroup(before, Infinity); var length = prefix.length + before.length + after.length + (zcomma ? 0 : negative.length), padding = length < width ? new Array(length = width - length + 1).join(fill) : ""; if (zcomma) before = formatGroup(padding + before, padding.length ? width - after.length : Infinity); negative += prefix; value = before + after; return (align === "" ? padding + negative + value : align === "^" ? padding.substring(0, length >>= 1) + negative + value + padding.substring(length) : negative + (zcomma ? value : padding + value)) + fullSuffix; }; }; } var d3_format_re = /(?:([^{])?([=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i; var d3_format_types = d3.map({ b: function(x) { return x.toString(2); }, c: function(x) { return String.fromCharCode(x); }, o: function(x) { return x.toString(8); }, x: function(x) { return x.toString(16); }, X: function(x) { return x.toString(16).toUpperCase(); }, g: function(x, p) { return x.toPrecision(p); }, e: function(x, p) { return x.toExponential(p); }, f: function(x, p) { return x.toFixed(p); }, r: function(x, p) { return (x = d3.round(x, d3_format_precision(x, p))).toFixed(Math.max(0, Math.min(20, d3_format_precision(x * (1 + 1e-15), p)))); } }); function d3_format_typeDefault(x) { return x + ""; } var d3_time = d3.time = {}, d3_date = Date; function d3_date_utc() { this._ = new Date(arguments.length > 1 ? Date.UTC.apply(this, arguments) : arguments[0]); } d3_date_utc.prototype = { getDate: function() { return this._.getUTCDate(); }, getDay: function() { return this._.getUTCDay(); }, getFullYear: function() { return this._.getUTCFullYear(); }, getHours: function() { return this._.getUTCHours(); }, getMilliseconds: function() { return this._.getUTCMilliseconds(); }, getMinutes: function() { return this._.getUTCMinutes(); }, getMonth: function() { return this._.getUTCMonth(); }, getSeconds: function() { return this._.getUTCSeconds(); }, getTime: function() { return this._.getTime(); }, getTimezoneOffset: function() { return 0; }, valueOf: function() { return this._.valueOf(); }, setDate: function() { d3_time_prototype.setUTCDate.apply(this._, arguments); }, setDay: function() { d3_time_prototype.setUTCDay.apply(this._, arguments); }, setFullYear: function() { d3_time_prototype.setUTCFullYear.apply(this._, arguments); }, setHours: function() { d3_time_prototype.setUTCHours.apply(this._, arguments); }, setMilliseconds: function() { d3_time_prototype.setUTCMilliseconds.apply(this._, arguments); }, setMinutes: function() { d3_time_prototype.setUTCMinutes.apply(this._, arguments); }, setMonth: function() { d3_time_prototype.setUTCMonth.apply(this._, arguments); }, setSeconds: function() { d3_time_prototype.setUTCSeconds.apply(this._, arguments); }, setTime: function() { d3_time_prototype.setTime.apply(this._, arguments); } }; var d3_time_prototype = Date.prototype; function d3_time_interval(local, step, number) { function round(date) { var d0 = local(date), d1 = offset(d0, 1); return date - d0 < d1 - date ? d0 : d1; } function ceil(date) { step(date = local(new d3_date(date - 1)), 1); return date; } function offset(date, k) { step(date = new d3_date(+date), k); return date; } function range(t0, t1, dt) { var time = ceil(t0), times = []; if (dt > 1) { while (time < t1) { if (!(number(time) % dt)) times.push(new Date(+time)); step(time, 1); } } else { while (time < t1) times.push(new Date(+time)), step(time, 1); } return times; } function range_utc(t0, t1, dt) { try { d3_date = d3_date_utc; var utc = new d3_date_utc(); utc._ = t0; return range(utc, t1, dt); } finally { d3_date = Date; } } local.floor = local; local.round = round; local.ceil = ceil; local.offset = offset; local.range = range; var utc = local.utc = d3_time_interval_utc(local); utc.floor = utc; utc.round = d3_time_interval_utc(round); utc.ceil = d3_time_interval_utc(ceil); utc.offset = d3_time_interval_utc(offset); utc.range = range_utc; return local; } function d3_time_interval_utc(method) { return function(date, k) { try { d3_date = d3_date_utc; var utc = new d3_date_utc(); utc._ = date; return method(utc, k)._; } finally { d3_date = Date; } }; } d3_time.year = d3_time_interval(function(date) { date = d3_time.day(date); date.setMonth(0, 1); return date; }, function(date, offset) { date.setFullYear(date.getFullYear() + offset); }, function(date) { return date.getFullYear(); }); d3_time.years = d3_time.year.range; d3_time.years.utc = d3_time.year.utc.range; d3_time.day = d3_time_interval(function(date) { var day = new d3_date(2e3, 0); day.setFullYear(date.getFullYear(), date.getMonth(), date.getDate()); return day; }, function(date, offset) { date.setDate(date.getDate() + offset); }, function(date) { return date.getDate() - 1; }); d3_time.days = d3_time.day.range; d3_time.days.utc = d3_time.day.utc.range; d3_time.dayOfYear = function(date) { var year = d3_time.year(date); return Math.floor((date - year - (date.getTimezoneOffset() - year.getTimezoneOffset()) * 6e4) / 864e5); }; [ "sunday", "monday", "tuesday", "wednesday", "thursday", "friday", "saturday" ].forEach(function(day, i) { i = 7 - i; var interval = d3_time[day] = d3_time_interval(function(date) { (date = d3_time.day(date)).setDate(date.getDate() - (date.getDay() + i) % 7); return date; }, function(date, offset) { date.setDate(date.getDate() + Math.floor(offset) * 7); }, function(date) { var day = d3_time.year(date).getDay(); return Math.floor((d3_time.dayOfYear(date) + (day + i) % 7) / 7) - (day !== i); }); d3_time[day + "s"] = interval.range; d3_time[day + "s"].utc = interval.utc.range; d3_time[day + "OfYear"] = function(date) { var day = d3_time.year(date).getDay(); return Math.floor((d3_time.dayOfYear(date) + (day + i) % 7) / 7); }; }); d3_time.week = d3_time.sunday; d3_time.weeks = d3_time.sunday.range; d3_time.weeks.utc = d3_time.sunday.utc.range; d3_time.weekOfYear = d3_time.sundayOfYear; function d3_locale_timeFormat(locale) { var locale_dateTime = locale.dateTime, locale_date = locale.date, locale_time = locale.time, locale_periods = locale.periods, locale_days = locale.days, locale_shortDays = locale.shortDays, locale_months = locale.months, locale_shortMonths = locale.shortMonths; function d3_time_format(template) { var n = template.length; function format(date) { var string = [], i = -1, j = 0, c, p, f; while (++i < n) { if (template.charCodeAt(i) === 37) { string.push(template.slice(j, i)); if ((p = d3_time_formatPads[c = template.charAt(++i)]) != null) c = template.charAt(++i); if (f = d3_time_formats[c]) c = f(date, p == null ? c === "e" ? " " : "0" : p); string.push(c); j = i + 1; } } string.push(template.slice(j, i)); return string.join(""); } format.parse = function(string) { var d = { y: 1900, m: 0, d: 1, H: 0, M: 0, S: 0, L: 0, Z: null }, i = d3_time_parse(d, template, string, 0); if (i != string.length) return null; if ("p" in d) d.H = d.H % 12 + d.p * 12; var localZ = d.Z != null && d3_date !== d3_date_utc, date = new (localZ ? d3_date_utc : d3_date)(); if ("j" in d) date.setFullYear(d.y, 0, d.j); else if ("W" in d || "U" in d) { if (!("w" in d)) d.w = "W" in d ? 1 : 0; date.setFullYear(d.y, 0, 1); date.setFullYear(d.y, 0, "W" in d ? (d.w + 6) % 7 + d.W * 7 - (date.getDay() + 5) % 7 : d.w + d.U * 7 - (date.getDay() + 6) % 7); } else date.setFullYear(d.y, d.m, d.d); date.setHours(d.H + (d.Z / 100 | 0), d.M + d.Z % 100, d.S, d.L); return localZ ? date._ : date; }; format.toString = function() { return template; }; return format; } function d3_time_parse(date, template, string, j) { var c, p, t, i = 0, n = template.length, m = string.length; while (i < n) { if (j >= m) return -1; c = template.charCodeAt(i++); if (c === 37) { t = template.charAt(i++); p = d3_time_parsers[t in d3_time_formatPads ? template.charAt(i++) : t]; if (!p || (j = p(date, string, j)) < 0) return -1; } else if (c != string.charCodeAt(j++)) { return -1; } } return j; } d3_time_format.utc = function(template) { var local = d3_time_format(template); function format(date) { try { d3_date = d3_date_utc; var utc = new d3_date(); utc._ = date; return local(utc); } finally { d3_date = Date; } } format.parse = function(string) { try { d3_date = d3_date_utc; var date = local.parse(string); return date && date._; } finally { d3_date = Date; } }; format.toString = local.toString; return format; }; d3_time_format.multi = d3_time_format.utc.multi = d3_time_formatMulti; var d3_time_periodLookup = d3.map(), d3_time_dayRe = d3_time_formatRe(locale_days), d3_time_dayLookup = d3_time_formatLookup(locale_days), d3_time_dayAbbrevRe = d3_time_formatRe(locale_shortDays), d3_time_dayAbbrevLookup = d3_time_formatLookup(locale_shortDays), d3_time_monthRe = d3_time_formatRe(locale_months), d3_time_monthLookup = d3_time_formatLookup(locale_months), d3_time_monthAbbrevRe = d3_time_formatRe(locale_shortMonths), d3_time_monthAbbrevLookup = d3_time_formatLookup(locale_shortMonths); locale_periods.forEach(function(p, i) { d3_time_periodLookup.set(p.toLowerCase(), i); }); var d3_time_formats = { a: function(d) { return locale_shortDays[d.getDay()]; }, A: function(d) { return locale_days[d.getDay()]; }, b: function(d) { return locale_shortMonths[d.getMonth()]; }, B: function(d) { return locale_months[d.getMonth()]; }, c: d3_time_format(locale_dateTime), d: function(d, p) { return d3_time_formatPad(d.getDate(), p, 2); }, e: function(d, p) { return d3_time_formatPad(d.getDate(), p, 2); }, H: function(d, p) { return d3_time_formatPad(d.getHours(), p, 2); }, I: function(d, p) { return d3_time_formatPad(d.getHours() % 12 || 12, p, 2); }, j: function(d, p) { return d3_time_formatPad(1 + d3_time.dayOfYear(d), p, 3); }, L: function(d, p) { return d3_time_formatPad(d.getMilliseconds(), p, 3); }, m: function(d, p) { return d3_time_formatPad(d.getMonth() + 1, p, 2); }, M: function(d, p) { return d3_time_formatPad(d.getMinutes(), p, 2); }, p: function(d) { return locale_periods[+(d.getHours() >= 12)]; }, S: function(d, p) { return d3_time_formatPad(d.getSeconds(), p, 2); }, U: function(d, p) { return d3_time_formatPad(d3_time.sundayOfYear(d), p, 2); }, w: function(d) { return d.getDay(); }, W: function(d, p) { return d3_time_formatPad(d3_time.mondayOfYear(d), p, 2); }, x: d3_time_format(locale_date), X: d3_time_format(locale_time), y: function(d, p) { return d3_time_formatPad(d.getFullYear() % 100, p, 2); }, Y: function(d, p) { return d3_time_formatPad(d.getFullYear() % 1e4, p, 4); }, Z: d3_time_zone, "%": function() { return "%"; } }; var d3_time_parsers = { a: d3_time_parseWeekdayAbbrev, A: d3_time_parseWeekday, b: d3_time_parseMonthAbbrev, B: d3_time_parseMonth, c: d3_time_parseLocaleFull, d: d3_time_parseDay, e: d3_time_parseDay, H: d3_time_parseHour24, I: d3_time_parseHour24, j: d3_time_parseDayOfYear, L: d3_time_parseMilliseconds, m: d3_time_parseMonthNumber, M: d3_time_parseMinutes, p: d3_time_parseAmPm, S: d3_time_parseSeconds, U: d3_time_parseWeekNumberSunday, w: d3_time_parseWeekdayNumber, W: d3_time_parseWeekNumberMonday, x: d3_time_parseLocaleDate, X: d3_time_parseLocaleTime, y: d3_time_parseYear, Y: d3_time_parseFullYear, Z: d3_time_parseZone, "%": d3_time_parseLiteralPercent }; function d3_time_parseWeekdayAbbrev(date, string, i) { d3_time_dayAbbrevRe.lastIndex = 0; var n = d3_time_dayAbbrevRe.exec(string.slice(i)); return n ? (date.w = d3_time_dayAbbrevLookup.get(n[0].toLowerCase()), i + n[0].length) : -1; } function d3_time_parseWeekday(date, string, i) { d3_time_dayRe.lastIndex = 0; var n = d3_time_dayRe.exec(string.slice(i)); return n ? (date.w = d3_time_dayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1; } function d3_time_parseMonthAbbrev(date, string, i) { d3_time_monthAbbrevRe.lastIndex = 0; var n = d3_time_monthAbbrevRe.exec(string.slice(i)); return n ? (date.m = d3_time_monthAbbrevLookup.get(n[0].toLowerCase()), i + n[0].length) : -1; } function d3_time_parseMonth(date, string, i) { d3_time_monthRe.lastIndex = 0; var n = d3_time_monthRe.exec(string.slice(i)); return n ? (date.m = d3_time_monthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1; } function d3_time_parseLocaleFull(date, string, i) { return d3_time_parse(date, d3_time_formats.c.toString(), string, i); } function d3_time_parseLocaleDate(date, string, i) { return d3_time_parse(date, d3_time_formats.x.toString(), string, i); } function d3_time_parseLocaleTime(date, string, i) { return d3_time_parse(date, d3_time_formats.X.toString(), string, i); } function d3_time_parseAmPm(date, string, i) { var n = d3_time_periodLookup.get(string.slice(i, i += 2).toLowerCase()); return n == null ? -1 : (date.p = n, i); } return d3_time_format; } var d3_time_formatPads = { "-": "", _: " ", "0": "0" }, d3_time_numberRe = /^\s*\d+/, d3_time_percentRe = /^%/; function d3_time_formatPad(value, fill, width) { var sign = value < 0 ? "-" : "", string = (sign ? -value : value) + "", length = string.length; return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string); } function d3_time_formatRe(names) { return new RegExp("^(?:" + names.map(d3.requote).join("|") + ")", "i"); } function d3_time_formatLookup(names) { var map = new d3_Map(), i = -1, n = names.length; while (++i < n) map.set(names[i].toLowerCase(), i); return map; } function d3_time_parseWeekdayNumber(date, string, i) { d3_time_numberRe.lastIndex = 0; var n = d3_time_numberRe.exec(string.slice(i, i + 1)); return n ? (date.w = +n[0], i + n[0].length) : -1; } function d3_time_parseWeekNumberSunday(date, string, i) { d3_time_numberRe.lastIndex = 0; var n = d3_time_numberRe.exec(string.slice(i)); return n ? (date.U = +n[0], i + n[0].length) : -1; } function d3_time_parseWeekNumberMonday(date, string, i) { d3_time_numberRe.lastIndex = 0; var n = d3_time_numberRe.exec(string.slice(i)); return n ? (date.W = +n[0], i + n[0].length) : -1; } function d3_time_parseFullYear(date, string, i) { d3_time_numberRe.lastIndex = 0; var n = d3_time_numberRe.exec(string.slice(i, i + 4)); return n ? (date.y = +n[0], i + n[0].length) : -1; } function d3_time_parseYear(date, string, i) { d3_time_numberRe.lastIndex = 0; var n = d3_time_numberRe.exec(string.slice(i, i + 2)); return n ? (date.y = d3_time_expandYear(+n[0]), i + n[0].length) : -1; } function d3_time_parseZone(date, string, i) { return /^[+-]\d{4}$/.test(string = string.slice(i, i + 5)) ? (date.Z = -string, i + 5) : -1; } function d3_time_expandYear(d) { return d + (d > 68 ? 1900 : 2e3); } function d3_time_parseMonthNumber(date, string, i) { d3_time_numberRe.lastIndex = 0; var n = d3_time_numberRe.exec(string.slice(i, i + 2)); return n ? (date.m = n[0] - 1, i + n[0].length) : -1; } function d3_time_parseDay(date, string, i) { d3_time_numberRe.lastIndex = 0; var n = d3_time_numberRe.exec(string.slice(i, i + 2)); return n ? (date.d = +n[0], i + n[0].length) : -1; } function d3_time_parseDayOfYear(date, string, i) { d3_time_numberRe.lastIndex = 0; var n = d3_time_numberRe.exec(string.slice(i, i + 3)); return n ? (date.j = +n[0], i + n[0].length) : -1; } function d3_time_parseHour24(date, string, i) { d3_time_numberRe.lastIndex = 0; var n = d3_time_numberRe.exec(string.slice(i, i + 2)); return n ? (date.H = +n[0], i + n[0].length) : -1; } function d3_time_parseMinutes(date, string, i) { d3_time_numberRe.lastIndex = 0; var n = d3_time_numberRe.exec(string.slice(i, i + 2)); return n ? (date.M = +n[0], i + n[0].length) : -1; } function d3_time_parseSeconds(date, string, i) { d3_time_numberRe.lastIndex = 0; var n = d3_time_numberRe.exec(string.slice(i, i + 2)); return n ? (date.S = +n[0], i + n[0].length) : -1; } function d3_time_parseMilliseconds(date, string, i) { d3_time_numberRe.lastIndex = 0; var n = d3_time_numberRe.exec(string.slice(i, i + 3)); return n ? (date.L = +n[0], i + n[0].length) : -1; } function d3_time_zone(d) { var z = d.getTimezoneOffset(), zs = z > 0 ? "-" : "+", zh = abs(z) / 60 | 0, zm = abs(z) % 60; return zs + d3_time_formatPad(zh, "0", 2) + d3_time_formatPad(zm, "0", 2); } function d3_time_parseLiteralPercent(date, string, i) { d3_time_percentRe.lastIndex = 0; var n = d3_time_percentRe.exec(string.slice(i, i + 1)); return n ? i + n[0].length : -1; } function d3_time_formatMulti(formats) { var n = formats.length, i = -1; while (++i < n) formats[i][0] = this(formats[i][0]); return function(date) { var i = 0, f = formats[i]; while (!f[1](date)) f = formats[++i]; return f[0](date); }; } d3.locale = function(locale) { return { numberFormat: d3_locale_numberFormat(locale), timeFormat: d3_locale_timeFormat(locale) }; }; var d3_locale_enUS = d3.locale({ decimal: ".", thousands: ",", grouping: [ 3 ], currency: [ "$", "" ], dateTime: "%a %b %e %X %Y", date: "%m/%d/%Y", time: "%H:%M:%S", periods: [ "AM", "PM" ], days: [ "Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday" ], shortDays: [ "Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat" ], months: [ "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December" ], shortMonths: [ "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec" ] }); d3.format = d3_locale_enUS.numberFormat; d3.geo = {}; function d3_adder() {} d3_adder.prototype = { s: 0, t: 0, add: function(y) { d3_adderSum(y, this.t, d3_adderTemp); d3_adderSum(d3_adderTemp.s, this.s, this); if (this.s) this.t += d3_adderTemp.t; else this.s = d3_adderTemp.t; }, reset: function() { this.s = this.t = 0; }, valueOf: function() { return this.s; } }; var d3_adderTemp = new d3_adder(); function d3_adderSum(a, b, o) { var x = o.s = a + b, bv = x - a, av = x - bv; o.t = a - av + (b - bv); } d3.geo.stream = function(object, listener) { if (object && d3_geo_streamObjectType.hasOwnProperty(object.type)) { d3_geo_streamObjectType[object.type](object, listener); } else { d3_geo_streamGeometry(object, listener); } }; function d3_geo_streamGeometry(geometry, listener) { if (geometry && d3_geo_streamGeometryType.hasOwnProperty(geometry.type)) { d3_geo_streamGeometryType[geometry.type](geometry, listener); } } var d3_geo_streamObjectType = { Feature: function(feature, listener) { d3_geo_streamGeometry(feature.geometry, listener); }, FeatureCollection: function(object, listener) { var features = object.features, i = -1, n = features.length; while (++i < n) d3_geo_streamGeometry(features[i].geometry, listener); } }; var d3_geo_streamGeometryType = { Sphere: function(object, listener) { listener.sphere(); }, Point: function(object, listener) { object = object.coordinates; listener.point(object[0], object[1], object[2]); }, MultiPoint: function(object, listener) { var coordinates = object.coordinates, i = -1, n = coordinates.length; while (++i < n) object = coordinates[i], listener.point(object[0], object[1], object[2]); }, LineString: function(object, listener) { d3_geo_streamLine(object.coordinates, listener, 0); }, MultiLineString: function(object, listener) { var coordinates = object.coordinates, i = -1, n = coordinates.length; while (++i < n) d3_geo_streamLine(coordinates[i], listener, 0); }, Polygon: function(object, listener) { d3_geo_streamPolygon(object.coordinates, listener); }, MultiPolygon: function(object, listener) { var coordinates = object.coordinates, i = -1, n = coordinates.length; while (++i < n) d3_geo_streamPolygon(coordinates[i], listener); }, GeometryCollection: function(object, listener) { var geometries = object.geometries, i = -1, n = geometries.length; while (++i < n) d3_geo_streamGeometry(geometries[i], listener); } }; function d3_geo_streamLine(coordinates, listener, closed) { var i = -1, n = coordinates.length - closed, coordinate; listener.lineStart(); while (++i < n) coordinate = coordinates[i], listener.point(coordinate[0], coordinate[1], coordinate[2]); listener.lineEnd(); } function d3_geo_streamPolygon(coordinates, listener) { var i = -1, n = coordinates.length; listener.polygonStart(); while (++i < n) d3_geo_streamLine(coordinates[i], listener, 1); listener.polygonEnd(); } d3.geo.area = function(object) { d3_geo_areaSum = 0; d3.geo.stream(object, d3_geo_area); return d3_geo_areaSum; }; var d3_geo_areaSum, d3_geo_areaRingSum = new d3_adder(); var d3_geo_area = { sphere: function() { d3_geo_areaSum += 4 * Ï€; }, point: d3_noop, lineStart: d3_noop, lineEnd: d3_noop, polygonStart: function() { d3_geo_areaRingSum.reset(); d3_geo_area.lineStart = d3_geo_areaRingStart; }, polygonEnd: function() { var area = 2 * d3_geo_areaRingSum; d3_geo_areaSum += area < 0 ? 4 * Ï€ + area : area; d3_geo_area.lineStart = d3_geo_area.lineEnd = d3_geo_area.point = d3_noop; } }; function d3_geo_areaRingStart() { var Î»00, Ï†00, Î»0, cosÏ†0, sinÏ†0; d3_geo_area.point = function(Î», Ï†) { d3_geo_area.point = nextPoint; Î»0 = (Î»00 = Î») * d3_radians, cosÏ†0 = Math.cos(Ï† = (Ï†00 = Ï†) * d3_radians / 2 + Ï€ / 4), sinÏ†0 = Math.sin(Ï†); }; function nextPoint(Î», Ï†) { Î» *= d3_radians; Ï† = Ï† * d3_radians / 2 + Ï€ / 4; var dÎ» = Î» - Î»0, sdÎ» = dÎ» >= 0 ? 1 : -1, adÎ» = sdÎ» * dÎ», cosÏ† = Math.cos(Ï†), sinÏ† = Math.sin(Ï†), k = sinÏ†0 * sinÏ†, u = cosÏ†0 * cosÏ† + k * Math.cos(adÎ»), v = k * sdÎ» * Math.sin(adÎ»); d3_geo_areaRingSum.add(Math.atan2(v, u)); Î»0 = Î», cosÏ†0 = cosÏ†, sinÏ†0 = sinÏ†; } d3_geo_area.lineEnd = function() { nextPoint(Î»00, Ï†00); }; } function d3_geo_cartesian(spherical) { var Î» = spherical[0], Ï† = spherical[1], cosÏ† = Math.cos(Ï†); return [ cosÏ† * Math.cos(Î»), cosÏ† * Math.sin(Î»), Math.sin(Ï†) ]; } function d3_geo_cartesianDot(a, b) { return a[0] * b[0] + a[1] * b[1] + a[2] * b[2]; } function d3_geo_cartesianCross(a, b) { return [ a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0] ]; } function d3_geo_cartesianAdd(a, b) { a[0] += b[0]; a[1] += b[1]; a[2] += b[2]; } function d3_geo_cartesianScale(vector, k) { return [ vector[0] * k, vector[1] * k, vector[2] * k ]; } function d3_geo_cartesianNormalize(d) { var l = Math.sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]); d[0] /= l; d[1] /= l; d[2] /= l; } function d3_geo_spherical(cartesian) { return [ Math.atan2(cartesian[1], cartesian[0]), d3_asin(cartesian[2]) ]; } function d3_geo_sphericalEqual(a, b) { return abs(a[0] - b[0]) < Îµ && abs(a[1] - b[1]) < Îµ; } d3.geo.bounds = function() { var Î»0, Ï†0, Î»1, Ï†1, Î»_, Î»__, Ï†__, p0, dÎ»Sum, ranges, range; var bound = { point: point, lineStart: lineStart, lineEnd: lineEnd, polygonStart: function() { bound.point = ringPoint; bound.lineStart = ringStart; bound.lineEnd = ringEnd; dÎ»Sum = 0; d3_geo_area.polygonStart(); }, polygonEnd: function() { d3_geo_area.polygonEnd(); bound.point = point; bound.lineStart = lineStart; bound.lineEnd = lineEnd; if (d3_geo_areaRingSum < 0) Î»0 = -(Î»1 = 180), Ï†0 = -(Ï†1 = 90); else if (dÎ»Sum > Îµ) Ï†1 = 90; else if (dÎ»Sum < -Îµ) Ï†0 = -90; range[0] = Î»0, range[1] = Î»1; } }; function point(Î», Ï†) { ranges.push(range = [ Î»0 = Î», Î»1 = Î» ]); if (Ï† < Ï†0) Ï†0 = Ï†; if (Ï† > Ï†1) Ï†1 = Ï†; } function linePoint(Î», Ï†) { var p = d3_geo_cartesian([ Î» * d3_radians, Ï† * d3_radians ]); if (p0) { var normal = d3_geo_cartesianCross(p0, p), equatorial = [ normal[1], -normal[0], 0 ], inflection = d3_geo_cartesianCross(equatorial, normal); d3_geo_cartesianNormalize(inflection); inflection = d3_geo_spherical(inflection); var dÎ» = Î» - Î»_, s = dÎ» > 0 ? 1 : -1, Î»i = inflection[0] * d3_degrees * s, antimeridian = abs(dÎ») > 180; if (antimeridian ^ (s * Î»_ < Î»i && Î»i < s * Î»)) { var Ï†i = inflection[1] * d3_degrees; if (Ï†i > Ï†1) Ï†1 = Ï†i; } else if (Î»i = (Î»i + 360) % 360 - 180, antimeridian ^ (s * Î»_ < Î»i && Î»i < s * Î»)) { var Ï†i = -inflection[1] * d3_degrees; if (Ï†i < Ï†0) Ï†0 = Ï†i; } else { if (Ï† < Ï†0) Ï†0 = Ï†; if (Ï† > Ï†1) Ï†1 = Ï†; } if (antimeridian) { if (Î» < Î»_) { if (angle(Î»0, Î») > angle(Î»0, Î»1)) Î»1 = Î»; } else { if (angle(Î», Î»1) > angle(Î»0, Î»1)) Î»0 = Î»; } } else { if (Î»1 >= Î»0) { if (Î» < Î»0) Î»0 = Î»; if (Î» > Î»1) Î»1 = Î»; } else { if (Î» > Î»_) { if (angle(Î»0, Î») > angle(Î»0, Î»1)) Î»1 = Î»; } else { if (angle(Î», Î»1) > angle(Î»0, Î»1)) Î»0 = Î»; } } } } else { point(Î», Ï†); } p0 = p, Î»_ = Î»; } function lineStart() { bound.point = linePoint; } function lineEnd() { range[0] = Î»0, range[1] = Î»1; bound.point = point; p0 = null; } function ringPoint(Î», Ï†) { if (p0) { var dÎ» = Î» - Î»_; dÎ»Sum += abs(dÎ») > 180 ? dÎ» + (dÎ» > 0 ? 360 : -360) : dÎ»; } else Î»__ = Î», Ï†__ = Ï†; d3_geo_area.point(Î», Ï†); linePoint(Î», Ï†); } function ringStart() { d3_geo_area.lineStart(); } function ringEnd() { ringPoint(Î»__, Ï†__); d3_geo_area.lineEnd(); if (abs(dÎ»Sum) > Îµ) Î»0 = -(Î»1 = 180); range[0] = Î»0, range[1] = Î»1; p0 = null; } function angle(Î»0, Î»1) { return (Î»1 -= Î»0) < 0 ? Î»1 + 360 : Î»1; } function compareRanges(a, b) { return a[0] - b[0]; } function withinRange(x, range) { return range[0] true * * _.inRange(4, 2); * // => false * * _.inRange(2, 2); * // => false * * _.inRange(1.2, 2); * // => true * * _.inRange(5.2, 4); * // => false * * _.inRange(-3, -2, -6); * // => true */ function inRange(number, start, end) { start = toFinite(start); if (end === undefined) { end = start; start = 0; } else { end = toFinite(end); } number = toNumber(number); return baseInRange(number, start, end); } /** * Produces a random number between the inclusive `lower` and `upper` bounds. * If only one argument is provided a number between `0` and the given number * is returned. If `floating` is `true`, or either `lower` or `upper` are * floats, a floating-point number is returned instead of an integer. * * **Note:** JavaScript follows the IEEE-754 standard for resolving * floating-point values which can produce unexpected results. * * @static * @memberOf _ * @since 0.7.0 * @category Number * @param {number} [lower=0] The lower bound. * @param {number} [upper=1] The upper bound. * @param {boolean} [floating] Specify returning a floating-point number. * @returns {number} Returns the random number. * @example * * _.random(0, 5); * // => an integer between 0 and 5 * * _.random(5); * // => also an integer between 0 and 5 * * _.random(5, true); * // => a floating-point number between 0 and 5 * * _.random(1.2, 5.2); * // => a floating-point number between 1.2 and 5.2 */ function random(lower, upper, floating) { if (floating && typeof floating != 'boolean' && isIterateeCall(lower, upper, floating)) { upper = floating = undefined; } if (floating === undefined) { if (typeof upper == 'boolean') { floating = upper; upper = undefined; } else if (typeof lower == 'boolean') { floating = lower; lower = undefined; } } if (lower === undefined && upper === undefined) { lower = 0; upper = 1; } else { lower = toFinite(lower); if (upper === undefined) { upper = lower; lower = 0; } else { upper = toFinite(upper); } } if (lower > upper) { var temp = lower; lower = upper; upper = temp; } if (floating || lower % 1 || upper % 1) { var rand = nativeRandom(); return nativeMin(lower + (rand * (upper - lower + freeParseFloat('1e-' + ((rand + '').length - 1)))), upper); } return baseRandom(lower, upper); } /*------------------------------------------------------------------------*/ /** * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase). * * @static * @memberOf _ * @since 3.0.0 * @category String * @param {string} [string=''] The string to convert. * @returns {string} Returns the camel cased string. * @example * * _.camelCase('Foo Bar'); * // => 'fooBar' * * _.camelCase('--foo-bar--'); * // => 'fooBar' * * _.camelCase('__FOO_BAR__'); * // => 'fooBar' */ var camelCase = createCompounder(function(result, word, index) { word = word.toLowerCase(); return result + (index ? capitalize(word) : word); }); /** * Converts the first character of `string` to upper case and the remaining * to lower case. * * @static * @memberOf _ * @since 3.0.0 * @category String * @param {string} [string=''] The string to capitalize. * @returns {string} Returns the capitalized string. * @example * * _.capitalize('FRED'); * // => 'Fred' */ function capitalize(string) { return upperFirst(toString(string).toLowerCase()); } /** * Deburrs `string` by converting * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table) * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A) * letters to basic Latin letters and removing * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks). * * @static * @memberOf _ * @since 3.0.0 * @category String * @param {string} [string=''] The string to deburr. * @returns {string} Returns the deburred string. * @example * * _.deburr('dÃ©jÃ  vu'); * // => 'deja vu' */ function deburr(string) { string = toString(string); return string && string.replace(reLatin, deburrLetter).replace(reComboMark, ''); } /** * Checks if `string` ends with the given target string. * * @static * @memberOf _ * @since 3.0.0 * @category String * @param {string} [string=''] The string to inspect. * @param {string} [target] The string to search for. * @param {number} [position=string.length] The position to search up to. * @returns {boolean} Returns `true` if `string` ends with `target`, * else `false`. * @example * * _.endsWith('abc', 'c'); * // => true * * _.endsWith('abc', 'b'); * // => false * * _.endsWith('abc', 'b', 2); * // => true */ function endsWith(string, target, position) { string = toString(string); target = baseToString(target); var length = string.length; position = position === undefined ? length : baseClamp(toInteger(position), 0, length); var end = position; position -= target.length; return position >= 0 && string.slice(position, end) == target; } /** * Converts the characters "&", "", '"', and "'" in `string` to their * corresponding HTML entities. * * **Note:** No other characters are escaped. To escape additional * characters use a third-party library like [_he_](https://mths.be/he). * * Though the ">" character is escaped for symmetry, characters like * ">" and "/" don't need escaping in HTML and have no special meaning * unless they're part of a tag or unquoted attribute value. See * [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands) * (under "semi-related fun fact") for more details. * * When working with HTML you should always * [quote attribute values](http://wonko.com/post/html-escaping) to reduce * XSS vectors. * * @static * @since 0.1.0 * @memberOf _ * @category String * @param {string} [string=''] The string to escape. * @returns {string} Returns the escaped string. * @example * * _.escape('fred, barney, & pebbles'); * // => 'fred, barney, &amp; pebbles' */ function escape(string) { string = toString(string); return (string && reHasUnescapedHtml.test(string)) ? string.replace(reUnescapedHtml, escapeHtmlChar) : string; } /** * Escapes the `RegExp` special characters "^", "$", "\", ".", "*", "+", * "?", "(", ")", "[", "]", "{", "}", and "|" in `string`. * * @static * @memberOf _ * @since 3.0.0 * @category String * @param {string} [string=''] The string to escape. * @returns {string} Returns the escaped string. * @example * * _.escapeRegExp('[lodash](https://lodash.com/)'); * // => '\[lodash\]\(https://lodash\.com/\)' */ function escapeRegExp(string) { string = toString(string); return (string && reHasRegExpChar.test(string)) ? string.replace(reRegExpChar, '\\$&') : string; } /** * Converts `string` to * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles). * * @static * @memberOf _ * @since 3.0.0 * @category String * @param {string} [string=''] The string to convert. * @returns {string} Returns the kebab cased string. * @example * * _.kebabCase('Foo Bar'); * // => 'foo-bar' * * _.kebabCase('fooBar'); * // => 'foo-bar' * * _.kebabCase('__FOO_BAR__'); * // => 'foo-bar' */ var kebabCase = createCompounder(function(result, word, index) { return result + (index ? '-' : '') + word.toLowerCase(); }); /** * Converts `string`, as space separated words, to lower case. * * @static * @memberOf _ * @since 4.0.0 * @category String * @param {string} [string=''] The string to convert. * @returns {string} Returns the lower cased string. * @example * * _.lowerCase('--Foo-Bar--'); * // => 'foo bar' * * _.lowerCase('fooBar'); * // => 'foo bar' * * _.lowerCase('__FOO_BAR__'); * // => 'foo bar' */ var lowerCase = createCompounder(function(result, word, index) { return result + (index ? ' ' : '') + word.toLowerCase(); }); /** * Converts the first character of `string` to lower case. * * @static * @memberOf _ * @since 4.0.0 * @category String * @param {string} [string=''] The string to convert. * @returns {string} Returns the converted string. * @example * * _.lowerFirst('Fred'); * // => 'fred' * * _.lowerFirst('FRED'); * // => 'fRED' */ var lowerFirst = createCaseFirst('toLowerCase'); /** * Pads `string` on the left and right sides if it's shorter than `length`. * Padding characters are truncated if they can't be evenly divided by `length`. * * @static * @memberOf _ * @since 3.0.0 * @category String * @param {string} [string=''] The string to pad. * @param {number} [length=0] The padding length. * @param {string} [chars=' '] The string used as padding. * @returns {string} Returns the padded string. * @example * * _.pad('abc', 8); * // => ' abc ' * * _.pad('abc', 8, '_-'); * // => '_-abc_-_' * * _.pad('abc', 3); * // => 'abc' */ function pad(string, length, chars) { string = toString(string); length = toInteger(length); var strLength = length ? stringSize(string) : 0; if (!length || strLength >= length) { return string; } var mid = (length - strLength) / 2; return ( createPadding(nativeFloor(mid), chars) + string + createPadding(nativeCeil(mid), chars) ); } /** * Pads `string` on the right side if it's shorter than `length`. Padding * characters are truncated if they exceed `length`. * * @static * @memberOf _ * @since 4.0.0 * @category String * @param {string} [string=''] The string to pad. * @param {number} [length=0] The padding length. * @param {string} [chars=' '] The string used as padding. * @returns {string} Returns the padded string. * @example * * _.padEnd('abc', 6); * // => 'abc ' * * _.padEnd('abc', 6, '_-'); * // => 'abc_-_' * * _.padEnd('abc', 3); * // => 'abc' */ function padEnd(string, length, chars) { string = toString(string); length = toInteger(length); var strLength = length ? stringSize(string) : 0; return (length && strLength < length) ? (string + createPadding(length - strLength, chars)) : string; } /** * Pads `string` on the left side if it's shorter than `length`. Padding * characters are truncated if they exceed `length`. * * @static * @memberOf _ * @since 4.0.0 * @category String * @param {string} [string=''] The string to pad. * @param {number} [length=0] The padding length. * @param {string} [chars=' '] The string used as padding. * @returns {string} Returns the padded string. * @example * * _.padStart('abc', 6); * // => ' abc' * * _.padStart('abc', 6, '_-'); * // => '_-_abc' * * _.padStart('abc', 3); * // => 'abc' */ function padStart(string, length, chars) { string = toString(string); length = toInteger(length); var strLength = length ? stringSize(string) : 0; return (length && strLength < length) ? (createPadding(length - strLength, chars) + string) : string; } /** * Converts `string` to an integer of the specified radix. If `radix` is * `undefined` or `0`, a `radix` of `10` is used unless `value` is a * hexadecimal, in which case a `radix` of `16` is used. * * **Note:** This method aligns with the * [ES5 implementation](https://es5.github.io/#x15.1.2.2) of `parseInt`. * * @static * @memberOf _ * @since 1.1.0 * @category String * @param {string} string The string to convert. * @param {number} [radix=10] The radix to interpret `value` by. * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`. * @returns {number} Returns the converted integer. * @example * * _.parseInt('08'); * // => 8 * * _.map(['6', '08', '10'], _.parseInt); * // => [6, 8, 10] */ function parseInt(string, radix, guard) { if (guard || radix == null) { radix = 0; } else if (radix) { radix = +radix; } return nativeParseInt(toString(string).replace(reTrimStart, ''), radix || 0); } /** * Repeats the given string `n` times. * * @static * @memberOf _ * @since 3.0.0 * @category String * @param {string} [string=''] The string to repeat. * @param {number} [n=1] The number of times to repeat the string. * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`. * @returns {string} Returns the repeated string. * @example * * _.repeat('*', 3); * // => '***' * * _.repeat('abc', 2); * // => 'abcabc' * * _.repeat('abc', 0); * // => '' */ function repeat(string, n, guard) { if ((guard ? isIterateeCall(string, n, guard) : n === undefined)) { n = 1; } else { n = toInteger(n); } return baseRepeat(toString(string), n); } /** * Replaces matches for `pattern` in `string` with `replacement`. * * **Note:** This method is based on * [`String#replace`](https://mdn.io/String/replace). * * @static * @memberOf _ * @since 4.0.0 * @category String * @param {string} [string=''] The string to modify. * @param {RegExp|string} pattern The pattern to replace. * @param {Function|string} replacement The match replacement. * @returns {string} Returns the modified string. * @example * * _.replace('Hi Fred', 'Fred', 'Barney'); * // => 'Hi Barney' */ function replace() { var args = arguments, string = toString(args[0]); return args.length < 3 ? string : string.replace(args[1], args[2]); } /** * Converts `string` to * [snake case](https://en.wikipedia.org/wiki/Snake_case). * * @static * @memberOf _ * @since 3.0.0 * @category String * @param {string} [string=''] The string to convert. * @returns {string} Returns the snake cased string. * @example * * _.snakeCase('Foo Bar'); * // => 'foo_bar' * * _.snakeCase('fooBar'); * // => 'foo_bar' * * _.snakeCase('--FOO-BAR--'); * // => 'foo_bar' */ var snakeCase = createCompounder(function(result, word, index) { return result + (index ? '_' : '') + word.toLowerCase(); }); /** * Splits `string` by `separator`. * * **Note:** This method is based on * [`String#split`](https://mdn.io/String/split). * * @static * @memberOf _ * @since 4.0.0 * @category String * @param {string} [string=''] The string to split. * @param {RegExp|string} separator The separator pattern to split by. * @param {number} [limit] The length to truncate results to. * @returns {Array} Returns the string segments. * @example * * _.split('a-b-c', '-', 2); * // => ['a', 'b'] */ function split(string, separator, limit) { if (limit && typeof limit != 'number' && isIterateeCall(string, separator, limit)) { separator = limit = undefined; } limit = limit === undefined ? MAX_ARRAY_LENGTH : limit >>> 0; if (!limit) { return []; } string = toString(string); if (string && ( typeof separator == 'string' || (separator != null && !isRegExp(separator)) )) { separator = baseToString(separator); if (!separator && hasUnicode(string)) { return castSlice(stringToArray(string), 0, limit); } } return string.split(separator, limit); } /** * Converts `string` to * [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage). * * @static * @memberOf _ * @since 3.1.0 * @category String * @param {string} [string=''] The string to convert. * @returns {string} Returns the start cased string. * @example * * _.startCase('--foo-bar--'); * // => 'Foo Bar' * * _.startCase('fooBar'); * // => 'Foo Bar' * * _.startCase('__FOO_BAR__'); * // => 'FOO BAR' */ var startCase = createCompounder(function(result, word, index) { return result + (index ? ' ' : '') + upperFirst(word); }); /** * Checks if `string` starts with the given target string. * * @static * @memberOf _ * @since 3.0.0 * @category String * @param {string} [string=''] The string to inspect. * @param {string} [target] The string to search for. * @param {number} [position=0] The position to search from. * @returns {boolean} Returns `true` if `string` starts with `target`, * else `false`. * @example * * _.startsWith('abc', 'a'); * // => true * * _.startsWith('abc', 'b'); * // => false * * _.startsWith('abc', 'b', 1); * // => true */ function startsWith(string, target, position) { string = toString(string); position = position == null ? 0 : baseClamp(toInteger(position), 0, string.length); target = baseToString(target); return string.slice(position, position + target.length) == target; } /** * Creates a compiled template function that can interpolate data properties * in "interpolate" delimiters, HTML-escape interpolated data properties in * "escape" delimiters, and execute JavaScript in "evaluate" delimiters. Data * properties may be accessed as free variables in the template. If a setting * object is given, it takes precedence over `_.templateSettings` values. * * **Note:** In the development build `_.template` utilizes * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl) * for easier debugging. * * For more information on precompiling templates see * [lodash's custom builds documentation](https://lodash.com/custom-builds). * * For more information on Chrome extension sandboxes see * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval). * * @static * @since 0.1.0 * @memberOf _ * @category String * @param {string} [string=''] The template string. * @param {Object} [options={}] The options object. * @param {RegExp} [options.escape=_.templateSettings.escape] * The HTML "escape" delimiter. * @param {RegExp} [options.evaluate=_.templateSettings.evaluate] * The "evaluate" delimiter. * @param {Object} [options.imports=_.templateSettings.imports] * An object to import into the template as free variables. * @param {RegExp} [options.interpolate=_.templateSettings.interpolate] * The "interpolate" delimiter. * @param {string} [options.sourceURL='lodash.templateSources[n]'] * The sourceURL of the compiled template. * @param {string} [options.variable='obj'] * The data object variable name. * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`. * @returns {Function} Returns the compiled template function. * @example * * // Use the "interpolate" delimiter to create a compiled template. * var compiled = _.template('hello !'); * compiled({ 'user': 'fred' }); * // => 'hello fred!' * * // Use the HTML "escape" delimiter to escape data property values. * var compiled = _.template(''); * compiled({ 'value': '' }); * // => '&lt;script&gt;' * * // Use the "evaluate" delimiter to execute JavaScript and generate HTML. * var compiled = _.template(''); * compiled({ 'users': ['fred', 'barney'] }); * // => 'fredbarney' * * // Use the internal `print` function in "evaluate" delimiters. * var compiled = _.template('!'); * compiled({ 'user': 'barney' }); * // => 'hello barney!' * * // Use the ES template literal delimiter as an "interpolate" delimiter. * // Disable support by replacing the "interpolate" delimiter. * var compiled = _.template('hello ${ user }!'); * compiled({ 'user': 'pebbles' }); * // => 'hello pebbles!' * * // Use backslashes to treat delimiters as plain text. * var compiled = _.template(''); * compiled({ 'value': 'ignored' }); * // => '' * * // Use the `imports` option to import `jQuery` as `jq`. * var text = ''; * var compiled = _.template(text, { 'imports': { 'jq': jQuery } }); * compiled({ 'users': ['fred', 'barney'] }); * // => 'fredbarney' * * // Use the `sourceURL` option to specify a custom sourceURL for the template. * var compiled = _.template('hello !', { 'sourceURL': '/basic/greeting.jst' }); * compiled(data); * // => Find the source of "greeting.jst" under the Sources tab or Resources panel of the web inspector. * * // Use the `variable` option to ensure a with-statement isn't used in the compiled template. * var compiled = _.template('hi !', { 'variable': 'data' }); * compiled.source; * // => function(data) { * // var __t, __p = ''; * // __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!'; * // return __p; * // } * * // Use custom template delimiters. * _.templateSettings.interpolate = /undefined/g; * var compiled = _.template('hello !'); * compiled({ 'user': 'mustache' }); * // => 'hello mustache!' * * // Use the `source` property to inline compiled templates for meaningful * // line numbers in error messages and stack traces. * fs.writeFileSync(path.join(process.cwd(), 'jst.js'), '\ * var JST = {\ * "main": ' + _.template(mainText).source + '\ * };\ * '); */ function template(string, options, guard) { // Based on John Resig's `tmpl` implementation // (http://ejohn.org/blog/javascript-micro-templating/) // and Laura Doktorova's doT.js (https://github.com/olado/doT). var settings = lodash.templateSettings; if (guard && isIterateeCall(string, options, guard)) { options = undefined; } string = toString(string); options = assignInWith({}, options, settings, customDefaultsAssignIn); var imports = assignInWith({}, options.imports, settings.imports, customDefaultsAssignIn), importsKeys = keys(imports), importsValues = baseValues(imports, importsKeys); var isEscaping, isEvaluating, index = 0, interpolate = options.interpolate || reNoMatch, source = "__p += '"; // Compile the regexp to match each delimiter. var reDelimiters = RegExp( (options.escape || reNoMatch).source + '|' + interpolate.source + '|' + (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' + (options.evaluate || reNoMatch).source + '|$' , 'g'); // Use a sourceURL for easier debugging. var sourceURL = '//# sourceURL=' + ('sourceURL' in options ? options.sourceURL : ('lodash.templateSources[' + (++templateCounter) + ']') ) + '\n'; string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) { interpolateValue || (interpolateValue = esTemplateValue); // Escape characters that can't be included in string literals. source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar); // Replace delimiters with snippets. if (escapeValue) { isEscaping = true; source += "' +\n__e(" + escapeValue + ") +\n'"; } if (evaluateValue) { isEvaluating = true; source += "';\n" + evaluateValue + ";\n__p += '"; } if (interpolateValue) { source += "' +\n((__t = (" + interpolateValue + ")) == null ? '' : __t) +\n'"; } index = offset + match.length; // The JS engine embedded in Adobe products needs `match` returned in // order to produce the correct `offset` value. return match; }); source += "';\n"; // If `variable` is not specified wrap a with-statement around the generated // code to add the data object to the top of the scope chain. var variable = options.variable; if (!variable) { source = 'with (obj) {\n' + source + '\n}\n'; } // Cleanup code by stripping empty strings. source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source) .replace(reEmptyStringMiddle, '$1') .replace(reEmptyStringTrailing, '$1;'); // Frame code as the function body. source = 'function(' + (variable || 'obj') + ') {\n' + (variable ? '' : 'obj || (obj = {});\n' ) + "var __t, __p = ''" + (isEscaping ? ', __e = _.escape' : '' ) + (isEvaluating ? ', __j = Array.prototype.join;\n' + "function print() { __p += __j.call(arguments, '') }\n" : ';\n' ) + source + 'return __p\n}'; var result = attempt(function() { return Function(importsKeys, sourceURL + 'return ' + source) .apply(undefined, importsValues); }); // Provide the compiled function's source by its `toString` method or // the `source` property as a convenience for inlining compiled templates. result.source = source; if (isError(result)) { throw result; } return result; } /** * Converts `string`, as a whole, to lower case just like * [String#toLowerCase](https://mdn.io/toLowerCase). * * @static * @memberOf _ * @since 4.0.0 * @category String * @param {string} [string=''] The string to convert. * @returns {string} Returns the lower cased string. * @example * * _.toLower('--Foo-Bar--'); * // => '--foo-bar--' * * _.toLower('fooBar'); * // => 'foobar' * * _.toLower('__FOO_BAR__'); * // => '__foo_bar__' */ function toLower(value) { return toString(value).toLowerCase(); } /** * Converts `string`, as a whole, to upper case just like * [String#toUpperCase](https://mdn.io/toUpperCase). * * @static * @memberOf _ * @since 4.0.0 * @category String * @param {string} [string=''] The string to convert. * @returns {string} Returns the upper cased string. * @example * * _.toUpper('--foo-bar--'); * // => '--FOO-BAR--' * * _.toUpper('fooBar'); * // => 'FOOBAR' * * _.toUpper('__foo_bar__'); * // => '__FOO_BAR__' */ function toUpper(value) { return toString(value).toUpperCase(); } /** * Removes leading and trailing whitespace or specified characters from `string`. * * @static * @memberOf _ * @since 3.0.0 * @category String * @param {string} [string=''] The string to trim. * @param {string} [chars=whitespace] The characters to trim. * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`. * @returns {string} Returns the trimmed string. * @example * * _.trim(' abc '); * // => 'abc' * * _.trim('-_-abc-_-', '_-'); * // => 'abc' * * _.map([' foo ', ' bar '], _.trim); * // => ['foo', 'bar'] */ function trim(string, chars, guard) { string = toString(string); if (string && (guard || chars === undefined)) { return string.replace(reTrim, ''); } if (!string || !(chars = baseToString(chars))) { return string; } var strSymbols = stringToArray(string), chrSymbols = stringToArray(chars), start = charsStartIndex(strSymbols, chrSymbols), end = charsEndIndex(strSymbols, chrSymbols) + 1; return castSlice(strSymbols, start, end).join(''); } /** * Removes trailing whitespace or specified characters from `string`. * * @static * @memberOf _ * @since 4.0.0 * @category String * @param {string} [string=''] The string to trim. * @param {string} [chars=whitespace] The characters to trim. * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`. * @returns {string} Returns the trimmed string. * @example * * _.trimEnd(' abc '); * // => ' abc' * * _.trimEnd('-_-abc-_-', '_-'); * // => '-_-abc' */ function trimEnd(string, chars, guard) { string = toString(string); if (string && (guard || chars === undefined)) { return string.replace(reTrimEnd, ''); } if (!string || !(chars = baseToString(chars))) { return string; } var strSymbols = stringToArray(string), end = charsEndIndex(strSymbols, stringToArray(chars)) + 1; return castSlice(strSymbols, 0, end).join(''); } /** * Removes leading whitespace or specified characters from `string`. * * @static * @memberOf _ * @since 4.0.0 * @category String * @param {string} [string=''] The string to trim. * @param {string} [chars=whitespace] The characters to trim. * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`. * @returns {string} Returns the trimmed string. * @example * * _.trimStart(' abc '); * // => 'abc ' * * _.trimStart('-_-abc-_-', '_-'); * // => 'abc-_-' */ function trimStart(string, chars, guard) { string = toString(string); if (string && (guard || chars === undefined)) { return string.replace(reTrimStart, ''); } if (!string || !(chars = baseToString(chars))) { return string; } var strSymbols = stringToArray(string), start = charsStartIndex(strSymbols, stringToArray(chars)); return castSlice(strSymbols, start).join(''); } /** * Truncates `string` if it's longer than the given maximum string length. * The last characters of the truncated string are replaced with the omission * string which defaults to "...". * * @static * @memberOf _ * @since 4.0.0 * @category String * @param {string} [string=''] The string to truncate. * @param {Object} [options={}] The options object. * @param {number} [options.length=30] The maximum string length. * @param {string} [options.omission='...'] The string to indicate text is omitted. * @param {RegExp|string} [options.separator] The separator pattern to truncate to. * @returns {string} Returns the truncated string. * @example * * _.truncate('hi-diddly-ho there, neighborino'); * // => 'hi-diddly-ho there, neighbo...' * * _.truncate('hi-diddly-ho there, neighborino', { * 'length': 24, * 'separator': ' ' * }); * // => 'hi-diddly-ho there,...' * * _.truncate('hi-diddly-ho there, neighborino', { * 'length': 24, * 'separator': /,? +/ * }); * // => 'hi-diddly-ho there...' * * _.truncate('hi-diddly-ho there, neighborino', { * 'omission': ' [...]' * }); * // => 'hi-diddly-ho there, neig [...]' */ function truncate(string, options) { var length = DEFAULT_TRUNC_LENGTH, omission = DEFAULT_TRUNC_OMISSION; if (isObject(options)) { var separator = 'separator' in options ? options.separator : separator; length = 'length' in options ? toInteger(options.length) : length; omission = 'omission' in options ? baseToString(options.omission) : omission; } string = toString(string); var strLength = string.length; if (hasUnicode(string)) { var strSymbols = stringToArray(string); strLength = strSymbols.length; } if (length >= strLength) { return string; } var end = length - stringSize(omission); if (end < 1) { return omission; } var result = strSymbols ? castSlice(strSymbols, 0, end).join('') : string.slice(0, end); if (separator === undefined) { return result + omission; } if (strSymbols) { end += (result.length - end); } if (isRegExp(separator)) { if (string.slice(end).search(separator)) { var match, substring = result; if (!separator.global) { separator = RegExp(separator.source, toString(reFlags.exec(separator)) + 'g'); } separator.lastIndex = 0; while ((match = separator.exec(substring))) { var newEnd = match.index; } result = result.slice(0, newEnd === undefined ? end : newEnd); } } else if (string.indexOf(baseToString(separator), end) != end) { var index = result.lastIndexOf(separator); if (index > -1) { result = result.slice(0, index); } } return result + omission; } /** * The inverse of `_.escape`; this method converts the HTML entities * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to * their corresponding characters. * * **Note:** No other HTML entities are unescaped. To unescape additional * HTML entities use a third-party library like [_he_](https://mths.be/he). * * @static * @memberOf _ * @since 0.6.0 * @category String * @param {string} [string=''] The string to unescape. * @returns {string} Returns the unescaped string. * @example * * _.unescape('fred, barney, &amp; pebbles'); * // => 'fred, barney, & pebbles' */ function unescape(string) { string = toString(string); return (string && reHasEscapedHtml.test(string)) ? string.replace(reEscapedHtml, unescapeHtmlChar) : string; } /** * Converts `string`, as space separated words, to upper case. * * @static * @memberOf _ * @since 4.0.0 * @category String * @param {string} [string=''] The string to convert. * @returns {string} Returns the upper cased string. * @example * * _.upperCase('--foo-bar'); * // => 'FOO BAR' * * _.upperCase('fooBar'); * // => 'FOO BAR' * * _.upperCase('__foo_bar__'); * // => 'FOO BAR' */ var upperCase = createCompounder(function(result, word, index) { return result + (index ? ' ' : '') + word.toUpperCase(); }); /** * Converts the first character of `string` to upper case. * * @static * @memberOf _ * @since 4.0.0 * @category String * @param {string} [string=''] The string to convert. * @returns {string} Returns the converted string. * @example * * _.upperFirst('fred'); * // => 'Fred' * * _.upperFirst('FRED'); * // => 'FRED' */ var upperFirst = createCaseFirst('toUpperCase'); /** * Splits `string` into an array of its words. * * @static * @memberOf _ * @since 3.0.0 * @category String * @param {string} [string=''] The string to inspect. * @param {RegExp|string} [pattern] The pattern to match words. * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`. * @returns {Array} Returns the words of `string`. * @example * * _.words('fred, barney, & pebbles'); * // => ['fred', 'barney', 'pebbles'] * * _.words('fred, barney, & pebbles', /[^, ]+/g); * // => ['fred', 'barney', '&', 'pebbles'] */ function words(string, pattern, guard) { string = toString(string); pattern = guard ? undefined : pattern; if (pattern === undefined) { return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string); } return string.match(pattern) || []; } /*------------------------------------------------------------------------*/ /** * Attempts to invoke `func`, returning either the result or the caught error * object. Any additional arguments are provided to `func` when it's invoked. * * @static * @memberOf _ * @since 3.0.0 * @category Util * @param {Function} func The function to attempt. * @param {...*} [args] The arguments to invoke `func` with. * @returns {*} Returns the `func` result or error object. * @example * * // Avoid throwing errors for invalid selectors. * var elements = _.attempt(function(selector) { * return document.querySelectorAll(selector); * }, '>_>'); * * if (_.isError(elements)) { * elements = []; * } */ var attempt = baseRest(function(func, args) { try { return apply(func, undefined, args); } catch (e) { return isError(e) ? e : new Error(e); } }); /** * Binds methods of an object to the object itself, overwriting the existing * method. * * **Note:** This method doesn't set the "length" property of bound functions. * * @static * @since 0.1.0 * @memberOf _ * @category Util * @param {Object} object The object to bind and assign the bound methods to. * @param {...(string|string[])} methodNames The object method names to bind. * @returns {Object} Returns `object`. * @example * * var view = { * 'label': 'docs', * 'click': function() { * console.log('clicked ' + this.label); * } * }; * * _.bindAll(view, ['click']); * jQuery(element).on('click', view.click); * // => Logs 'clicked docs' when clicked. */ var bindAll = flatRest(function(object, methodNames) { arrayEach(methodNames, function(key) { key = toKey(key); baseAssignValue(object, key, bind(object[key], object)); }); return object; }); /** * Creates a function that iterates over `pairs` and invokes the corresponding * function of the first predicate to return truthy. The predicate-function * pairs are invoked with the `this` binding and arguments of the created * function. * * @static * @memberOf _ * @since 4.0.0 * @category Util * @param {Array} pairs The predicate-function pairs. * @returns {Function} Returns the new composite function. * @example * * var func = _.cond([ * [_.matches({ 'a': 1 }), _.constant('matches A')], * [_.conforms({ 'b': _.isNumber }), _.constant('matches B')], * [_.stubTrue, _.constant('no match')] * ]); * * func({ 'a': 1, 'b': 2 }); * // => 'matches A' * * func({ 'a': 0, 'b': 1 }); * // => 'matches B' * * func({ 'a': '1', 'b': '2' }); * // => 'no match' */ function cond(pairs) { var length = pairs == null ? 0 : pairs.length, toIteratee = getIteratee(); pairs = !length ? [] : arrayMap(pairs, function(pair) { if (typeof pair[1] != 'function') { throw new TypeError(FUNC_ERROR_TEXT); } return [toIteratee(pair[0]), pair[1]]; }); return baseRest(function(args) { var index = -1; while (++index < length) { var pair = pairs[index]; if (apply(pair[0], this, args)) { return apply(pair[1], this, args); } } }); } /** * Creates a function that invokes the predicate properties of `source` with * the corresponding property values of a given object, returning `true` if * all predicates return truthy, else `false`. * * **Note:** The created function is equivalent to `_.conformsTo` with * `source` partially applied. * * @static * @memberOf _ * @since 4.0.0 * @category Util * @param {Object} source The object of property predicates to conform to. * @returns {Function} Returns the new spec function. * @example * * var objects = [ * { 'a': 2, 'b': 1 }, * { 'a': 1, 'b': 2 } * ]; * * _.filter(objects, _.conforms({ 'b': function(n) { return n > 1; } })); * // => [{ 'a': 1, 'b': 2 }] */ function conforms(source) { return baseConforms(baseClone(source, CLONE_DEEP_FLAG)); } /** * Creates a function that returns `value`. * * @static * @memberOf _ * @since 2.4.0 * @category Util * @param {*} value The value to return from the new function. * @returns {Function} Returns the new constant function. * @example * * var objects = _.times(2, _.constant({ 'a': 1 })); * * console.log(objects); * // => [{ 'a': 1 }, { 'a': 1 }] * * console.log(objects[0] === objects[1]); * // => true */ function constant(value) { return function() { return value; }; } /** * Checks `value` to determine whether a default value should be returned in * its place. The `defaultValue` is returned if `value` is `NaN`, `null`, * or `undefined`. * * @static * @memberOf _ * @since 4.14.0 * @category Util * @param {*} value The value to check. * @param {*} defaultValue The default value. * @returns {*} Returns the resolved value. * @example * * _.defaultTo(1, 10); * // => 1 * * _.defaultTo(undefined, 10); * // => 10 */ function defaultTo(value, defaultValue) { return (value == null || value !== value) ? defaultValue : value; } /** * Creates a function that returns the result of invoking the given functions * with the `this` binding of the created function, where each successive * invocation is supplied the return value of the previous. * * @static * @memberOf _ * @since 3.0.0 * @category Util * @param {...(Function|Function[])} [funcs] The functions to invoke. * @returns {Function} Returns the new composite function. * @see _.flowRight * @example * * function square(n) { * return n * n; * } * * var addSquare = _.flow([_.add, square]); * addSquare(1, 2); * // => 9 */ var flow = createFlow(); /** * This method is like `_.flow` except that it creates a function that * invokes the given functions from right to left. * * @static * @since 3.0.0 * @memberOf _ * @category Util * @param {...(Function|Function[])} [funcs] The functions to invoke. * @returns {Function} Returns the new composite function. * @see _.flow * @example * * function square(n) { * return n * n; * } * * var addSquare = _.flowRight([square, _.add]); * addSquare(1, 2); * // => 9 */ var flowRight = createFlow(true); /** * This method returns the first argument it receives. * * @static * @since 0.1.0 * @memberOf _ * @category Util * @param {*} value Any value. * @returns {*} Returns `value`. * @example * * var object = { 'a': 1 }; * * console.log(_.identity(object) === object); * // => true */ function identity(value) { return value; } /** * Creates a function that invokes `func` with the arguments of the created * function. If `func` is a property name, the created function returns the * property value for a given element. If `func` is an array or object, the * created function returns `true` for elements that contain the equivalent * source properties, otherwise it returns `false`. * * @static * @since 4.0.0 * @memberOf _ * @category Util * @param {*} [func=_.identity] The value to convert to a callback. * @returns {Function} Returns the callback. * @example * * var users = [ * { 'user': 'barney', 'age': 36, 'active': true }, * { 'user': 'fred', 'age': 40, 'active': false } * ]; * * // The `_.matches` iteratee shorthand. * _.filter(users, _.iteratee({ 'user': 'barney', 'active': true })); * // => [{ 'user': 'barney', 'age': 36, 'active': true }] * * // The `_.matchesProperty` iteratee shorthand. * _.filter(users, _.iteratee(['user', 'fred'])); * // => [{ 'user': 'fred', 'age': 40 }] * * // The `_.property` iteratee shorthand. * _.map(users, _.iteratee('user')); * // => ['barney', 'fred'] * * // Create custom iteratee shorthands. * _.iteratee = _.wrap(_.iteratee, function(iteratee, func) { * return !_.isRegExp(func) ? iteratee(func) : function(string) { * return func.test(string); * }; * }); * * _.filter(['abc', 'def'], /ef/); * // => ['def'] */ function iteratee(func) { return baseIteratee(typeof func == 'function' ? func : baseClone(func, CLONE_DEEP_FLAG)); } /** * Creates a function that performs a partial deep comparison between a given * object and `source`, returning `true` if the given object has equivalent * property values, else `false`. * * **Note:** The created function is equivalent to `_.isMatch` with `source` * partially applied. * * Partial comparisons will match empty array and empty object `source` * values against any array or object value, respectively. See `_.isEqual` * for a list of supported value comparisons. * * @static * @memberOf _ * @since 3.0.0 * @category Util * @param {Object} source The object of property values to match. * @returns {Function} Returns the new spec function. * @example * * var objects = [ * { 'a': 1, 'b': 2, 'c': 3 }, * { 'a': 4, 'b': 5, 'c': 6 } * ]; * * _.filter(objects, _.matches({ 'a': 4, 'c': 6 })); * // => [{ 'a': 4, 'b': 5, 'c': 6 }] */ function matches(source) { return baseMatches(baseClone(source, CLONE_DEEP_FLAG)); } /** * Creates a function that performs a partial deep comparison between the * value at `path` of a given object to `srcValue`, returning `true` if the * object value is equivalent, else `false`. * * **Note:** Partial comparisons will match empty array and empty object * `srcValue` values against any array or object value, respectively. See * `_.isEqual` for a list of supported value comparisons. * * @static * @memberOf _ * @since 3.2.0 * @category Util * @param {Array|string} path The path of the property to get. * @param {*} srcValue The value to match. * @returns {Function} Returns the new spec function. * @example * * var objects = [ * { 'a': 1, 'b': 2, 'c': 3 }, * { 'a': 4, 'b': 5, 'c': 6 } * ]; * * _.find(objects, _.matchesProperty('a', 4)); * // => { 'a': 4, 'b': 5, 'c': 6 } */ function matchesProperty(path, srcValue) { return baseMatchesProperty(path, baseClone(srcValue, CLONE_DEEP_FLAG)); } /** * Creates a function that invokes the method at `path` of a given object. * Any additional arguments are provided to the invoked method. * * @static * @memberOf _ * @since 3.7.0 * @category Util * @param {Array|string} path The path of the method to invoke. * @param {...*} [args] The arguments to invoke the method with. * @returns {Function} Returns the new invoker function. * @example * * var objects = [ * { 'a': { 'b': _.constant(2) } }, * { 'a': { 'b': _.constant(1) } } * ]; * * _.map(objects, _.method('a.b')); * // => [2, 1] * * _.map(objects, _.method(['a', 'b'])); * // => [2, 1] */ var method = baseRest(function(path, args) { return function(object) { return baseInvoke(object, path, args); }; }); /** * The opposite of `_.method`; this method creates a function that invokes * the method at a given path of `object`. Any additional arguments are * provided to the invoked method. * * @static * @memberOf _ * @since 3.7.0 * @category Util * @param {Object} object The object to query. * @param {...*} [args] The arguments to invoke the method with. * @returns {Function} Returns the new invoker function. * @example * * var array = _.times(3, _.constant), * object = { 'a': array, 'b': array, 'c': array }; * * _.map(['a[2]', 'c[0]'], _.methodOf(object)); * // => [2, 0] * * _.map([['a', '2'], ['c', '0']], _.methodOf(object)); * // => [2, 0] */ var methodOf = baseRest(function(object, args) { return function(path) { return baseInvoke(object, path, args); }; }); /** * Adds all own enumerable string keyed function properties of a source * object to the destination object. If `object` is a function, then methods * are added to its prototype as well. * * **Note:** Use `_.runInContext` to create a pristine `lodash` function to * avoid conflicts caused by modifying the original. * * @static * @since 0.1.0 * @memberOf _ * @category Util * @param {Function|Object} [object=lodash] The destination object. * @param {Object} source The object of functions to add. * @param {Object} [options={}] The options object. * @param {boolean} [options.chain=true] Specify whether mixins are chainable. * @returns {Function|Object} Returns `object`. * @example * * function vowels(string) { * return _.filter(string, function(v) { * return /[aeiou]/i.test(v); * }); * } * * _.mixin({ 'vowels': vowels }); * _.vowels('fred'); * // => ['e'] * * _('fred').vowels().value(); * // => ['e'] * * _.mixin({ 'vowels': vowels }, { 'chain': false }); * _('fred').vowels(); * // => ['e'] */ function mixin(object, source, options) { var props = keys(source), methodNames = baseFunctions(source, props); if (options == null && !(isObject(source) && (methodNames.length || !props.length))) { options = source; source = object; object = this; methodNames = baseFunctions(source, keys(source)); } var chain = !(isObject(options) && 'chain' in options) || !!options.chain, isFunc = isFunction(object); arrayEach(methodNames, function(methodName) { var func = source[methodName]; object[methodName] = func; if (isFunc) { object.prototype[methodName] = function() { var chainAll = this.__chain__; if (chain || chainAll) { var result = object(this.__wrapped__), actions = result.__actions__ = copyArray(this.__actions__); actions.push({ 'func': func, 'args': arguments, 'thisArg': object }); result.__chain__ = chainAll; return result; } return func.apply(object, arrayPush([this.value()], arguments)); }; } }); return object; } /** * Reverts the `_` variable to its previous value and returns a reference to * the `lodash` function. * * @static * @since 0.1.0 * @memberOf _ * @category Util * @returns {Function} Returns the `lodash` function. * @example * * var lodash = _.noConflict(); */ function noConflict() { if (root._ === this) { root._ = oldDash; } return this; } /** * This method returns `undefined`. * * @static * @memberOf _ * @since 2.3.0 * @category Util * @example * * _.times(2, _.noop); * // => [undefined, undefined] */ function noop() { // No operation performed. } /** * Creates a function that gets the argument at index `n`. If `n` is negative, * the nth argument from the end is returned. * * @static * @memberOf _ * @since 4.0.0 * @category Util * @param {number} [n=0] The index of the argument to return. * @returns {Function} Returns the new pass-thru function. * @example * * var func = _.nthArg(1); * func('a', 'b', 'c', 'd'); * // => 'b' * * var func = _.nthArg(-2); * func('a', 'b', 'c', 'd'); * // => 'c' */ function nthArg(n) { n = toInteger(n); return baseRest(function(args) { return baseNth(args, n); }); } /** * Creates a function that invokes `iteratees` with the arguments it receives * and returns their results. * * @static * @memberOf _ * @since 4.0.0 * @category Util * @param {...(Function|Function[])} [iteratees=[_.identity]] * The iteratees to invoke. * @returns {Function} Returns the new function. * @example * * var func = _.over([Math.max, Math.min]); * * func(1, 2, 3, 4); * // => [4, 1] */ var over = createOver(arrayMap); /** * Creates a function that checks if **all** of the `predicates` return * truthy when invoked with the arguments it receives. * * @static * @memberOf _ * @since 4.0.0 * @category Util * @param {...(Function|Function[])} [predicates=[_.identity]] * The predicates to check. * @returns {Function} Returns the new function. * @example * * var func = _.overEvery([Boolean, isFinite]); * * func('1'); * // => true * * func(null); * // => false * * func(NaN); * // => false */ var overEvery = createOver(arrayEvery); /** * Creates a function that checks if **any** of the `predicates` return * truthy when invoked with the arguments it receives. * * @static * @memberOf _ * @since 4.0.0 * @category Util * @param {...(Function|Function[])} [predicates=[_.identity]] * The predicates to check. * @returns {Function} Returns the new function. * @example * * var func = _.overSome([Boolean, isFinite]); * * func('1'); * // => true * * func(null); * // => true * * func(NaN); * // => false */ var overSome = createOver(arraySome); /** * Creates a function that returns the value at `path` of a given object. * * @static * @memberOf _ * @since 2.4.0 * @category Util * @param {Array|string} path The path of the property to get. * @returns {Function} Returns the new accessor function. * @example * * var objects = [ * { 'a': { 'b': 2 } }, * { 'a': { 'b': 1 } } * ]; * * _.map(objects, _.property('a.b')); * // => [2, 1] * * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b'); * // => [1, 2] */ function property(path) { return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path); } /** * The opposite of `_.property`; this method creates a function that returns * the value at a given path of `object`. * * @static * @memberOf _ * @since 3.0.0 * @category Util * @param {Object} object The object to query. * @returns {Function} Returns the new accessor function. * @example * * var array = [0, 1, 2], * object = { 'a': array, 'b': array, 'c': array }; * * _.map(['a[2]', 'c[0]'], _.propertyOf(object)); * // => [2, 0] * * _.map([['a', '2'], ['c', '0']], _.propertyOf(object)); * // => [2, 0] */ function propertyOf(object) { return function(path) { return object == null ? undefined : baseGet(object, path); }; } /** * Creates an array of numbers (positive and/or negative) progressing from * `start` up to, but not including, `end`. A step of `-1` is used if a negative * `start` is specified without an `end` or `step`. If `end` is not specified, * it's set to `start` with `start` then set to `0`. * * **Note:** JavaScript follows the IEEE-754 standard for resolving * floating-point values which can produce unexpected results. * * @static * @since 0.1.0 * @memberOf _ * @category Util * @param {number} [start=0] The start of the range. * @param {number} end The end of the range. * @param {number} [step=1] The value to increment or decrement by. * @returns {Array} Returns the range of numbers. * @see _.inRange, _.rangeRight * @example * * _.range(4); * // => [0, 1, 2, 3] * * _.range(-4); * // => [0, -1, -2, -3] * * _.range(1, 5); * // => [1, 2, 3, 4] * * _.range(0, 20, 5); * // => [0, 5, 10, 15] * * _.range(0, -4, -1); * // => [0, -1, -2, -3] * * _.range(1, 4, 0); * // => [1, 1, 1] * * _.range(0); * // => [] */ var range = createRange(); /** * This method is like `_.range` except that it populates values in * descending order. * * @static * @memberOf _ * @since 4.0.0 * @category Util * @param {number} [start=0] The start of the range. * @param {number} end The end of the range. * @param {number} [step=1] The value to increment or decrement by. * @returns {Array} Returns the range of numbers. * @see _.inRange, _.range * @example * * _.rangeRight(4); * // => [3, 2, 1, 0] * * _.rangeRight(-4); * // => [-3, -2, -1, 0] * * _.rangeRight(1, 5); * // => [4, 3, 2, 1] * * _.rangeRight(0, 20, 5); * // => [15, 10, 5, 0] * * _.rangeRight(0, -4, -1); * // => [-3, -2, -1, 0] * * _.rangeRight(1, 4, 0); * // => [1, 1, 1] * * _.rangeRight(0); * // => [] */ var rangeRight = createRange(true); /** * This method returns a new empty array. * * @static * @memberOf _ * @since 4.13.0 * @category Util * @returns {Array} Returns the new empty array. * @example * * var arrays = _.times(2, _.stubArray); * * console.log(arrays); * // => [[], []] * * console.log(arrays[0] === arrays[1]); * // => false */ function stubArray() { return []; } /** * This method returns `false`. * * @static * @memberOf _ * @since 4.13.0 * @category Util * @returns {boolean} Returns `false`. * @example * * _.times(2, _.stubFalse); * // => [false, false] */ function stubFalse() { return false; } /** * This method returns a new empty object. * * @static * @memberOf _ * @since 4.13.0 * @category Util * @returns {Object} Returns the new empty object. * @example * * var objects = _.times(2, _.stubObject); * * console.log(objects); * // => [{}, {}] * * console.log(objects[0] === objects[1]); * // => false */ function stubObject() { return {}; } /** * This method returns an empty string. * * @static * @memberOf _ * @since 4.13.0 * @category Util * @returns {string} Returns the empty string. * @example * * _.times(2, _.stubString); * // => ['', ''] */ function stubString() { return ''; } /** * This method returns `true`. * * @static * @memberOf _ * @since 4.13.0 * @category Util * @returns {boolean} Returns `true`. * @example * * _.times(2, _.stubTrue); * // => [true, true] */ function stubTrue() { return true; } /** * Invokes the iteratee `n` times, returning an array of the results of * each invocation. The iteratee is invoked with one argument; (index). * * @static * @since 0.1.0 * @memberOf _ * @category Util * @param {number} n The number of times to invoke `iteratee`. * @param {Function} [iteratee=_.identity] The function invoked per iteration. * @returns {Array} Returns the array of results. * @example * * _.times(3, String); * // => ['0', '1', '2'] * * _.times(4, _.constant(0)); * // => [0, 0, 0, 0] */ function times(n, iteratee) { n = toInteger(n); if (n < 1 || n > MAX_SAFE_INTEGER) { return []; } var index = MAX_ARRAY_LENGTH, length = nativeMin(n, MAX_ARRAY_LENGTH); iteratee = getIteratee(iteratee); n -= MAX_ARRAY_LENGTH; var result = baseTimes(length, iteratee); while (++index < n) { iteratee(index); } return result; } /** * Converts `value` to a property path array. * * @static * @memberOf _ * @since 4.0.0 * @category Util * @param {*} value The value to convert. * @returns {Array} Returns the new property path array. * @example * * _.toPath('a.b.c'); * // => ['a', 'b', 'c'] * * _.toPath('a[0].b.c'); * // => ['a', '0', 'b', 'c'] */ function toPath(value) { if (isArray(value)) { return arrayMap(value, toKey); } return isSymbol(value) ? [value] : copyArray(stringToPath(toString(value))); } /** * Generates a unique ID. If `prefix` is given, the ID is appended to it. * * @static * @since 0.1.0 * @memberOf _ * @category Util * @param {string} [prefix=''] The value to prefix the ID with. * @returns {string} Returns the unique ID. * @example * * _.uniqueId('contact_'); * // => 'contact_104' * * _.uniqueId(); * // => '105' */ function uniqueId(prefix) { var id = ++idCounter; return toString(prefix) + id; } /*------------------------------------------------------------------------*/ /** * Adds two numbers. * * @static * @memberOf _ * @since 3.4.0 * @category Math * @param {number} augend The first number in an addition. * @param {number} addend The second number in an addition. * @returns {number} Returns the total. * @example * * _.add(6, 4); * // => 10 */ var add = createMathOperation(function(augend, addend) { return augend + addend; }, 0); /** * Computes `number` rounded up to `precision`. * * @static * @memberOf _ * @since 3.10.0 * @category Math * @param {number} number The number to round up. * @param {number} [precision=0] The precision to round up to. * @returns {number} Returns the rounded up number. * @example * * _.ceil(4.006); * // => 5 * * _.ceil(6.004, 2); * // => 6.01 * * _.ceil(6040, -2); * // => 6100 */ var ceil = createRound('ceil'); /** * Divide two numbers. * * @static * @memberOf _ * @since 4.7.0 * @category Math * @param {number} dividend The first number in a division. * @param {number} divisor The second number in a division. * @returns {number} Returns the quotient. * @example * * _.divide(6, 4); * // => 1.5 */ var divide = createMathOperation(function(dividend, divisor) { return dividend / divisor; }, 1); /** * Computes `number` rounded down to `precision`. * * @static * @memberOf _ * @since 3.10.0 * @category Math * @param {number} number The number to round down. * @param {number} [precision=0] The precision to round down to. * @returns {number} Returns the rounded down number. * @example * * _.floor(4.006); * // => 4 * * _.floor(0.046, 2); * // => 0.04 * * _.floor(4060, -2); * // => 4000 */ var floor = createRound('floor'); /** * Computes the maximum value of `array`. If `array` is empty or falsey, * `undefined` is returned. * * @static * @since 0.1.0 * @memberOf _ * @category Math * @param {Array} array The array to iterate over. * @returns {*} Returns the maximum value. * @example * * _.max([4, 2, 8, 6]); * // => 8 * * _.max([]); * // => undefined */ function max(array) { return (array && array.length) ? baseExtremum(array, identity, baseGt) : undefined; } /** * This method is like `_.max` except that it accepts `iteratee` which is * invoked for each element in `array` to generate the criterion by which * the value is ranked. The iteratee is invoked with one argument: (value). * * @static * @memberOf _ * @since 4.0.0 * @category Math * @param {Array} array The array to iterate over. * @param {Function} [iteratee=_.identity] The iteratee invoked per element. * @returns {*} Returns the maximum value. * @example * * var objects = [{ 'n': 1 }, { 'n': 2 }]; * * _.maxBy(objects, function(o) { return o.n; }); * // => { 'n': 2 } * * // The `_.property` iteratee shorthand. * _.maxBy(objects, 'n'); * // => { 'n': 2 } */ function maxBy(array, iteratee) { return (array && array.length) ? baseExtremum(array, getIteratee(iteratee, 2), baseGt) : undefined; } /** * Computes the mean of the values in `array`. * * @static * @memberOf _ * @since 4.0.0 * @category Math * @param {Array} array The array to iterate over. * @returns {number} Returns the mean. * @example * * _.mean([4, 2, 8, 6]); * // => 5 */ function mean(array) { return baseMean(array, identity); } /** * This method is like `_.mean` except that it accepts `iteratee` which is * invoked for each element in `array` to generate the value to be averaged. * The iteratee is invoked with one argument: (value). * * @static * @memberOf _ * @since 4.7.0 * @category Math * @param {Array} array The array to iterate over. * @param {Function} [iteratee=_.identity] The iteratee invoked per element. * @returns {number} Returns the mean. * @example * * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }]; * * _.meanBy(objects, function(o) { return o.n; }); * // => 5 * * // The `_.property` iteratee shorthand. * _.meanBy(objects, 'n'); * // => 5 */ function meanBy(array, iteratee) { return baseMean(array, getIteratee(iteratee, 2)); } /** * Computes the minimum value of `array`. If `array` is empty or falsey, * `undefined` is returned. * * @static * @since 0.1.0 * @memberOf _ * @category Math * @param {Array} array The array to iterate over. * @returns {*} Returns the minimum value. * @example * * _.min([4, 2, 8, 6]); * // => 2 * * _.min([]); * // => undefined */ function min(array) { return (array && array.length) ? baseExtremum(array, identity, baseLt) : undefined; } /** * This method is like `_.min` except that it accepts `iteratee` which is * invoked for each element in `array` to generate the criterion by which * the value is ranked. The iteratee is invoked with one argument: (value). * * @static * @memberOf _ * @since 4.0.0 * @category Math * @param {Array} array The array to iterate over. * @param {Function} [iteratee=_.identity] The iteratee invoked per element. * @returns {*} Returns the minimum value. * @example * * var objects = [{ 'n': 1 }, { 'n': 2 }]; * * _.minBy(objects, function(o) { return o.n; }); * // => { 'n': 1 } * * // The `_.property` iteratee shorthand. * _.minBy(objects, 'n'); * // => { 'n': 1 } */ function minBy(array, iteratee) { return (array && array.length) ? baseExtremum(array, getIteratee(iteratee, 2), baseLt) : undefined; } /** * Multiply two numbers. * * @static * @memberOf _ * @since 4.7.0 * @category Math * @param {number} multiplier The first number in a multiplication. * @param {number} multiplicand The second number in a multiplication. * @returns {number} Returns the product. * @example * * _.multiply(6, 4); * // => 24 */ var multiply = createMathOperation(function(multiplier, multiplicand) { return multiplier * multiplicand; }, 1); /** * Computes `number` rounded to `precision`. * * @static * @memberOf _ * @since 3.10.0 * @category Math * @param {number} number The number to round. * @param {number} [precision=0] The precision to round to. * @returns {number} Returns the rounded number. * @example * * _.round(4.006); * // => 4 * * _.round(4.006, 2); * // => 4.01 * * _.round(4060, -2); * // => 4100 */ var round = createRound('round'); /** * Subtract two numbers. * * @static * @memberOf _ * @since 4.0.0 * @category Math * @param {number} minuend The first number in a subtraction. * @param {number} subtrahend The second number in a subtraction. * @returns {number} Returns the difference. * @example * * _.subtract(6, 4); * // => 2 */ var subtract = createMathOperation(function(minuend, subtrahend) { return minuend - subtrahend; }, 0); /** * Computes the sum of the values in `array`. * * @static * @memberOf _ * @since 3.4.0 * @category Math * @param {Array} array The array to iterate over. * @returns {number} Returns the sum. * @example * * _.sum([4, 2, 8, 6]); * // => 20 */ function sum(array) { return (array && array.length) ? baseSum(array, identity) : 0; } /** * This method is like `_.sum` except that it accepts `iteratee` which is * invoked for each element in `array` to generate the value to be summed. * The iteratee is invoked with one argument: (value). * * @static * @memberOf _ * @since 4.0.0 * @category Math * @param {Array} array The array to iterate over. * @param {Function} [iteratee=_.identity] The iteratee invoked per element. * @returns {number} Returns the sum. * @example * * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }]; * * _.sumBy(objects, function(o) { return o.n; }); * // => 20 * * // The `_.property` iteratee shorthand. * _.sumBy(objects, 'n'); * // => 20 */ function sumBy(array, iteratee) { return (array && array.length) ? baseSum(array, getIteratee(iteratee, 2)) : 0; } /*------------------------------------------------------------------------*/ // Add methods that return wrapped values in chain sequences. lodash.after = after; lodash.ary = ary; lodash.assign = assign; lodash.assignIn = assignIn; lodash.assignInWith = assignInWith; lodash.assignWith = assignWith; lodash.at = at; lodash.before = before; lodash.bind = bind; lodash.bindAll = bindAll; lodash.bindKey = bindKey; lodash.castArray = castArray; lodash.chain = chain; lodash.chunk = chunk; lodash.compact = compact; lodash.concat = concat; lodash.cond = cond; lodash.conforms = conforms; lodash.constant = constant; lodash.countBy = countBy; lodash.create = create; lodash.curry = curry; lodash.curryRight = curryRight; lodash.debounce = debounce; lodash.defaults = defaults; lodash.defaultsDeep = defaultsDeep; lodash.defer = defer; lodash.delay = delay; lodash.difference = difference; lodash.differenceBy = differenceBy; lodash.differenceWith = differenceWith; lodash.drop = drop; lodash.dropRight = dropRight; lodash.dropRightWhile = dropRightWhile; lodash.dropWhile = dropWhile; lodash.fill = fill; lodash.filter = filter; lodash.flatMap = flatMap; lodash.flatMapDeep = flatMapDeep; lodash.flatMapDepth = flatMapDepth; lodash.flatten = flatten; lodash.flattenDeep = flattenDeep; lodash.flattenDepth = flattenDepth; lodash.flip = flip; lodash.flow = flow; lodash.flowRight = flowRight; lodash.fromPairs = fromPairs; lodash.functions = functions; lodash.functionsIn = functionsIn; lodash.groupBy = groupBy; lodash.initial = initial; lodash.intersection = intersection; lodash.intersectionBy = intersectionBy; lodash.intersectionWith = intersectionWith; lodash.invert = invert; lodash.invertBy = invertBy; lodash.invokeMap = invokeMap; lodash.iteratee = iteratee; lodash.keyBy = keyBy; lodash.keys = keys; lodash.keysIn = keysIn; lodash.map = map; lodash.mapKeys = mapKeys; lodash.mapValues = mapValues; lodash.matches = matches; lodash.matchesProperty = matchesProperty; lodash.memoize = memoize; lodash.merge = merge; lodash.mergeWith = mergeWith; lodash.method = method; lodash.methodOf = methodOf; lodash.mixin = mixin; lodash.negate = negate; lodash.nthArg = nthArg; lodash.omit = omit; lodash.omitBy = omitBy; lodash.once = once; lodash.orderBy = orderBy; lodash.over = over; lodash.overArgs = overArgs; lodash.overEvery = overEvery; lodash.overSome = overSome; lodash.partial = partial; lodash.partialRight = partialRight; lodash.partition = partition; lodash.pick = pick; lodash.pickBy = pickBy; lodash.property = property; lodash.propertyOf = propertyOf; lodash.pull = pull; lodash.pullAll = pullAll; lodash.pullAllBy = pullAllBy; lodash.pullAllWith = pullAllWith; lodash.pullAt = pullAt; lodash.range = range; lodash.rangeRight = rangeRight; lodash.rearg = rearg; lodash.reject = reject; lodash.remove = remove; lodash.rest = rest; lodash.reverse = reverse; lodash.sampleSize = sampleSize; lodash.set = set; lodash.setWith = setWith; lodash.shuffle = shuffle; lodash.slice = slice; lodash.sortBy = sortBy; lodash.sortedUniq = sortedUniq; lodash.sortedUniqBy = sortedUniqBy; lodash.split = split; lodash.spread = spread; lodash.tail = tail; lodash.take = take; lodash.takeRight = takeRight; lodash.takeRightWhile = takeRightWhile; lodash.takeWhile = takeWhile; lodash.tap = tap; lodash.throttle = throttle; lodash.thru = thru; lodash.toArray = toArray; lodash.toPairs = toPairs; lodash.toPairsIn = toPairsIn; lodash.toPath = toPath; lodash.toPlainObject = toPlainObject; lodash.transform = transform; lodash.unary = unary; lodash.union = union; lodash.unionBy = unionBy; lodash.unionWith = unionWith; lodash.uniq = uniq; lodash.uniqBy = uniqBy; lodash.uniqWith = uniqWith; lodash.unset = unset; lodash.unzip = unzip; lodash.unzipWith = unzipWith; lodash.update = update; lodash.updateWith = updateWith; lodash.values = values; lodash.valuesIn = valuesIn; lodash.without = without; lodash.words = words; lodash.wrap = wrap; lodash.xor = xor; lodash.xorBy = xorBy; lodash.xorWith = xorWith; lodash.zip = zip; lodash.zipObject = zipObject; lodash.zipObjectDeep = zipObjectDeep; lodash.zipWith = zipWith; // Add aliases. lodash.entries = toPairs; lodash.entriesIn = toPairsIn; lodash.extend = assignIn; lodash.extendWith = assignInWith; // Add methods to `lodash.prototype`. mixin(lodash, lodash); /*------------------------------------------------------------------------*/ // Add methods that return unwrapped values in chain sequences. lodash.add = add; lodash.attempt = attempt; lodash.camelCase = camelCase; lodash.capitalize = capitalize; lodash.ceil = ceil; lodash.clamp = clamp; lodash.clone = clone; lodash.cloneDeep = cloneDeep; lodash.cloneDeepWith = cloneDeepWith; lodash.cloneWith = cloneWith; lodash.conformsTo = conformsTo; lodash.deburr = deburr; lodash.defaultTo = defaultTo; lodash.divide = divide; lodash.endsWith = endsWith; lodash.eq = eq; lodash.escape = escape; lodash.escapeRegExp = escapeRegExp; lodash.every = every; lodash.find = find; lodash.findIndex = findIndex; lodash.findKey = findKey; lodash.findLast = findLast; lodash.findLastIndex = findLastIndex; lodash.findLastKey = findLastKey; lodash.floor = floor; lodash.forEach = forEach; lodash.forEachRight = forEachRight; lodash.forIn = forIn; lodash.forInRight = forInRight; lodash.forOwn = forOwn; lodash.forOwnRight = forOwnRight; lodash.get = get; lodash.gt = gt; lodash.gte = gte; lodash.has = has; lodash.hasIn = hasIn; lodash.head = head; lodash.identity = identity; lodash.includes = includes; lodash.indexOf = indexOf; lodash.inRange = inRange; lodash.invoke = invoke; lodash.isArguments = isArguments; lodash.isArray = isArray; lodash.isArrayBuffer = isArrayBuffer; lodash.isArrayLike = isArrayLike; lodash.isArrayLikeObject = isArrayLikeObject; lodash.isBoolean = isBoolean; lodash.isBuffer = isBuffer; lodash.isDate = isDate; lodash.isElement = isElement; lodash.isEmpty = isEmpty; lodash.isEqual = isEqual; lodash.isEqualWith = isEqualWith; lodash.isError = isError; lodash.isFinite = isFinite; lodash.isFunction = isFunction; lodash.isInteger = isInteger; lodash.isLength = isLength; lodash.isMap = isMap; lodash.isMatch = isMatch; lodash.isMatchWith = isMatchWith; lodash.isNaN = isNaN; lodash.isNative = isNative; lodash.isNil = isNil; lodash.isNull = isNull; lodash.isNumber = isNumber; lodash.isObject = isObject; lodash.isObjectLike = isObjectLike; lodash.isPlainObject = isPlainObject; lodash.isRegExp = isRegExp; lodash.isSafeInteger = isSafeInteger; lodash.isSet = isSet; lodash.isString = isString; lodash.isSymbol = isSymbol; lodash.isTypedArray = isTypedArray; lodash.isUndefined = isUndefined; lodash.isWeakMap = isWeakMap; lodash.isWeakSet = isWeakSet; lodash.join = join; lodash.kebabCase = kebabCase; lodash.last = last; lodash.lastIndexOf = lastIndexOf; lodash.lowerCase = lowerCase; lodash.lowerFirst = lowerFirst; lodash.lt = lt; lodash.lte = lte; lodash.max = max; lodash.maxBy = maxBy; lodash.mean = mean; lodash.meanBy = meanBy; lodash.min = min; lodash.minBy = minBy; lodash.stubArray = stubArray; lodash.stubFalse = stubFalse; lodash.stubObject = stubObject; lodash.stubString = stubString; lodash.stubTrue = stubTrue; lodash.multiply = multiply; lodash.nth = nth; lodash.noConflict = noConflict; lodash.noop = noop; lodash.now = now; lodash.pad = pad; lodash.padEnd = padEnd; lodash.padStart = padStart; lodash.parseInt = parseInt; lodash.random = random; lodash.reduce = reduce; lodash.reduceRight = reduceRight; lodash.repeat = repeat; lodash.replace = replace; lodash.result = result; lodash.round = round; lodash.runInContext = runInContext; lodash.sample = sample; lodash.size = size; lodash.snakeCase = snakeCase; lodash.some = some; lodash.sortedIndex = sortedIndex; lodash.sortedIndexBy = sortedIndexBy; lodash.sortedIndexOf = sortedIndexOf; lodash.sortedLastIndex = sortedLastIndex; lodash.sortedLastIndexBy = sortedLastIndexBy; lodash.sortedLastIndexOf = sortedLastIndexOf; lodash.startCase = startCase; lodash.startsWith = startsWith; lodash.subtract = subtract; lodash.sum = sum; lodash.sumBy = sumBy; lodash.template = template; lodash.times = times; lodash.toFinite = toFinite; lodash.toInteger = toInteger; lodash.toLength = toLength; lodash.toLower = toLower; lodash.toNumber = toNumber; lodash.toSafeInteger = toSafeInteger; lodash.toString = toString; lodash.toUpper = toUpper; lodash.trim = trim; lodash.trimEnd = trimEnd; lodash.trimStart = trimStart; lodash.truncate = truncate; lodash.unescape = unescape; lodash.uniqueId = uniqueId; lodash.upperCase = upperCase; lodash.upperFirst = upperFirst; // Add aliases. lodash.each = forEach; lodash.eachRight = forEachRight; lodash.first = head; mixin(lodash, (function() { var source = {}; baseForOwn(lodash, function(func, methodName) { if (!hasOwnProperty.call(lodash.prototype, methodName)) { source[methodName] = func; } }); return source; }()), { 'chain': false }); /*------------------------------------------------------------------------*/ /** * The semantic version number. * * @static * @memberOf _ * @type {string} */ lodash.VERSION = VERSION; // Assign default placeholders. arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) { lodash[methodName].placeholder = lodash; }); // Add `LazyWrapper` methods for `_.drop` and `_.take` variants. arrayEach(['drop', 'take'], function(methodName, index) { LazyWrapper.prototype[methodName] = function(n) { n = n === undefined ? 1 : nativeMax(toInteger(n), 0); var result = (this.__filtered__ && !index) ? new LazyWrapper(this) : this.clone(); if (result.__filtered__) { result.__takeCount__ = nativeMin(n, result.__takeCount__); } else { result.__views__.push({ 'size': nativeMin(n, MAX_ARRAY_LENGTH), 'type': methodName + (result.__dir__ < 0 ? 'Right' : '') }); } return result; }; LazyWrapper.prototype[methodName + 'Right'] = function(n) { return this.reverse()[methodName](n).reverse(); }; }); // Add `LazyWrapper` methods that accept an `iteratee` value. arrayEach(['filter', 'map', 'takeWhile'], function(methodName, index) { var type = index + 1, isFilter = type == LAZY_FILTER_FLAG || type == LAZY_WHILE_FLAG; LazyWrapper.prototype[methodName] = function(iteratee) { var result = this.clone(); result.__iteratees__.push({ 'iteratee': getIteratee(iteratee, 3), 'type': type }); result.__filtered__ = result.__filtered__ || isFilter; return result; }; }); // Add `LazyWrapper` methods for `_.head` and `_.last`. arrayEach(['head', 'last'], function(methodName, index) { var takeName = 'take' + (index ? 'Right' : ''); LazyWrapper.prototype[methodName] = function() { return this[takeName](1).value()[0]; }; }); // Add `LazyWrapper` methods for `_.initial` and `_.tail`. arrayEach(['initial', 'tail'], function(methodName, index) { var dropName = 'drop' + (index ? '' : 'Right'); LazyWrapper.prototype[methodName] = function() { return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1); }; }); LazyWrapper.prototype.compact = function() { return this.filter(identity); }; LazyWrapper.prototype.find = function(predicate) { return this.filter(predicate).head(); }; LazyWrapper.prototype.findLast = function(predicate) { return this.reverse().find(predicate); }; LazyWrapper.prototype.invokeMap = baseRest(function(path, args) { if (typeof path == 'function') { return new LazyWrapper(this); } return this.map(function(value) { return baseInvoke(value, path, args); }); }); LazyWrapper.prototype.reject = function(predicate) { return this.filter(negate(getIteratee(predicate))); }; LazyWrapper.prototype.slice = function(start, end) { start = toInteger(start); var result = this; if (result.__filtered__ && (start > 0 || end < 0)) { return new LazyWrapper(result); } if (start < 0) { result = result.takeRight(-start); } else if (start) { result = result.drop(start); } if (end !== undefined) { end = toInteger(end); result = end < 0 ? result.dropRight(-end) : result.take(end - start); } return result; }; LazyWrapper.prototype.takeRightWhile = function(predicate) { return this.reverse().takeWhile(predicate).reverse(); }; LazyWrapper.prototype.toArray = function() { return this.take(MAX_ARRAY_LENGTH); }; // Add `LazyWrapper` methods to `lodash.prototype`. baseForOwn(LazyWrapper.prototype, function(func, methodName) { var checkIteratee = /^(?:filter|find|map|reject)|While$/.test(methodName), isTaker = /^(?:head|last)$/.test(methodName), lodashFunc = lodash[isTaker ? ('take' + (methodName == 'last' ? 'Right' : '')) : methodName], retUnwrapped = isTaker || /^find/.test(methodName); if (!lodashFunc) { return; } lodash.prototype[methodName] = function() { var value = this.__wrapped__, args = isTaker ? [1] : arguments, isLazy = value instanceof LazyWrapper, iteratee = args[0], useLazy = isLazy || isArray(value); var interceptor = function(value) { var result = lodashFunc.apply(lodash, arrayPush([value], args)); return (isTaker && chainAll) ? result[0] : result; }; if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) { // Avoid lazy use if the iteratee has a "length" value other than `1`. isLazy = useLazy = false; } var chainAll = this.__chain__, isHybrid = !!this.__actions__.length, isUnwrapped = retUnwrapped && !chainAll, onlyLazy = isLazy && !isHybrid; if (!retUnwrapped && useLazy) { value = onlyLazy ? value : new LazyWrapper(this); var result = func.apply(value, args); result.__actions__.push({ 'func': thru, 'args': [interceptor], 'thisArg': undefined }); return new LodashWrapper(result, chainAll); } if (isUnwrapped && onlyLazy) { return func.apply(this, args); } result = this.thru(interceptor); return isUnwrapped ? (isTaker ? result.value()[0] : result.value()) : result; }; }); // Add `Array` methods to `lodash.prototype`. arrayEach(['pop', 'push', 'shift', 'sort', 'splice', 'unshift'], function(methodName) { var func = arrayProto[methodName], chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru', retUnwrapped = /^(?:pop|shift)$/.test(methodName); lodash.prototype[methodName] = function() { var args = arguments; if (retUnwrapped && !this.__chain__) { var value = this.value(); return func.apply(isArray(value) ? value : [], args); } return this[chainName](function(value) { return func.apply(isArray(value) ? value : [], args); }); }; }); // Map minified method names to their real names. baseForOwn(LazyWrapper.prototype, function(func, methodName) { var lodashFunc = lodash[methodName]; if (lodashFunc) { var key = (lodashFunc.name + ''), names = realNames[key] || (realNames[key] = []); names.push({ 'name': methodName, 'func': lodashFunc }); } }); realNames[createHybrid(undefined, WRAP_BIND_KEY_FLAG).name] = [{ 'name': 'wrapper', 'func': undefined }]; // Add methods to `LazyWrapper`. LazyWrapper.prototype.clone = lazyClone; LazyWrapper.prototype.reverse = lazyReverse; LazyWrapper.prototype.value = lazyValue; // Add chain sequence methods to the `lodash` wrapper. lodash.prototype.at = wrapperAt; lodash.prototype.chain = wrapperChain; lodash.prototype.commit = wrapperCommit; lodash.prototype.next = wrapperNext; lodash.prototype.plant = wrapperPlant; lodash.prototype.reverse = wrapperReverse; lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue; // Add lazy aliases. lodash.prototype.first = lodash.prototype.head; if (symIterator) { lodash.prototype[symIterator] = wrapperToIterator; } return lodash; }); /*--------------------------------------------------------------------------*/ // Export lodash. var _ = runInContext(); // Some AMD build optimizers, like r.js, check for condition patterns like: if (true) { // Expose Lodash on the global object to prevent errors when Lodash is // loaded by a script tag in the presence of an AMD loader. // See http://requirejs.org/docs/errors.html#mismatch for more details. // Use `_.noConflict` to remove Lodash from the global object. root._ = _; // Define as an anonymous module so, through path mapping, it can be // referenced as the "underscore" module. !(__WEBPACK_AMD_DEFINE_RESULT__ = function() { return _; }.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)); } // Check for `exports` after `define` in case a build optimizer adds it. else if (freeModule) { // Export for Node.js. (freeModule.exports = _)._ = _; // Export for CommonJS support. freeExports._ = _; } else { // Export to the global object. root._ = _; } }.call(this)); /* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }()), __webpack_require__(5)(module))) /***/ }), /* 5 */ /***/ (function(module, exports) { module.exports = function(module) { if(!module.webpackPolyfill) { module.deprecate = function() {}; module.paths = []; // module.parent = undefined by default module.children = []; module.webpackPolyfill = 1; } return module; } /***/ }), /* 6 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; Object.defineProperty(exports, "__esModule", { value: true }); var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }(); var _d2 = __webpack_require__(2); var _d3 = _interopRequireDefault(_d2); var _lodash = __webpack_require__(4); function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; } function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } } var PredictProba = function () { // svg: d3 object with the svg in question // class_names: array of class names // predict_probas: array of prediction probabilities function PredictProba(svg, class_names, predict_probas) { var title = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'Prediction probabilities'; _classCallCheck(this, PredictProba); var width = parseInt(svg.style('width')); this.names = class_names; this.names.push('Other'); if (class_names.length < 10) { this.colors = _d3.default.scale.category10().domain(this.names); this.colors_i = _d3.default.scale.category10().domain((0, _lodash.range)(this.names.length)); } else { this.colors = _d3.default.scale.category20().domain(this.names); this.colors_i = _d3.default.scale.category20().domain((0, _lodash.range)(this.names.length)); } var _map_classes = this.map_classes(this.names, predict_probas), _map_classes2 = _slicedToArray(_map_classes, 2), names = _map_classes2[0], data = _map_classes2[1]; var bar_x = width - 125; var class_names_width = bar_x; var bar_width = width - bar_x - 32; var x_scale = _d3.default.scale.linear().range([0, bar_width]); var bar_height = 17; var space_between_bars = 5; var bar_yshift = title === '' ? 0 : 35; var n_bars = Math.min(5, data.length); this.svg_height = n_bars * (bar_height + space_between_bars) + bar_yshift; svg.style('height', this.svg_height + 'px'); var this_object = this; if (title !== '') { svg.append('text').text(title).attr('x', 20).attr('y', 20); } var bar_y = function bar_y(i) { return (bar_height + space_between_bars) * i + bar_yshift; }; var bar = svg.append("g"); var _iteratorNormalCompletion = true; var _didIteratorError = false; var _iteratorError = undefined; try { for (var _iterator = (0, _lodash.range)(data.length)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) { var i = _step.value; var color = this.colors(names[i]); if (names[i] == 'Other' && this.names.length > 20) { color = '#5F9EA0'; } var rect = bar.append("rect"); rect.attr("x", bar_x).attr("y", bar_y(i)).attr("height", bar_height).attr("width", x_scale(data[i])).style("fill", color); bar.append("rect").attr("x", bar_x).attr("y", bar_y(i)).attr("height", bar_height).attr("width", bar_width - 1).attr("fill-opacity", 0).attr("stroke", "black"); var text = bar.append("text"); text.classed("prob_text", true); text.attr("y", bar_y(i) + bar_height - 3).attr("fill", "black").style("font", "14px tahoma, sans-serif"); text = bar.append("text"); text.attr("x", bar_x + x_scale(data[i]) + 5).attr("y", bar_y(i) + bar_height - 3).attr("fill", "black").style("font", "14px tahoma, sans-serif").text(data[i].toFixed(2)); text = bar.append("text"); text.attr("x", bar_x - 10).attr("y", bar_y(i) + bar_height - 3).attr("fill", "black").attr("text-anchor", "end").style("font", "14px tahoma, sans-serif").text(names[i]); while (text.node().getBBox()['width'] + 1 > class_names_width - 10) { // TODO: ta mostrando sÃ³ dois, e talvez quando hover mostrar o texto // todo var cur_text = text.text().slice(0, text.text().length - 5); text.text(cur_text + '...'); if (cur_text === '') { break; } } } } catch (err) { _didIteratorError = true; _iteratorError = err; } finally { try { if (!_iteratorNormalCompletion && _iterator.return) { _iterator.return(); } } finally { if (_didIteratorError) { throw _iteratorError; } } } } PredictProba.prototype.map_classes = function map_classes(class_names, predict_proba) { if (class_names.length 4 && arguments[4] !== undefined ? arguments[4] : 'Predicted value'; var log_coords = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false; _classCallCheck(this, PredictedValue); if (min_value == max_value) { var width_proportion = 1.0; } else { var width_proportion = (predicted_value - min_value) / (max_value - min_value); } var width = parseInt(svg.style('width')); this.color = _d2.default.scale.category10(); this.color('predicted_value'); // + 2 is due to it being a float var num_digits = Math.floor(Math.max(Math.log10(min_value), Math.log10(max_value))) + 2; num_digits = Math.max(num_digits, 3); var corner_width = 12 * num_digits; var corner_padding = 5.5 * num_digits; var bar_x = corner_width + corner_padding; var bar_width = width - corner_width * 2 - corner_padding * 2; var x_scale = _d2.default.scale.linear().range([0, bar_width]); var bar_height = 17; var bar_yshift = title === '' ? 0 : 35; var n_bars = 1; var this_object = this; if (title !== '') { svg.append('text').text(title).attr('x', 20).attr('y', 20); } var bar_y = bar_yshift; var bar = svg.append("g"); //filled in bar representing predicted value in range var rect = bar.append("rect"); rect.attr("x", bar_x).attr("y", bar_y).attr("height", bar_height).attr("width", x_scale(width_proportion)).style("fill", this.color); //empty box representing range bar.append("rect").attr("x", bar_x).attr("y", bar_y).attr("height", bar_height).attr("width", x_scale(1)).attr("fill-opacity", 0).attr("stroke", "black"); var text = bar.append("text"); text.classed("prob_text", true); text.attr("y", bar_y + bar_height - 3).attr("fill", "black").style("font", "14px tahoma, sans-serif"); //text for min value text = bar.append("text"); text.attr("x", bar_x - corner_padding).attr("y", bar_y + bar_height - 3).attr("fill", "black").attr("text-anchor", "end").style("font", "14px tahoma, sans-serif").text(min_value.toFixed(2)); //text for range min annotation var v_adjust_min_value_annotation = text.node().getBBox().height; text = bar.append("text"); text.attr("x", bar_x - corner_padding).attr("y", bar_y + bar_height - 3 + v_adjust_min_value_annotation).attr("fill", "black").attr("text-anchor", "end").style("font", "14px tahoma, sans-serif").text("(min)"); //text for predicted value // console.log('bar height: ' + bar_height) text = bar.append("text"); text.text(predicted_value.toFixed(2)); // let h_adjust_predicted_value_text = text.node().getBBox().width / 2; var v_adjust_predicted_value_text = text.node().getBBox().height; text.attr("x", bar_x + x_scale(width_proportion)).attr("y", bar_y + bar_height + v_adjust_predicted_value_text).attr("fill", "black").attr("text-anchor", "middle").style("font", "14px tahoma, sans-serif"); //text for max value text = bar.append("text"); text.text(max_value.toFixed(2)); // let h_adjust = text.node().getBBox().width; text.attr("x", bar_x + bar_width + corner_padding).attr("y", bar_y + bar_height - 3).attr("fill", "black").attr("text-anchor", "begin").style("font", "14px tahoma, sans-serif"); //text for range max annotation var v_adjust_max_value_annotation = text.node().getBBox().height; text = bar.append("text"); text.attr("x", bar_x + bar_width + corner_padding).attr("y", bar_y + bar_height - 3 + v_adjust_min_value_annotation).attr("fill", "black").attr("text-anchor", "begin").style("font", "14px tahoma, sans-serif").text("(max)"); //readjust svg size // let svg_width = width + 1 * h_adjust; // svg.style('width', svg_width + 'px'); this.svg_height = n_bars * bar_height + bar_yshift + 2 * text.node().getBBox().height + 10; svg.style('height', this.svg_height + 'px'); if (log_coords) { console.log("svg width: " + svg_width); console.log("svg height: " + this.svg_height); console.log("bar_y: " + bar_y); console.log("bar_x: " + bar_x); console.log("Min value: " + min_value); console.log("Max value: " + max_value); console.log("Pred value: " + predicted_value); } }; exports.default = PredictedValue; /***/ }), /* 8 */ /***/ (function(module, exports, __webpack_require__) { /* WEBPACK VAR INJECTION */(function(global) {"use strict"; __webpack_require__(9); __webpack_require__(335); __webpack_require__(336); if (global._babelPolyfill) { throw new Error("only one instance of babel-polyfill is allowed"); } global._babelPolyfill = true; var DEFINE_PROPERTY = "defineProperty"; function define(O, key, value) { O[key] || Object[DEFINE_PROPERTY](O, key, { writable: true, configurable: true, value: value }); } define(String.prototype, "padLeft", "".padStart); define(String.prototype, "padRight", "".padEnd); "pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function (key) { [][key] && define(Array, key, Function.call.bind([][key])); }); /* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }()))) /***/ }), /* 9 */ /***/ (function(module, exports, __webpack_require__) { __webpack_require__(10); __webpack_require__(59); __webpack_require__(60); __webpack_require__(61); __webpack_require__(62); __webpack_require__(64); __webpack_require__(67); __webpack_require__(68); __webpack_require__(69); __webpack_require__(70); __webpack_require__(71); __webpack_require__(72); __webpack_require__(73); __webpack_require__(74); __webpack_require__(75); __webpack_require__(77); __webpack_require__(79); __webpack_require__(81); __webpack_require__(83); __webpack_require__(86); __webpack_require__(87); __webpack_require__(88); __webpack_require__(92); __webpack_require__(94); __webpack_require__(96); __webpack_require__(99); __webpack_require__(100); __webpack_require__(101); __webpack_require__(102); __webpack_require__(104); __webpack_require__(105); __webpack_require__(106); __webpack_require__(107); __webpack_require__(108); __webpack_require__(109); __webpack_require__(110); __webpack_require__(112); __webpack_require__(113); __webpack_require__(114); __webpack_require__(116); __webpack_require__(117); __webpack_require__(118); __webpack_require__(120); __webpack_require__(122); __webpack_require__(123); __webpack_require__(124); __webpack_require__(125); __webpack_require__(126); __webpack_require__(127); __webpack_require__(128); __webpack_require__(129); __webpack_require__(130); __webpack_require__(131); __webpack_require__(132); __webpack_require__(133); __webpack_require__(134); __webpack_require__(139); __webpack_require__(140); __webpack_require__(144); __webpack_require__(145); __webpack_require__(146); __webpack_require__(147); __webpack_require__(149); __webpack_require__(150); __webpack_require__(151); __webpack_require__(152); __webpack_require__(153); __webpack_require__(154); __webpack_require__(155); __webpack_require__(156); __webpack_require__(157); __webpack_require__(158); __webpack_require__(159); __webpack_require__(160); __webpack_require__(161); __webpack_require__(162); __webpack_require__(163); __webpack_require__(165); __webpack_require__(166); __webpack_require__(168); __webpack_require__(169); __webpack_require__(175); __webpack_require__(176); __webpack_require__(178); __webpack_require__(179); __webpack_require__(180); __webpack_require__(184); __webpack_require__(185); __webpack_require__(186); __webpack_require__(187); __webpack_require__(188); __webpack_require__(190); __webpack_require__(191); __webpack_require__(192); __webpack_require__(193); __webpack_require__(196); __webpack_require__(198); __webpack_require__(199); __webpack_require__(200); __webpack_require__(202); __webpack_require__(204); __webpack_require__(206); __webpack_require__(208); __webpack_require__(209); __webpack_require__(210); __webpack_require__(214); __webpack_require__(215); __webpack_require__(216); __webpack_require__(218); __webpack_require__(228); __webpack_require__(232); __webpack_require__(233); __webpack_require__(235); __webpack_require__(236); __webpack_require__(240); __webpack_require__(241); __webpack_require__(243); __webpack_require__(244); __webpack_require__(245); __webpack_require__(246); __webpack_require__(247); __webpack_require__(248); __webpack_require__(249); __webpack_require__(250); __webpack_require__(251); __webpack_require__(252); __webpack_require__(253); __webpack_require__(254); __webpack_require__(255); __webpack_require__(256); __webpack_require__(257); __webpack_require__(258); __webpack_require__(259); __webpack_require__(260); __webpack_require__(261); __webpack_require__(263); __webpack_require__(264); __webpack_require__(265); __webpack_require__(266); __webpack_require__(267); __webpack_require__(269); __webpack_require__(270); __webpack_require__(271); __webpack_require__(273); __webpack_require__(274); __webpack_require__(275); __webpack_require__(276); __webpack_require__(277); __webpack_require__(278); __webpack_require__(279); __webpack_require__(280); __webpack_require__(282); __webpack_require__(283); __webpack_require__(285); __webpack_require__(286); __webpack_require__(287); __webpack_require__(288); __webpack_require__(291); __webpack_require__(292); __webpack_require__(294); __webpack_require__(295); __webpack_require__(296); __webpack_require__(297); __webpack_require__(299); __webpack_require__(300); __webpack_require__(301); __webpack_require__(302); __webpack_require__(303); __webpack_require__(304); __webpack_require__(305); __webpack_require__(306); __webpack_require__(307); __webpack_require__(308); __webpack_require__(310); __webpack_require__(311); __webpack_require__(312); __webpack_require__(313); __webpack_require__(314); __webpack_require__(315); __webpack_require__(316); __webpack_require__(317); __webpack_require__(318); __webpack_require__(319); __webpack_require__(320); __webpack_require__(322); __webpack_require__(323); __webpack_require__(324); __webpack_require__(325); __webpack_require__(326); __webpack_require__(327); __webpack_require__(328); __webpack_require__(329); __webpack_require__(330); __webpack_require__(331); __webpack_require__(332); __webpack_require__(333); __webpack_require__(334); module.exports = __webpack_require__(16); /***/ }), /* 10 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; // ECMAScript 6 symbols shim var global = __webpack_require__(11); var has = __webpack_require__(12); var DESCRIPTORS = __webpack_require__(13); var $export = __webpack_require__(15); var redefine = __webpack_require__(25); var META = __webpack_require__(32).KEY; var $fails = __webpack_require__(14); var shared = __webpack_require__(28); var setToStringTag = __webpack_require__(33); var uid = __webpack_require__(26); var wks = __webpack_require__(34); var wksExt = __webpack_require__(35); var wksDefine = __webpack_require__(36); var enumKeys = __webpack_require__(37); var isArray = __webpack_require__(52); var anObject = __webpack_require__(19); var isObject = __webpack_require__(20); var toIObject = __webpack_require__(40); var toPrimitive = __webpack_require__(23); var createDesc = __webpack_require__(24); var _create = __webpack_require__(53); var gOPNExt = __webpack_require__(56); var $GOPD = __webpack_require__(58); var $DP = __webpack_require__(18); var $keys = __webpack_require__(38); var gOPD = $GOPD.f; var dP = $DP.f; var gOPN = gOPNExt.f; var $Symbol = global.Symbol; var $JSON = global.JSON; var _stringify = $JSON && $JSON.stringify; var PROTOTYPE = 'prototype'; var HIDDEN = wks('_hidden'); var TO_PRIMITIVE = wks('toPrimitive'); var isEnum = {}.propertyIsEnumerable; var SymbolRegistry = shared('symbol-registry'); var AllSymbols = shared('symbols'); var OPSymbols = shared('op-symbols'); var ObjectProto = Object[PROTOTYPE]; var USE_NATIVE = typeof $Symbol == 'function'; var QObject = global.QObject; // Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173 var setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild; // fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687 var setSymbolDesc = DESCRIPTORS && $fails(function () { return _create(dP({}, 'a', { get: function () { return dP(this, 'a', { value: 7 }).a; } })).a != 7; }) ? function (it, key, D) { var protoDesc = gOPD(ObjectProto, key); if (protoDesc) delete ObjectProto[key]; dP(it, key, D); if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc); } : dP; var wrap = function (tag) { var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]); sym._k = tag; return sym; }; var isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) { return typeof it == 'symbol'; } : function (it) { return it instanceof $Symbol; }; var $defineProperty = function defineProperty(it, key, D) { if (it === ObjectProto) $defineProperty(OPSymbols, key, D); anObject(it); key = toPrimitive(key, true); anObject(D); if (has(AllSymbols, key)) { if (!D.enumerable) { if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {})); it[HIDDEN][key] = true; } else { if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false; D = _create(D, { enumerable: createDesc(0, false) }); } return setSymbolDesc(it, key, D); } return dP(it, key, D); }; var $defineProperties = function defineProperties(it, P) { anObject(it); var keys = enumKeys(P = toIObject(P)); var i = 0; var l = keys.length; var key; while (l > i) $defineProperty(it, key = keys[i++], P[key]); return it; }; var $create = function create(it, P) { return P === undefined ? _create(it) : $defineProperties(_create(it), P); }; var $propertyIsEnumerable = function propertyIsEnumerable(key) { var E = isEnum.call(this, key = toPrimitive(key, true)); if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false; return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true; }; var $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) { it = toIObject(it); key = toPrimitive(key, true); if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return; var D = gOPD(it, key); if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true; return D; }; var $getOwnPropertyNames = function getOwnPropertyNames(it) { var names = gOPN(toIObject(it)); var result = []; var i = 0; var key; while (names.length > i) { if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key); } return result; }; var $getOwnPropertySymbols = function getOwnPropertySymbols(it) { var IS_OP = it === ObjectProto; var names = gOPN(IS_OP ? OPSymbols : toIObject(it)); var result = []; var i = 0; var key; while (names.length > i) { if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]); } return result; }; // 19.4.1.1 Symbol([description]) if (!USE_NATIVE) { $Symbol = function Symbol() { if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!'); var tag = uid(arguments.length > 0 ? arguments[0] : undefined); var $set = function (value) { if (this === ObjectProto) $set.call(OPSymbols, value); if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false; setSymbolDesc(this, tag, createDesc(1, value)); }; if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set }); return wrap(tag); }; redefine($Symbol[PROTOTYPE], 'toString', function toString() { return this._k; }); $GOPD.f = $getOwnPropertyDescriptor; $DP.f = $defineProperty; __webpack_require__(57).f = gOPNExt.f = $getOwnPropertyNames; __webpack_require__(51).f = $propertyIsEnumerable; __webpack_require__(50).f = $getOwnPropertySymbols; if (DESCRIPTORS && !__webpack_require__(29)) { redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true); } wksExt.f = function (name) { return wrap(wks(name)); }; } $export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol }); for (var es6Symbols = ( // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14 'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables' ).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]); for (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]); $export($export.S + $export.F * !USE_NATIVE, 'Symbol', { // 19.4.2.1 Symbol.for(key) 'for': function (key) { return has(SymbolRegistry, key += '') ? SymbolRegistry[key] : SymbolRegistry[key] = $Symbol(key); }, // 19.4.2.5 Symbol.keyFor(sym) keyFor: function keyFor(sym) { if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!'); for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key; }, useSetter: function () { setter = true; }, useSimple: function () { setter = false; } }); $export($export.S + $export.F * !USE_NATIVE, 'Object', { // 19.1.2.2 Object.create(O [, Properties]) create: $create, // 19.1.2.4 Object.defineProperty(O, P, Attributes) defineProperty: $defineProperty, // 19.1.2.3 Object.defineProperties(O, Properties) defineProperties: $defineProperties, // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P) getOwnPropertyDescriptor: $getOwnPropertyDescriptor, // 19.1.2.7 Object.getOwnPropertyNames(O) getOwnPropertyNames: $getOwnPropertyNames, // 19.1.2.8 Object.getOwnPropertySymbols(O) getOwnPropertySymbols: $getOwnPropertySymbols }); // 24.3.2 JSON.stringify(value [, replacer [, space]]) $JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () { var S = $Symbol(); // MS Edge converts symbol values to JSON as {} // WebKit converts symbol values to JSON as null // V8 throws on boxed symbols return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}'; })), 'JSON', { stringify: function stringify(it) { var args = [it]; var i = 1; var replacer, $replacer; while (arguments.length > i) args.push(arguments[i++]); $replacer = replacer = args[1]; if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined if (!isArray(replacer)) replacer = function (key, value) { if (typeof $replacer == 'function') value = $replacer.call(this, key, value); if (!isSymbol(value)) return value; }; args[1] = replacer; return _stringify.apply($JSON, args); } }); // 19.4.3.4 Symbol.prototype[@@toPrimitive](hint) $Symbol[PROTOTYPE][TO_PRIMITIVE] || __webpack_require__(17)($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf); // 19.4.3.5 Symbol.prototype[@@toStringTag] setToStringTag($Symbol, 'Symbol'); // 20.2.1.9 Math[@@toStringTag] setToStringTag(Math, 'Math', true); // 24.3.3 JSON[@@toStringTag] setToStringTag(global.JSON, 'JSON', true); /***/ }), /* 11 */ /***/ (function(module, exports) { // https://github.com/zloirock/core-js/issues/86#issuecomment-115759028 var global = module.exports = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self // eslint-disable-next-line no-new-func : Function('return this')(); if (typeof __g == 'number') __g = global; // eslint-disable-line no-undef /***/ }), /* 12 */ /***/ (function(module, exports) { var hasOwnProperty = {}.hasOwnProperty; module.exports = function (it, key) { return hasOwnProperty.call(it, key); }; /***/ }), /* 13 */ /***/ (function(module, exports, __webpack_require__) { // Thank's IE8 for his funny defineProperty module.exports = !__webpack_require__(14)(function () { return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7; }); /***/ }), /* 14 */ /***/ (function(module, exports) { module.exports = function (exec) { try { return !!exec(); } catch (e) { return true; } }; /***/ }), /* 15 */ /***/ (function(module, exports, __webpack_require__) { var global = __webpack_require__(11); var core = __webpack_require__(16); var hide = __webpack_require__(17); var redefine = __webpack_require__(25); var ctx = __webpack_require__(30); var PROTOTYPE = 'prototype'; var $export = function (type, name, source) { var IS_FORCED = type & $export.F; var IS_GLOBAL = type & $export.G; var IS_STATIC = type & $export.S; var IS_PROTO = type & $export.P; var IS_BIND = type & $export.B; var target = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE]; var exports = IS_GLOBAL ? core : core[name] || (core[name] = {}); var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {}); var key, own, out, exp; if (IS_GLOBAL) source = name; for (key in source) { // contains in native own = !IS_FORCED && target && target[key] !== undefined; // export native or passed out = (own ? target : source)[key]; // bind timers to global for call from export context exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out; // extend global if (target) redefine(target, key, out, type & $export.U); // export if (exports[key] != out) hide(exports, key, exp); if (IS_PROTO && expProto[key] != out) expProto[key] = out; } }; global.core = core; // type bitmap $export.F = 1; // forced $export.G = 2; // global $export.S = 4; // static $export.P = 8; // proto $export.B = 16; // bind $export.W = 32; // wrap $export.U = 64; // safe $export.R = 128; // real proto method for `library` module.exports = $export; /***/ }), /* 16 */ /***/ (function(module, exports) { var core = module.exports = { version: '2.6.5' }; if (typeof __e == 'number') __e = core; // eslint-disable-line no-undef /***/ }), /* 17 */ /***/ (function(module, exports, __webpack_require__) { var dP = __webpack_require__(18); var createDesc = __webpack_require__(24); module.exports = __webpack_require__(13) ? function (object, key, value) { return dP.f(object, key, createDesc(1, value)); } : function (object, key, value) { object[key] = value; return object; }; /***/ }), /* 18 */ /***/ (function(module, exports, __webpack_require__) { var anObject = __webpack_require__(19); var IE8_DOM_DEFINE = __webpack_require__(21); var toPrimitive = __webpack_require__(23); var dP = Object.defineProperty; exports.f = __webpack_require__(13) ? Object.defineProperty : function defineProperty(O, P, Attributes) { anObject(O); P = toPrimitive(P, true); anObject(Attributes); if (IE8_DOM_DEFINE) try { return dP(O, P, Attributes); } catch (e) { /* empty */ } if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!'); if ('value' in Attributes) O[P] = Attributes.value; return O; }; /***/ }), /* 19 */ /***/ (function(module, exports, __webpack_require__) { var isObject = __webpack_require__(20); module.exports = function (it) { if (!isObject(it)) throw TypeError(it + ' is not an object!'); return it; }; /***/ }), /* 20 */ /***/ (function(module, exports) { module.exports = function (it) { return typeof it === 'object' ? it !== null : typeof it === 'function'; }; /***/ }), /* 21 */ /***/ (function(module, exports, __webpack_require__) { module.exports = !__webpack_require__(13) && !__webpack_require__(14)(function () { return Object.defineProperty(__webpack_require__(22)('div'), 'a', { get: function () { return 7; } }).a != 7; }); /***/ }), /* 22 */ /***/ (function(module, exports, __webpack_require__) { var isObject = __webpack_require__(20); var document = __webpack_require__(11).document; // typeof document.createElement is 'object' in old IE var is = isObject(document) && isObject(document.createElement); module.exports = function (it) { return is ? document.createElement(it) : {}; }; /***/ }), /* 23 */ /***/ (function(module, exports, __webpack_require__) { // 7.1.1 ToPrimitive(input [, PreferredType]) var isObject = __webpack_require__(20); // instead of the ES6 spec version, we didn't implement @@toPrimitive case // and the second argument - flag - preferred type is a string module.exports = function (it, S) { if (!isObject(it)) return it; var fn, val; if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val; if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val; if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val; throw TypeError("Can't convert object to primitive value"); }; /***/ }), /* 24 */ /***/ (function(module, exports) { module.exports = function (bitmap, value) { return { enumerable: !(bitmap & 1), configurable: !(bitmap & 2), writable: !(bitmap & 4), value: value }; }; /***/ }), /* 25 */ /***/ (function(module, exports, __webpack_require__) { var global = __webpack_require__(11); var hide = __webpack_require__(17); var has = __webpack_require__(12); var SRC = __webpack_require__(26)('src'); var $toString = __webpack_require__(27); var TO_STRING = 'toString'; var TPL = ('' + $toString).split(TO_STRING); __webpack_require__(16).inspectSource = function (it) { return $toString.call(it); }; (module.exports = function (O, key, val, safe) { var isFunction = typeof val == 'function'; if (isFunction) has(val, 'name') || hide(val, 'name', key); if (O[key] === val) return; if (isFunction) has(val, SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key))); if (O === global) { O[key] = val; } else if (!safe) { delete O[key]; hide(O, key, val); } else if (O[key]) { O[key] = val; } else { hide(O, key, val); } // add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative })(Function.prototype, TO_STRING, function toString() { return typeof this == 'function' && this[SRC] || $toString.call(this); }); /***/ }), /* 26 */ /***/ (function(module, exports) { var id = 0; var px = Math.random(); module.exports = function (key) { return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36)); }; /***/ }), /* 27 */ /***/ (function(module, exports, __webpack_require__) { module.exports = __webpack_require__(28)('native-function-to-string', Function.toString); /***/ }), /* 28 */ /***/ (function(module, exports, __webpack_require__) { var core = __webpack_require__(16); var global = __webpack_require__(11); var SHARED = '__core-js_shared__'; var store = global[SHARED] || (global[SHARED] = {}); (module.exports = function (key, value) { return store[key] || (store[key] = value !== undefined ? value : {}); })('versions', []).push({ version: core.version, mode: __webpack_require__(29) ? 'pure' : 'global', copyright: 'Â© 2019 Denis Pushkarev (zloirock.ru)' }); /***/ }), /* 29 */ /***/ (function(module, exports) { module.exports = false; /***/ }), /* 30 */ /***/ (function(module, exports, __webpack_require__) { // optional / simple context binding var aFunction = __webpack_require__(31); module.exports = function (fn, that, length) { aFunction(fn); if (that === undefined) return fn; switch (length) { case 1: return function (a) { return fn.call(that, a); }; case 2: return function (a, b) { return fn.call(that, a, b); }; case 3: return function (a, b, c) { return fn.call(that, a, b, c); }; } return function (/* ...args */) { return fn.apply(that, arguments); }; }; /***/ }), /* 31 */ /***/ (function(module, exports) { module.exports = function (it) { if (typeof it != 'function') throw TypeError(it + ' is not a function!'); return it; }; /***/ }), /* 32 */ /***/ (function(module, exports, __webpack_require__) { var META = __webpack_require__(26)('meta'); var isObject = __webpack_require__(20); var has = __webpack_require__(12); var setDesc = __webpack_require__(18).f; var id = 0; var isExtensible = Object.isExtensible || function () { return true; }; var FREEZE = !__webpack_require__(14)(function () { return isExtensible(Object.preventExtensions({})); }); var setMeta = function (it) { setDesc(it, META, { value: { i: 'O' + ++id, // object ID w: {} // weak collections IDs } }); }; var fastKey = function (it, create) { // return primitive with prefix if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it; if (!has(it, META)) { // can't set metadata to uncaught frozen object if (!isExtensible(it)) return 'F'; // not necessary to add metadata if (!create) return 'E'; // add missing metadata setMeta(it); // return object ID } return it[META].i; }; var getWeak = function (it, create) { if (!has(it, META)) { // can't set metadata to uncaught frozen object if (!isExtensible(it)) return true; // not necessary to add metadata if (!create) return false; // add missing metadata setMeta(it); // return hash weak collections IDs } return it[META].w; }; // add metadata on freeze-family methods calling var onFreeze = function (it) { if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it); return it; }; var meta = module.exports = { KEY: META, NEED: false, fastKey: fastKey, getWeak: getWeak, onFreeze: onFreeze }; /***/ }), /* 33 */ /***/ (function(module, exports, __webpack_require__) { var def = __webpack_require__(18).f; var has = __webpack_require__(12); var TAG = __webpack_require__(34)('toStringTag'); module.exports = function (it, tag, stat) { if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag }); }; /***/ }), /* 34 */ /***/ (function(module, exports, __webpack_require__) { var store = __webpack_require__(28)('wks'); var uid = __webpack_require__(26); var Symbol = __webpack_require__(11).Symbol; var USE_SYMBOL = typeof Symbol == 'function'; var $exports = module.exports = function (name) { return store[name] || (store[name] = USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name)); }; $exports.store = store; /***/ }), /* 35 */ /***/ (function(module, exports, __webpack_require__) { exports.f = __webpack_require__(34); /***/ }), /* 36 */ /***/ (function(module, exports, __webpack_require__) { var global = __webpack_require__(11); var core = __webpack_require__(16); var LIBRARY = __webpack_require__(29); var wksExt = __webpack_require__(35); var defineProperty = __webpack_require__(18).f; module.exports = function (name) { var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {}); if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) }); }; /***/ }), /* 37 */ /***/ (function(module, exports, __webpack_require__) { // all enumerable object keys, includes symbols var getKeys = __webpack_require__(38); var gOPS = __webpack_require__(50); var pIE = __webpack_require__(51); module.exports = function (it) { var result = getKeys(it); var getSymbols = gOPS.f; if (getSymbols) { var symbols = getSymbols(it); var isEnum = pIE.f; var i = 0; var key; while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key); } return result; }; /***/ }), /* 38 */ /***/ (function(module, exports, __webpack_require__) { // 19.1.2.14 / 15.2.3.14 Object.keys(O) var $keys = __webpack_require__(39); var enumBugKeys = __webpack_require__(49); module.exports = Object.keys || function keys(O) { return $keys(O, enumBugKeys); }; /***/ }), /* 39 */ /***/ (function(module, exports, __webpack_require__) { var has = __webpack_require__(12); var toIObject = __webpack_require__(40); var arrayIndexOf = __webpack_require__(44)(false); var IE_PROTO = __webpack_require__(48)('IE_PROTO'); module.exports = function (object, names) { var O = toIObject(object); var i = 0; var result = []; var key; for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key); // Don't enum bug & hidden keys while (names.length > i) if (has(O, key = names[i++])) { ~arrayIndexOf(result, key) || result.push(key); } return result; }; /***/ }), /* 40 */ /***/ (function(module, exports, __webpack_require__) { // to indexed object, toObject with fallback for non-array-like ES3 strings var IObject = __webpack_require__(41); var defined = __webpack_require__(43); module.exports = function (it) { return IObject(defined(it)); }; /***/ }), /* 41 */ /***/ (function(module, exports, __webpack_require__) { // fallback for non-array-like ES3 and non-enumerable old V8 strings var cof = __webpack_require__(42); // eslint-disable-next-line no-prototype-builtins module.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) { return cof(it) == 'String' ? it.split('') : Object(it); }; /***/ }), /* 42 */ /***/ (function(module, exports) { var toString = {}.toString; module.exports = function (it) { return toString.call(it).slice(8, -1); }; /***/ }), /* 43 */ /***/ (function(module, exports) { // 7.2.1 RequireObjectCoercible(argument) module.exports = function (it) { if (it == undefined) throw TypeError("Can't call method on " + it); return it; }; /***/ }), /* 44 */ /***/ (function(module, exports, __webpack_require__) { // false -> Array#indexOf // true -> Array#includes var toIObject = __webpack_require__(40); var toLength = __webpack_require__(45); var toAbsoluteIndex = __webpack_require__(47); module.exports = function (IS_INCLUDES) { return function ($this, el, fromIndex) { var O = toIObject($this); var length = toLength(O.length); var index = toAbsoluteIndex(fromIndex, length); var value; // Array#includes uses SameValueZero equality algorithm // eslint-disable-next-line no-self-compare if (IS_INCLUDES && el != el) while (length > index) { value = O[index++]; // eslint-disable-next-line no-self-compare if (value != value) return true; // Array#indexOf ignores holes, Array#includes - not } else for (;length > index; index++) if (IS_INCLUDES || index in O) { if (O[index] === el) return IS_INCLUDES || index || 0; } return !IS_INCLUDES && -1; }; }; /***/ }), /* 45 */ /***/ (function(module, exports, __webpack_require__) { // 7.1.15 ToLength var toInteger = __webpack_require__(46); var min = Math.min; module.exports = function (it) { return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991 }; /***/ }), /* 46 */ /***/ (function(module, exports) { // 7.1.4 ToInteger var ceil = Math.ceil; var floor = Math.floor; module.exports = function (it) { return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it); }; /***/ }), /* 47 */ /***/ (function(module, exports, __webpack_require__) { var toInteger = __webpack_require__(46); var max = Math.max; var min = Math.min; module.exports = function (index, length) { index = toInteger(index); return index < 0 ? max(index + length, 0) : min(index, length); }; /***/ }), /* 48 */ /***/ (function(module, exports, __webpack_require__) { var shared = __webpack_require__(28)('keys'); var uid = __webpack_require__(26); module.exports = function (key) { return shared[key] || (shared[key] = uid(key)); }; /***/ }), /* 49 */ /***/ (function(module, exports) { // IE 8- don't enum bug keys module.exports = ( 'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf' ).split(','); /***/ }), /* 50 */ /***/ (function(module, exports) { exports.f = Object.getOwnPropertySymbols; /***/ }), /* 51 */ /***/ (function(module, exports) { exports.f = {}.propertyIsEnumerable; /***/ }), /* 52 */ /***/ (function(module, exports, __webpack_require__) { // 7.2.2 IsArray(argument) var cof = __webpack_require__(42); module.exports = Array.isArray || function isArray(arg) { return cof(arg) == 'Array'; }; /***/ }), /* 53 */ /***/ (function(module, exports, __webpack_require__) { // 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties]) var anObject = __webpack_require__(19); var dPs = __webpack_require__(54); var enumBugKeys = __webpack_require__(49); var IE_PROTO = __webpack_require__(48)('IE_PROTO'); var Empty = function () { /* empty */ }; var PROTOTYPE = 'prototype'; // Create object with fake `null` prototype: use iframe Object with cleared prototype var createDict = function () { // Thrash, waste and sodomy: IE GC bug var iframe = __webpack_require__(22)('iframe'); var i = enumBugKeys.length; var lt = ''; var iframeDocument; iframe.style.display = 'none'; __webpack_require__(55).appendChild(iframe); iframe.src = 'javascript:'; // eslint-disable-line no-script-url // createDict = iframe.contentWindow.Object; // html.removeChild(iframe); iframeDocument = iframe.contentWindow.document; iframeDocument.open(); iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt); iframeDocument.close(); createDict = iframeDocument.F; while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]]; return createDict(); }; module.exports = Object.create || function create(O, Properties) { var result; if (O !== null) { Empty[PROTOTYPE] = anObject(O); result = new Empty(); Empty[PROTOTYPE] = null; // add "__proto__" for Object.getPrototypeOf polyfill result[IE_PROTO] = O; } else result = createDict(); return Properties === undefined ? result : dPs(result, Properties); }; /***/ }), /* 54 */ /***/ (function(module, exports, __webpack_require__) { var dP = __webpack_require__(18); var anObject = __webpack_require__(19); var getKeys = __webpack_require__(38); module.exports = __webpack_require__(13) ? Object.defineProperties : function defineProperties(O, Properties) { anObject(O); var keys = getKeys(Properties); var length = keys.length; var i = 0; var P; while (length > i) dP.f(O, P = keys[i++], Properties[P]); return O; }; /***/ }), /* 55 */ /***/ (function(module, exports, __webpack_require__) { var document = __webpack_require__(11).document; module.exports = document && document.documentElement; /***/ }), /* 56 */ /***/ (function(module, exports, __webpack_require__) { // fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window var toIObject = __webpack_require__(40); var gOPN = __webpack_require__(57).f; var toString = {}.toString; var windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : []; var getWindowNames = function (it) { try { return gOPN(it); } catch (e) { return windowNames.slice(); } }; module.exports.f = function getOwnPropertyNames(it) { return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it)); }; /***/ }), /* 57 */ /***/ (function(module, exports, __webpack_require__) { // 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O) var $keys = __webpack_require__(39); var hiddenKeys = __webpack_require__(49).concat('length', 'prototype'); exports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) { return $keys(O, hiddenKeys); }; /***/ }), /* 58 */ /***/ (function(module, exports, __webpack_require__) { var pIE = __webpack_require__(51); var createDesc = __webpack_require__(24); var toIObject = __webpack_require__(40); var toPrimitive = __webpack_require__(23); var has = __webpack_require__(12); var IE8_DOM_DEFINE = __webpack_require__(21); var gOPD = Object.getOwnPropertyDescriptor; exports.f = __webpack_require__(13) ? gOPD : function getOwnPropertyDescriptor(O, P) { O = toIObject(O); P = toPrimitive(P, true); if (IE8_DOM_DEFINE) try { return gOPD(O, P); } catch (e) { /* empty */ } if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]); }; /***/ }), /* 59 */ /***/ (function(module, exports, __webpack_require__) { var $export = __webpack_require__(15); // 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties]) $export($export.S, 'Object', { create: __webpack_require__(53) }); /***/ }), /* 60 */ /***/ (function(module, exports, __webpack_require__) { var $export = __webpack_require__(15); // 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes) $export($export.S + $export.F * !__webpack_require__(13), 'Object', { defineProperty: __webpack_require__(18).f }); /***/ }), /* 61 */ /***/ (function(module, exports, __webpack_require__) { var $export = __webpack_require__(15); // 19.1.2.3 / 15.2.3.7 Object.defineProperties(O, Properties) $export($export.S + $export.F * !__webpack_require__(13), 'Object', { defineProperties: __webpack_require__(54) }); /***/ }), /* 62 */ /***/ (function(module, exports, __webpack_require__) { // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P) var toIObject = __webpack_require__(40); var $getOwnPropertyDescriptor = __webpack_require__(58).f; __webpack_require__(63)('getOwnPropertyDescriptor', function () { return function getOwnPropertyDescriptor(it, key) { return $getOwnPropertyDescriptor(toIObject(it), key); }; }); /***/ }), /* 63 */ /***/ (function(module, exports, __webpack_require__) { // most Object methods by ES6 should accept primitives var $export = __webpack_require__(15); var core = __webpack_require__(16); var fails = __webpack_require__(14); module.exports = function (KEY, exec) { var fn = (core.Object || {})[KEY] || Object[KEY]; var exp = {}; exp[KEY] = exec(fn); $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp); }; /***/ }), /* 64 */ /***/ (function(module, exports, __webpack_require__) { // 19.1.2.9 Object.getPrototypeOf(O) var toObject = __webpack_require__(65); var $getPrototypeOf = __webpack_require__(66); __webpack_require__(63)('getPrototypeOf', function () { return function getPrototypeOf(it) { return $getPrototypeOf(toObject(it)); }; }); /***/ }), /* 65 */ /***/ (function(module, exports, __webpack_require__) { // 7.1.13 ToObject(argument) var defined = __webpack_require__(43); module.exports = function (it) { return Object(defined(it)); }; /***/ }), /* 66 */ /***/ (function(module, exports, __webpack_require__) { // 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O) var has = __webpack_require__(12); var toObject = __webpack_require__(65); var IE_PROTO = __webpack_require__(48)('IE_PROTO'); var ObjectProto = Object.prototype; module.exports = Object.getPrototypeOf || function (O) { O = toObject(O); if (has(O, IE_PROTO)) return O[IE_PROTO]; if (typeof O.constructor == 'function' && O instanceof O.constructor) { return O.constructor.prototype; } return O instanceof Object ? ObjectProto : null; }; /***/ }), /* 67 */ /***/ (function(module, exports, __webpack_require__) { // 19.1.2.14 Object.keys(O) var toObject = __webpack_require__(65); var $keys = __webpack_require__(38); __webpack_require__(63)('keys', function () { return function keys(it) { return $keys(toObject(it)); }; }); /***/ }), /* 68 */ /***/ (function(module, exports, __webpack_require__) { // 19.1.2.7 Object.getOwnPropertyNames(O) __webpack_require__(63)('getOwnPropertyNames', function () { return __webpack_require__(56).f; }); /***/ }), /* 69 */ /***/ (function(module, exports, __webpack_require__) { // 19.1.2.5 Object.freeze(O) var isObject = __webpack_require__(20); var meta = __webpack_require__(32).onFreeze; __webpack_require__(63)('freeze', function ($freeze) { return function freeze(it) { return $freeze && isObject(it) ? $freeze(meta(it)) : it; }; }); /***/ }), /* 70 */ /***/ (function(module, exports, __webpack_require__) { // 19.1.2.17 Object.seal(O) var isObject = __webpack_require__(20); var meta = __webpack_require__(32).onFreeze; __webpack_require__(63)('seal', function ($seal) { return function seal(it) { return $seal && isObject(it) ? $seal(meta(it)) : it; }; }); /***/ }), /* 71 */ /***/ (function(module, exports, __webpack_require__) { // 19.1.2.15 Object.preventExtensions(O) var isObject = __webpack_require__(20); var meta = __webpack_require__(32).onFreeze; __webpack_require__(63)('preventExtensions', function ($preventExtensions) { return function preventExtensions(it) { return $preventExtensions && isObject(it) ? $preventExtensions(meta(it)) : it; }; }); /***/ }), /* 72 */ /***/ (function(module, exports, __webpack_require__) { // 19.1.2.12 Object.isFrozen(O) var isObject = __webpack_require__(20); __webpack_require__(63)('isFrozen', function ($isFrozen) { return function isFrozen(it) { return isObject(it) ? $isFrozen ? $isFrozen(it) : false : true; }; }); /***/ }), /* 73 */ /***/ (function(module, exports, __webpack_require__) { // 19.1.2.13 Object.isSealed(O) var isObject = __webpack_require__(20); __webpack_require__(63)('isSealed', function ($isSealed) { return function isSealed(it) { return isObject(it) ? $isSealed ? $isSealed(it) : false : true; }; }); /***/ }), /* 74 */ /***/ (function(module, exports, __webpack_require__) { // 19.1.2.11 Object.isExtensible(O) var isObject = __webpack_require__(20); __webpack_require__(63)('isExtensible', function ($isExtensible) { return function isExtensible(it) { return isObject(it) ? $isExtensible ? $isExtensible(it) : true : false; }; }); /***/ }), /* 75 */ /***/ (function(module, exports, __webpack_require__) { // 19.1.3.1 Object.assign(target, source) var $export = __webpack_require__(15); $export($export.S + $export.F, 'Object', { assign: __webpack_require__(76) }); /***/ }), /* 76 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; // 19.1.2.1 Object.assign(target, source, ...) var getKeys = __webpack_require__(38); var gOPS = __webpack_require__(50); var pIE = __webpack_require__(51); var toObject = __webpack_require__(65); var IObject = __webpack_require__(41); var $assign = Object.assign; // should work with symbols and should have deterministic property order (V8 bug) module.exports = !$assign || __webpack_require__(14)(function () { var A = {}; var B = {}; // eslint-disable-next-line no-undef var S = Symbol(); var K = 'abcdefghijklmnopqrst'; A[S] = 7; K.split('').forEach(function (k) { B[k] = k; }); return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K; }) ? function assign(target, source) { // eslint-disable-line no-unused-vars var T = toObject(target); var aLen = arguments.length; var index = 1; var getSymbols = gOPS.f; var isEnum = pIE.f; while (aLen > index) { var S = IObject(arguments[index++]); var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S); var length = keys.length; var j = 0; var key; while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key]; } return T; } : $assign; /***/ }), /* 77 */ /***/ (function(module, exports, __webpack_require__) { // 19.1.3.10 Object.is(value1, value2) var $export = __webpack_require__(15); $export($export.S, 'Object', { is: __webpack_require__(78) }); /***/ }), /* 78 */ /***/ (function(module, exports) { // 7.2.9 SameValue(x, y) module.exports = Object.is || function is(x, y) { // eslint-disable-next-line no-self-compare return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y; }; /***/ }), /* 79 */ /***/ (function(module, exports, __webpack_require__) { // 19.1.3.19 Object.setPrototypeOf(O, proto) var $export = __webpack_require__(15); $export($export.S, 'Object', { setPrototypeOf: __webpack_require__(80).set }); /***/ }), /* 80 */ /***/ (function(module, exports, __webpack_require__) { // Works with __proto__ only. Old v8 can't work with null proto objects. /* eslint-disable no-proto */ var isObject = __webpack_require__(20); var anObject = __webpack_require__(19); var check = function (O, proto) { anObject(O); if (!isObject(proto) && proto !== null) throw TypeError(proto + ": can't set as prototype!"); }; module.exports = { set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line function (test, buggy, set) { try { set = __webpack_require__(30)(Function.call, __webpack_require__(58).f(Object.prototype, '__proto__').set, 2); set(test, []); buggy = !(test instanceof Array); } catch (e) { buggy = true; } return function setPrototypeOf(O, proto) { check(O, proto); if (buggy) O.__proto__ = proto; else set(O, proto); return O; }; }({}, false) : undefined), check: check }; /***/ }), /* 81 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; // 19.1.3.6 Object.prototype.toString() var classof = __webpack_require__(82); var test = {}; test[__webpack_require__(34)('toStringTag')] = 'z'; if (test + '' != '[object z]') { __webpack_require__(25)(Object.prototype, 'toString', function toString() { return '[object ' + classof(this) + ']'; }, true); } /***/ }), /* 82 */ /***/ (function(module, exports, __webpack_require__) { // getting tag from 19.1.3.6 Object.prototype.toString() var cof = __webpack_require__(42); var TAG = __webpack_require__(34)('toStringTag'); // ES3 wrong here var ARG = cof(function () { return arguments; }()) == 'Arguments'; // fallback for IE11 Script Access Denied error var tryGet = function (it, key) { try { return it[key]; } catch (e) { /* empty */ } }; module.exports = function (it) { var O, T, B; return it === undefined ? 'Undefined' : it === null ? 'Null' // @@toStringTag case : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T // builtinTag case : ARG ? cof(O) // ES3 arguments fallback : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B; }; /***/ }), /* 83 */ /***/ (function(module, exports, __webpack_require__) { // 19.2.3.2 / 15.3.4.5 Function.prototype.bind(thisArg, args...) var $export = __webpack_require__(15); $export($export.P, 'Function', { bind: __webpack_require__(84) }); /***/ }), /* 84 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var aFunction = __webpack_require__(31); var isObject = __webpack_require__(20); var invoke = __webpack_require__(85); var arraySlice = [].slice; var factories = {}; var construct = function (F, len, args) { if (!(len in factories)) { for (var n = [], i = 0; i < len; i++) n[i] = 'a[' + i + ']'; // eslint-disable-next-line no-new-func factories[len] = Function('F,a', 'return new F(' + n.join(',') + ')'); } return factories[len](F, args); }; module.exports = Function.bind || function bind(that /* , ...args */) { var fn = aFunction(this); var partArgs = arraySlice.call(arguments, 1); var bound = function (/* args... */) { var args = partArgs.concat(arraySlice.call(arguments)); return this instanceof bound ? construct(fn, args.length, args) : invoke(fn, args, that); }; if (isObject(fn.prototype)) bound.prototype = fn.prototype; return bound; }; /***/ }), /* 85 */ /***/ (function(module, exports) { // fast apply, http://jsperf.lnkit.com/fast-apply/5 module.exports = function (fn, args, that) { var un = that === undefined; switch (args.length) { case 0: return un ? fn() : fn.call(that); case 1: return un ? fn(args[0]) : fn.call(that, args[0]); case 2: return un ? fn(args[0], args[1]) : fn.call(that, args[0], args[1]); case 3: return un ? fn(args[0], args[1], args[2]) : fn.call(that, args[0], args[1], args[2]); case 4: return un ? fn(args[0], args[1], args[2], args[3]) : fn.call(that, args[0], args[1], args[2], args[3]); } return fn.apply(that, args); }; /***/ }), /* 86 */ /***/ (function(module, exports, __webpack_require__) { var dP = __webpack_require__(18).f; var FProto = Function.prototype; var nameRE = /^\s*function ([^ (]*)/; var NAME = 'name'; // 19.2.4.2 name NAME in FProto || __webpack_require__(13) && dP(FProto, NAME, { configurable: true, get: function () { try { return ('' + this).match(nameRE)[1]; } catch (e) { return ''; } } }); /***/ }), /* 87 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var isObject = __webpack_require__(20); var getPrototypeOf = __webpack_require__(66); var HAS_INSTANCE = __webpack_require__(34)('hasInstance'); var FunctionProto = Function.prototype; // 19.2.3.6 Function.prototype[@@hasInstance](V) if (!(HAS_INSTANCE in FunctionProto)) __webpack_require__(18).f(FunctionProto, HAS_INSTANCE, { value: function (O) { if (typeof this != 'function' || !isObject(O)) return false; if (!isObject(this.prototype)) return O instanceof this; // for environment w/o native `@@hasInstance` logic enough `instanceof`, but add this: while (O = getPrototypeOf(O)) if (this.prototype === O) return true; return false; } }); /***/ }), /* 88 */ /***/ (function(module, exports, __webpack_require__) { var $export = __webpack_require__(15); var $parseInt = __webpack_require__(89); // 18.2.5 parseInt(string, radix) $export($export.G + $export.F * (parseInt != $parseInt), { parseInt: $parseInt }); /***/ }), /* 89 */ /***/ (function(module, exports, __webpack_require__) { var $parseInt = __webpack_require__(11).parseInt; var $trim = __webpack_require__(90).trim; var ws = __webpack_require__(91); var hex = /^[-+]?0[xX]/; module.exports = $parseInt(ws + '08') !== 8 || $parseInt(ws + '0x16') !== 22 ? function parseInt(str, radix) { var string = $trim(String(str), 3); return $parseInt(string, (radix >>> 0) || (hex.test(string) ? 16 : 10)); } : $parseInt; /***/ }), /* 90 */ /***/ (function(module, exports, __webpack_require__) { var $export = __webpack_require__(15); var defined = __webpack_require__(43); var fails = __webpack_require__(14); var spaces = __webpack_require__(91); var space = '[' + spaces + ']'; var non = '\u200b\u0085'; var ltrim = RegExp('^' + space + space + '*'); var rtrim = RegExp(space + space + '*$'); var exporter = function (KEY, exec, ALIAS) { var exp = {}; var FORCE = fails(function () { return !!spaces[KEY]() || non[KEY]() != non; }); var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY]; if (ALIAS) exp[ALIAS] = fn; $export($export.P + $export.F * FORCE, 'String', exp); }; // 1 -> String#trimLeft // 2 -> String#trimRight // 3 -> String#trim var trim = exporter.trim = function (string, TYPE) { string = String(defined(string)); if (TYPE & 1) string = string.replace(ltrim, ''); if (TYPE & 2) string = string.replace(rtrim, ''); return string; }; module.exports = exporter; /***/ }), /* 91 */ /***/ (function(module, exports) { module.exports = '\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003' + '\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF'; /***/ }), /* 92 */ /***/ (function(module, exports, __webpack_require__) { var $export = __webpack_require__(15); var $parseFloat = __webpack_require__(93); // 18.2.4 parseFloat(string) $export($export.G + $export.F * (parseFloat != $parseFloat), { parseFloat: $parseFloat }); /***/ }), /* 93 */ /***/ (function(module, exports, __webpack_require__) { var $parseFloat = __webpack_require__(11).parseFloat; var $trim = __webpack_require__(90).trim; module.exports = 1 / $parseFloat(__webpack_require__(91) + '-0') !== -Infinity ? function parseFloat(str) { var string = $trim(String(str), 3); var result = $parseFloat(string); return result === 0 && string.charAt(0) == '-' ? -0 : result; } : $parseFloat; /***/ }), /* 94 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var global = __webpack_require__(11); var has = __webpack_require__(12); var cof = __webpack_require__(42); var inheritIfRequired = __webpack_require__(95); var toPrimitive = __webpack_require__(23); var fails = __webpack_require__(14); var gOPN = __webpack_require__(57).f; var gOPD = __webpack_require__(58).f; var dP = __webpack_require__(18).f; var $trim = __webpack_require__(90).trim; var NUMBER = 'Number'; var $Number = global[NUMBER]; var Base = $Number; var proto = $Number.prototype; // Opera ~12 has broken Object#toString var BROKEN_COF = cof(__webpack_require__(53)(proto)) == NUMBER; var TRIM = 'trim' in String.prototype; // 7.1.3 ToNumber(argument) var toNumber = function (argument) { var it = toPrimitive(argument, false); if (typeof it == 'string' && it.length > 2) { it = TRIM ? it.trim() : $trim(it, 3); var first = it.charCodeAt(0); var third, radix, maxCode; if (first === 43 || first === 45) { third = it.charCodeAt(2); if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix } else if (first === 48) { switch (it.charCodeAt(1)) { case 66: case 98: radix = 2; maxCode = 49; break; // fast equal /^0b[01]+$/i case 79: case 111: radix = 8; maxCode = 55; break; // fast equal /^0o[0-7]+$/i default: return +it; } for (var digits = it.slice(2), i = 0, l = digits.length, code; i < l; i++) { code = digits.charCodeAt(i); // parseInt parses a string to a first unavailable symbol // but ToNumber should return NaN if a string contains unavailable symbols if (code < 48 || code > maxCode) return NaN; } return parseInt(digits, radix); } } return +it; }; if (!$Number(' 0o1') || !$Number('0b1') || $Number('+0x1')) { $Number = function Number(value) { var it = arguments.length < 1 ? 0 : value; var that = this; return that instanceof $Number // check on 1..constructor(foo) case && (BROKEN_COF ? fails(function () { proto.valueOf.call(that); }) : cof(that) != NUMBER) ? inheritIfRequired(new Base(toNumber(it)), that, $Number) : toNumber(it); }; for (var keys = __webpack_require__(13) ? gOPN(Base) : ( // ES3: 'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' + // ES6 (in case, if modules with ES6 Number statics required before): 'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' + 'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger' ).split(','), j = 0, key; keys.length > j; j++) { if (has(Base, key = keys[j]) && !has($Number, key)) { dP($Number, key, gOPD(Base, key)); } } $Number.prototype = proto; proto.constructor = $Number; __webpack_require__(25)(global, NUMBER, $Number); } /***/ }), /* 95 */ /***/ (function(module, exports, __webpack_require__) { var isObject = __webpack_require__(20); var setPrototypeOf = __webpack_require__(80).set; module.exports = function (that, target, C) { var S = target.constructor; var P; if (S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf) { setPrototypeOf(that, P); } return that; }; /***/ }), /* 96 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var $export = __webpack_require__(15); var toInteger = __webpack_require__(46); var aNumberValue = __webpack_require__(97); var repeat = __webpack_require__(98); var $toFixed = 1.0.toFixed; var floor = Math.floor; var data = [0, 0, 0, 0, 0, 0]; var ERROR = 'Number.toFixed: incorrect invocation!'; var ZERO = '0'; var multiply = function (n, c) { var i = -1; var c2 = c; while (++i < 6) { c2 += n * data[i]; data[i] = c2 % 1e7; c2 = floor(c2 / 1e7); } }; var divide = function (n) { var i = 6; var c = 0; while (--i >= 0) { c += data[i]; data[i] = floor(c / n); c = (c % n) * 1e7; } }; var numToString = function () { var i = 6; var s = ''; while (--i >= 0) { if (s !== '' || i === 0 || data[i] !== 0) { var t = String(data[i]); s = s === '' ? t : s + repeat.call(ZERO, 7 - t.length) + t; } } return s; }; var pow = function (x, n, acc) { return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc); }; var log = function (x) { var n = 0; var x2 = x; while (x2 >= 4096) { n += 12; x2 /= 4096; } while (x2 >= 2) { n += 1; x2 /= 2; } return n; }; $export($export.P + $export.F * (!!$toFixed && ( 0.00008.toFixed(3) !== '0.000' || 0.9.toFixed(0) !== '1' || 1.255.toFixed(2) !== '1.25' || 1000000000000000128.0.toFixed(0) !== '1000000000000000128' ) || !__webpack_require__(14)(function () { // V8 ~ Android 4.3- $toFixed.call({}); })), 'Number', { toFixed: function toFixed(fractionDigits) { var x = aNumberValue(this, ERROR); var f = toInteger(fractionDigits); var s = ''; var m = ZERO; var e, z, j, k; if (f < 0 || f > 20) throw RangeError(ERROR); // eslint-disable-next-line no-self-compare if (x != x) return 'NaN'; if (x = 1e21) return String(x); if (x < 0) { s = '-'; x = -x; } if (x > 1e-21) { e = log(x * pow(2, 69, 1)) - 69; z = e < 0 ? x * pow(2, -e, 1) : x / pow(2, e, 1); z *= 0x10000000000000; e = 52 - e; if (e > 0) { multiply(0, z); j = f; while (j >= 7) { multiply(1e7, 0); j -= 7; } multiply(pow(10, j, 1), 0); j = e - 1; while (j >= 23) { divide(1 < 23); j -= 23; } divide(1 < j); multiply(1, 1); divide(2); m = numToString(); } else { multiply(0, z); multiply(1 < -e, 0); m = numToString() + repeat.call(ZERO, f); } } if (f > 0) { k = m.length; m = s + (k -1e-8 && x < 1e-8 ? x - x * x / 2 : Math.log(1 + x); }; /***/ }), /* 112 */ /***/ (function(module, exports, __webpack_require__) { // 20.2.2.5 Math.asinh(x) var $export = __webpack_require__(15); var $asinh = Math.asinh; function asinh(x) { return !isFinite(x = +x) || x == 0 ? x : x < 0 ? -asinh(-x) : Math.log(x + Math.sqrt(x * x + 1)); } // Tor Browser bug: Math.asinh(0) -> -0 $export($export.S + $export.F * !($asinh && 1 / $asinh(0) > 0), 'Math', { asinh: asinh }); /***/ }), /* 113 */ /***/ (function(module, exports, __webpack_require__) { // 20.2.2.7 Math.atanh(x) var $export = __webpack_require__(15); var $atanh = Math.atanh; // Tor Browser bug: Math.atanh(-0) -> 0 $export($export.S + $export.F * !($atanh && 1 / $atanh(-0) < 0), 'Math', { atanh: function atanh(x) { return (x = +x) == 0 ? x : Math.log((1 + x) / (1 - x)) / 2; } }); /***/ }), /* 114 */ /***/ (function(module, exports, __webpack_require__) { // 20.2.2.9 Math.cbrt(x) var $export = __webpack_require__(15); var sign = __webpack_require__(115); $export($export.S, 'Math', { cbrt: function cbrt(x) { return sign(x = +x) * Math.pow(Math.abs(x), 1 / 3); } }); /***/ }), /* 115 */ /***/ (function(module, exports) { // 20.2.2.28 Math.sign(x) module.exports = Math.sign || function sign(x) { // eslint-disable-next-line no-self-compare return (x = +x) == 0 || x != x ? x : x < 0 ? -1 : 1; }; /***/ }), /* 116 */ /***/ (function(module, exports, __webpack_require__) { // 20.2.2.11 Math.clz32(x) var $export = __webpack_require__(15); $export($export.S, 'Math', { clz32: function clz32(x) { return (x >>>= 0) ? 31 - Math.floor(Math.log(x + 0.5) * Math.LOG2E) : 32; } }); /***/ }), /* 117 */ /***/ (function(module, exports, __webpack_require__) { // 20.2.2.12 Math.cosh(x) var $export = __webpack_require__(15); var exp = Math.exp; $export($export.S, 'Math', { cosh: function cosh(x) { return (exp(x = +x) + exp(-x)) / 2; } }); /***/ }), /* 118 */ /***/ (function(module, exports, __webpack_require__) { // 20.2.2.14 Math.expm1(x) var $export = __webpack_require__(15); var $expm1 = __webpack_require__(119); $export($export.S + $export.F * ($expm1 != Math.expm1), 'Math', { expm1: $expm1 }); /***/ }), /* 119 */ /***/ (function(module, exports) { // 20.2.2.14 Math.expm1(x) var $expm1 = Math.expm1; module.exports = (!$expm1 // Old FF bug || $expm1(10) > 22025.465794806719 || $expm1(10) < 22025.4657948067165168 // Tor Browser bug || $expm1(-2e-17) != -2e-17 ) ? function expm1(x) { return (x = +x) == 0 ? x : x > -1e-6 && x < 1e-6 ? x + x * x / 2 : Math.exp(x) - 1; } : $expm1; /***/ }), /* 120 */ /***/ (function(module, exports, __webpack_require__) { // 20.2.2.16 Math.fround(x) var $export = __webpack_require__(15); $export($export.S, 'Math', { fround: __webpack_require__(121) }); /***/ }), /* 121 */ /***/ (function(module, exports, __webpack_require__) { // 20.2.2.16 Math.fround(x) var sign = __webpack_require__(115); var pow = Math.pow; var EPSILON = pow(2, -52); var EPSILON32 = pow(2, -23); var MAX32 = pow(2, 127) * (2 - EPSILON32); var MIN32 = pow(2, -126); var roundTiesToEven = function (n) { return n + 1 / EPSILON - 1 / EPSILON; }; module.exports = Math.fround || function fround(x) { var $abs = Math.abs(x); var $sign = sign(x); var a, result; if ($abs < MIN32) return $sign * roundTiesToEven($abs / MIN32 / EPSILON32) * MIN32 * EPSILON32; a = (1 + EPSILON32 / EPSILON) * $abs; result = a - (a - $abs); // eslint-disable-next-line no-self-compare if (result > MAX32 || result != result) return $sign * Infinity; return $sign * result; }; /***/ }), /* 122 */ /***/ (function(module, exports, __webpack_require__) { // 20.2.2.17 Math.hypot([value1[, value2[, â€¦ ]]]) var $export = __webpack_require__(15); var abs = Math.abs; $export($export.S, 'Math', { hypot: function hypot(value1, value2) { // eslint-disable-line no-unused-vars var sum = 0; var i = 0; var aLen = arguments.length; var larg = 0; var arg, div; while (i < aLen) { arg = abs(arguments[i++]); if (larg < arg) { div = larg / arg; sum = sum * div * div + 1; larg = arg; } else if (arg > 0) { div = arg / larg; sum += div * div; } else sum += arg; } return larg === Infinity ? Infinity : larg * Math.sqrt(sum); } }); /***/ }), /* 123 */ /***/ (function(module, exports, __webpack_require__) { // 20.2.2.18 Math.imul(x, y) var $export = __webpack_require__(15); var $imul = Math.imul; // some WebKit versions fails with big numbers, some has wrong arity $export($export.S + $export.F * __webpack_require__(14)(function () { return $imul(0xffffffff, 5) != -5 || $imul.length != 2; }), 'Math', { imul: function imul(x, y) { var UINT16 = 0xffff; var xn = +x; var yn = +y; var xl = UINT16 & xn; var yl = UINT16 & yn; return 0 | xl * yl + ((UINT16 & xn >>> 16) * yl + xl * (UINT16 & yn >>> 16) < 16 >>> 0); } }); /***/ }), /* 124 */ /***/ (function(module, exports, __webpack_require__) { // 20.2.2.21 Math.log10(x) var $export = __webpack_require__(15); $export($export.S, 'Math', { log10: function log10(x) { return Math.log(x) * Math.LOG10E; } }); /***/ }), /* 125 */ /***/ (function(module, exports, __webpack_require__) { // 20.2.2.20 Math.log1p(x) var $export = __webpack_require__(15); $export($export.S, 'Math', { log1p: __webpack_require__(111) }); /***/ }), /* 126 */ /***/ (function(module, exports, __webpack_require__) { // 20.2.2.22 Math.log2(x) var $export = __webpack_require__(15); $export($export.S, 'Math', { log2: function log2(x) { return Math.log(x) / Math.LN2; } }); /***/ }), /* 127 */ /***/ (function(module, exports, __webpack_require__) { // 20.2.2.28 Math.sign(x) var $export = __webpack_require__(15); $export($export.S, 'Math', { sign: __webpack_require__(115) }); /***/ }), /* 128 */ /***/ (function(module, exports, __webpack_require__) { // 20.2.2.30 Math.sinh(x) var $export = __webpack_require__(15); var expm1 = __webpack_require__(119); var exp = Math.exp; // V8 near Chromium 38 has a problem with very small numbers $export($export.S + $export.F * __webpack_require__(14)(function () { return !Math.sinh(-2e-17) != -2e-17; }), 'Math', { sinh: function sinh(x) { return Math.abs(x = +x) < 1 ? (expm1(x) - expm1(-x)) / 2 : (exp(x - 1) - exp(-x - 1)) * (Math.E / 2); } }); /***/ }), /* 129 */ /***/ (function(module, exports, __webpack_require__) { // 20.2.2.33 Math.tanh(x) var $export = __webpack_require__(15); var expm1 = __webpack_require__(119); var exp = Math.exp; $export($export.S, 'Math', { tanh: function tanh(x) { var a = expm1(x = +x); var b = expm1(-x); return a == Infinity ? 1 : b == Infinity ? -1 : (a - b) / (exp(x) + exp(-x)); } }); /***/ }), /* 130 */ /***/ (function(module, exports, __webpack_require__) { // 20.2.2.34 Math.trunc(x) var $export = __webpack_require__(15); $export($export.S, 'Math', { trunc: function trunc(it) { return (it > 0 ? Math.floor : Math.ceil)(it); } }); /***/ }), /* 131 */ /***/ (function(module, exports, __webpack_require__) { var $export = __webpack_require__(15); var toAbsoluteIndex = __webpack_require__(47); var fromCharCode = String.fromCharCode; var $fromCodePoint = String.fromCodePoint; // length should be 1, old FF problem $export($export.S + $export.F * (!!$fromCodePoint && $fromCodePoint.length != 1), 'String', { // 21.1.2.2 String.fromCodePoint(...codePoints) fromCodePoint: function fromCodePoint(x) { // eslint-disable-line no-unused-vars var res = []; var aLen = arguments.length; var i = 0; var code; while (aLen > i) { code = +arguments[i++]; if (toAbsoluteIndex(code, 0x10ffff) !== code) throw RangeError(code + ' is not a valid code point'); res.push(code < 0x10000 ? fromCharCode(code) : fromCharCode(((code -= 0x10000) >> 10) + 0xd800, code % 0x400 + 0xdc00) ); } return res.join(''); } }); /***/ }), /* 132 */ /***/ (function(module, exports, __webpack_require__) { var $export = __webpack_require__(15); var toIObject = __webpack_require__(40); var toLength = __webpack_require__(45); $export($export.S, 'String', { // 21.1.2.4 String.raw(callSite, ...substitutions) raw: function raw(callSite) { var tpl = toIObject(callSite.raw); var len = toLength(tpl.length); var aLen = arguments.length; var res = []; var i = 0; while (len > i) { res.push(String(tpl[i++])); if (i < aLen) res.push(String(arguments[i])); } return res.join(''); } }); /***/ }), /* 133 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; // 21.1.3.25 String.prototype.trim() __webpack_require__(90)('trim', function ($trim) { return function trim() { return $trim(this, 3); }; }); /***/ }), /* 134 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var $at = __webpack_require__(135)(true); // 21.1.3.27 String.prototype[@@iterator]() __webpack_require__(136)(String, 'String', function (iterated) { this._t = String(iterated); // target this._i = 0; // next index // 21.1.5.2.1 %StringIteratorPrototype%.next() }, function () { var O = this._t; var index = this._i; var point; if (index >= O.length) return { value: undefined, done: true }; point = $at(O, index); this._i += point.length; return { value: point, done: false }; }); /***/ }), /* 135 */ /***/ (function(module, exports, __webpack_require__) { var toInteger = __webpack_require__(46); var defined = __webpack_require__(43); // true -> String#at // false -> String#codePointAt module.exports = function (TO_STRING) { return function (that, pos) { var s = String(defined(that)); var i = toInteger(pos); var l = s.length; var a, b; if (i < 0 || i >= l) return TO_STRING ? '' : undefined; a = s.charCodeAt(i); return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff ? TO_STRING ? s.charAt(i) : a : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 < 10) + (b - 0xdc00) + 0x10000; }; }; /***/ }), /* 136 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var LIBRARY = __webpack_require__(29); var $export = __webpack_require__(15); var redefine = __webpack_require__(25); var hide = __webpack_require__(17); var Iterators = __webpack_require__(137); var $iterCreate = __webpack_require__(138); var setToStringTag = __webpack_require__(33); var getPrototypeOf = __webpack_require__(66); var ITERATOR = __webpack_require__(34)('iterator'); var BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next` var FF_ITERATOR = '@@iterator'; var KEYS = 'keys'; var VALUES = 'values'; var returnThis = function () { return this; }; module.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) { $iterCreate(Constructor, NAME, next); var getMethod = function (kind) { if (!BUGGY && kind in proto) return proto[kind]; switch (kind) { case KEYS: return function keys() { return new Constructor(this, kind); }; case VALUES: return function values() { return new Constructor(this, kind); }; } return function entries() { return new Constructor(this, kind); }; }; var TAG = NAME + ' Iterator'; var DEF_VALUES = DEFAULT == VALUES; var VALUES_BUG = false; var proto = Base.prototype; var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT]; var $default = $native || getMethod(DEFAULT); var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined; var $anyNative = NAME == 'Array' ? proto.entries || $native : $native; var methods, key, IteratorPrototype; // Fix native if ($anyNative) { IteratorPrototype = getPrototypeOf($anyNative.call(new Base())); if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) { // Set @@toStringTag to native iterators setToStringTag(IteratorPrototype, TAG, true); // fix for some old engines if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis); } } // fix Array#{values, @@iterator}.name in V8 / FF if (DEF_VALUES && $native && $native.name !== VALUES) { VALUES_BUG = true; $default = function values() { return $native.call(this); }; } // Define iterator if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) { hide(proto, ITERATOR, $default); } // Plug for library Iterators[NAME] = $default; Iterators[TAG] = returnThis; if (DEFAULT) { methods = { values: DEF_VALUES ? $default : getMethod(VALUES), keys: IS_SET ? $default : getMethod(KEYS), entries: $entries }; if (FORCED) for (key in methods) { if (!(key in proto)) redefine(proto, key, methods[key]); } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods); } return methods; }; /***/ }), /* 137 */ /***/ (function(module, exports) { module.exports = {}; /***/ }), /* 138 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var create = __webpack_require__(53); var descriptor = __webpack_require__(24); var setToStringTag = __webpack_require__(33); var IteratorPrototype = {}; // 25.1.2.1.1 %IteratorPrototype%[@@iterator]() __webpack_require__(17)(IteratorPrototype, __webpack_require__(34)('iterator'), function () { return this; }); module.exports = function (Constructor, NAME, next) { Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) }); setToStringTag(Constructor, NAME + ' Iterator'); }; /***/ }), /* 139 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var $export = __webpack_require__(15); var $at = __webpack_require__(135)(false); $export($export.P, 'String', { // 21.1.3.3 String.prototype.codePointAt(pos) codePointAt: function codePointAt(pos) { return $at(this, pos); } }); /***/ }), /* 140 */ /***/ (function(module, exports, __webpack_require__) { // 21.1.3.6 String.prototype.endsWith(searchString [, endPosition]) 'use strict'; var $export = __webpack_require__(15); var toLength = __webpack_require__(45); var context = __webpack_require__(141); var ENDS_WITH = 'endsWith'; var $endsWith = ''[ENDS_WITH]; $export($export.P + $export.F * __webpack_require__(143)(ENDS_WITH), 'String', { endsWith: function endsWith(searchString /* , endPosition = @length */) { var that = context(this, searchString, ENDS_WITH); var endPosition = arguments.length > 1 ? arguments[1] : undefined; var len = toLength(that.length); var end = endPosition === undefined ? len : Math.min(toLength(endPosition), len); var search = String(searchString); return $endsWith ? $endsWith.call(that, search, end) : that.slice(end - search.length, end) === search; } }); /***/ }), /* 141 */ /***/ (function(module, exports, __webpack_require__) { // helper for String#{startsWith, endsWith, includes} var isRegExp = __webpack_require__(142); var defined = __webpack_require__(43); module.exports = function (that, searchString, NAME) { if (isRegExp(searchString)) throw TypeError('String#' + NAME + " doesn't accept regex!"); return String(defined(that)); }; /***/ }), /* 142 */ /***/ (function(module, exports, __webpack_require__) { // 7.2.8 IsRegExp(argument) var isObject = __webpack_require__(20); var cof = __webpack_require__(42); var MATCH = __webpack_require__(34)('match'); module.exports = function (it) { var isRegExp; return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp'); }; /***/ }), /* 143 */ /***/ (function(module, exports, __webpack_require__) { var MATCH = __webpack_require__(34)('match'); module.exports = function (KEY) { var re = /./; try { '/./'[KEY](re); } catch (e) { try { re[MATCH] = false; return !'/./'[KEY](re); } catch (f) { /* empty */ } } return true; }; /***/ }), /* 144 */ /***/ (function(module, exports, __webpack_require__) { // 21.1.3.7 String.prototype.includes(searchString, position = 0) 'use strict'; var $export = __webpack_require__(15); var context = __webpack_require__(141); var INCLUDES = 'includes'; $export($export.P + $export.F * __webpack_require__(143)(INCLUDES), 'String', { includes: function includes(searchString /* , position = 0 */) { return !!~context(this, searchString, INCLUDES) .indexOf(searchString, arguments.length > 1 ? arguments[1] : undefined); } }); /***/ }), /* 145 */ /***/ (function(module, exports, __webpack_require__) { var $export = __webpack_require__(15); $export($export.P, 'String', { // 21.1.3.13 String.prototype.repeat(count) repeat: __webpack_require__(98) }); /***/ }), /* 146 */ /***/ (function(module, exports, __webpack_require__) { // 21.1.3.18 String.prototype.startsWith(searchString [, position ]) 'use strict'; var $export = __webpack_require__(15); var toLength = __webpack_require__(45); var context = __webpack_require__(141); var STARTS_WITH = 'startsWith'; var $startsWith = ''[STARTS_WITH]; $export($export.P + $export.F * __webpack_require__(143)(STARTS_WITH), 'String', { startsWith: function startsWith(searchString /* , position = 0 */) { var that = context(this, searchString, STARTS_WITH); var index = toLength(Math.min(arguments.length > 1 ? arguments[1] : undefined, that.length)); var search = String(searchString); return $startsWith ? $startsWith.call(that, search, index) : that.slice(index, index + search.length) === search; } }); /***/ }), /* 147 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; // B.2.3.2 String.prototype.anchor(name) __webpack_require__(148)('anchor', function (createHTML) { return function anchor(name) { return createHTML(this, 'a', 'name', name); }; }); /***/ }), /* 148 */ /***/ (function(module, exports, __webpack_require__) { var $export = __webpack_require__(15); var fails = __webpack_require__(14); var defined = __webpack_require__(43); var quot = /"/g; // B.2.3.2.1 CreateHTML(string, tag, attribute, value) var createHTML = function (string, tag, attribute, value) { var S = String(defined(string)); var p1 = ' Array#map // 2 -> Array#filter // 3 -> Array#some // 4 -> Array#every // 5 -> Array#find // 6 -> Array#findIndex var ctx = __webpack_require__(30); var IObject = __webpack_require__(41); var toObject = __webpack_require__(65); var toLength = __webpack_require__(45); var asc = __webpack_require__(182); module.exports = function (TYPE, $create) { var IS_MAP = TYPE == 1; var IS_FILTER = TYPE == 2; var IS_SOME = TYPE == 3; var IS_EVERY = TYPE == 4; var IS_FIND_INDEX = TYPE == 6; var NO_HOLES = TYPE == 5 || IS_FIND_INDEX; var create = $create || asc; return function ($this, callbackfn, that) { var O = toObject($this); var self = IObject(O); var f = ctx(callbackfn, that, 3); var length = toLength(self.length); var index = 0; var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined; var val, res; for (;length > index; index++) if (NO_HOLES || index in self) { val = self[index]; res = f(val, index, O); if (TYPE) { if (IS_MAP) result[index] = res; // map else if (res) switch (TYPE) { case 3: return true; // some case 5: return val; // find case 6: return index; // findIndex case 2: result.push(val); // filter } else if (IS_EVERY) return false; // every } } return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result; }; }; /***/ }), /* 182 */ /***/ (function(module, exports, __webpack_require__) { // 9.4.2.3 ArraySpeciesCreate(originalArray, length) var speciesConstructor = __webpack_require__(183); module.exports = function (original, length) { return new (speciesConstructor(original))(length); }; /***/ }), /* 183 */ /***/ (function(module, exports, __webpack_require__) { var isObject = __webpack_require__(20); var isArray = __webpack_require__(52); var SPECIES = __webpack_require__(34)('species'); module.exports = function (original) { var C; if (isArray(original)) { C = original.constructor; // cross-realm fallback if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined; if (isObject(C)) { C = C[SPECIES]; if (C === null) C = undefined; } } return C === undefined ? Array : C; }; /***/ }), /* 184 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var $export = __webpack_require__(15); var $map = __webpack_require__(181)(1); $export($export.P + $export.F * !__webpack_require__(177)([].map, true), 'Array', { // 22.1.3.15 / 15.4.4.19 Array.prototype.map(callbackfn [, thisArg]) map: function map(callbackfn /* , thisArg */) { return $map(this, callbackfn, arguments[1]); } }); /***/ }), /* 185 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var $export = __webpack_require__(15); var $filter = __webpack_require__(181)(2); $export($export.P + $export.F * !__webpack_require__(177)([].filter, true), 'Array', { // 22.1.3.7 / 15.4.4.20 Array.prototype.filter(callbackfn [, thisArg]) filter: function filter(callbackfn /* , thisArg */) { return $filter(this, callbackfn, arguments[1]); } }); /***/ }), /* 186 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var $export = __webpack_require__(15); var $some = __webpack_require__(181)(3); $export($export.P + $export.F * !__webpack_require__(177)([].some, true), 'Array', { // 22.1.3.23 / 15.4.4.17 Array.prototype.some(callbackfn [, thisArg]) some: function some(callbackfn /* , thisArg */) { return $some(this, callbackfn, arguments[1]); } }); /***/ }), /* 187 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var $export = __webpack_require__(15); var $every = __webpack_require__(181)(4); $export($export.P + $export.F * !__webpack_require__(177)([].every, true), 'Array', { // 22.1.3.5 / 15.4.4.16 Array.prototype.every(callbackfn [, thisArg]) every: function every(callbackfn /* , thisArg */) { return $every(this, callbackfn, arguments[1]); } }); /***/ }), /* 188 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var $export = __webpack_require__(15); var $reduce = __webpack_require__(189); $export($export.P + $export.F * !__webpack_require__(177)([].reduce, true), 'Array', { // 22.1.3.18 / 15.4.4.21 Array.prototype.reduce(callbackfn [, initialValue]) reduce: function reduce(callbackfn /* , initialValue */) { return $reduce(this, callbackfn, arguments.length, arguments[1], false); } }); /***/ }), /* 189 */ /***/ (function(module, exports, __webpack_require__) { var aFunction = __webpack_require__(31); var toObject = __webpack_require__(65); var IObject = __webpack_require__(41); var toLength = __webpack_require__(45); module.exports = function (that, callbackfn, aLen, memo, isRight) { aFunction(callbackfn); var O = toObject(that); var self = IObject(O); var length = toLength(O.length); var index = isRight ? length - 1 : 0; var i = isRight ? -1 : 1; if (aLen < 2) for (;;) { if (index in self) { memo = self[index]; index += i; break; } index += i; if (isRight ? index < 0 : length = 0 : length > index; index += i) if (index in self) { memo = callbackfn(memo, self[index], index, O); } return memo; }; /***/ }), /* 190 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var $export = __webpack_require__(15); var $reduce = __webpack_require__(189); $export($export.P + $export.F * !__webpack_require__(177)([].reduceRight, true), 'Array', { // 22.1.3.19 / 15.4.4.22 Array.prototype.reduceRight(callbackfn [, initialValue]) reduceRight: function reduceRight(callbackfn /* , initialValue */) { return $reduce(this, callbackfn, arguments.length, arguments[1], true); } }); /***/ }), /* 191 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var $export = __webpack_require__(15); var $indexOf = __webpack_require__(44)(false); var $native = [].indexOf; var NEGATIVE_ZERO = !!$native && 1 / [1].indexOf(1, -0) < 0; $export($export.P + $export.F * (NEGATIVE_ZERO || !__webpack_require__(177)($native)), 'Array', { // 22.1.3.11 / 15.4.4.14 Array.prototype.indexOf(searchElement [, fromIndex]) indexOf: function indexOf(searchElement /* , fromIndex = 0 */) { return NEGATIVE_ZERO // convert -0 to +0 ? $native.apply(this, arguments) || 0 : $indexOf(this, searchElement, arguments[1]); } }); /***/ }), /* 192 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var $export = __webpack_require__(15); var toIObject = __webpack_require__(40); var toInteger = __webpack_require__(46); var toLength = __webpack_require__(45); var $native = [].lastIndexOf; var NEGATIVE_ZERO = !!$native && 1 / [1].lastIndexOf(1, -0) < 0; $export($export.P + $export.F * (NEGATIVE_ZERO || !__webpack_require__(177)($native)), 'Array', { // 22.1.3.14 / 15.4.4.15 Array.prototype.lastIndexOf(searchElement [, fromIndex]) lastIndexOf: function lastIndexOf(searchElement /* , fromIndex = @[*-1] */) { // convert -0 to +0 if (NEGATIVE_ZERO) return $native.apply(this, arguments) || 0; var O = toIObject(this); var length = toLength(O.length); var index = length - 1; if (arguments.length > 1) index = Math.min(index, toInteger(arguments[1])); if (index < 0) index = length + index; for (;index >= 0; index--) if (index in O) if (O[index] === searchElement) return index || 0; return -1; } }); /***/ }), /* 193 */ /***/ (function(module, exports, __webpack_require__) { // 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length) var $export = __webpack_require__(15); $export($export.P, 'Array', { copyWithin: __webpack_require__(194) }); __webpack_require__(195)('copyWithin'); /***/ }), /* 194 */ /***/ (function(module, exports, __webpack_require__) { // 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length) 'use strict'; var toObject = __webpack_require__(65); var toAbsoluteIndex = __webpack_require__(47); var toLength = __webpack_require__(45); module.exports = [].copyWithin || function copyWithin(target /* = 0 */, start /* = 0, end = @length */) { var O = toObject(this); var len = toLength(O.length); var to = toAbsoluteIndex(target, len); var from = toAbsoluteIndex(start, len); var end = arguments.length > 2 ? arguments[2] : undefined; var count = Math.min((end === undefined ? len : toAbsoluteIndex(end, len)) - from, len - to); var inc = 1; if (from < to && to < from + count) { inc = -1; from += count - 1; to += count - 1; } while (count-- > 0) { if (from in O) O[to] = O[from]; else delete O[to]; to += inc; from += inc; } return O; }; /***/ }), /* 195 */ /***/ (function(module, exports, __webpack_require__) { // 22.1.3.31 Array.prototype[@@unscopables] var UNSCOPABLES = __webpack_require__(34)('unscopables'); var ArrayProto = Array.prototype; if (ArrayProto[UNSCOPABLES] == undefined) __webpack_require__(17)(ArrayProto, UNSCOPABLES, {}); module.exports = function (key) { ArrayProto[UNSCOPABLES][key] = true; }; /***/ }), /* 196 */ /***/ (function(module, exports, __webpack_require__) { // 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length) var $export = __webpack_require__(15); $export($export.P, 'Array', { fill: __webpack_require__(197) }); __webpack_require__(195)('fill'); /***/ }), /* 197 */ /***/ (function(module, exports, __webpack_require__) { // 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length) 'use strict'; var toObject = __webpack_require__(65); var toAbsoluteIndex = __webpack_require__(47); var toLength = __webpack_require__(45); module.exports = function fill(value /* , start = 0, end = @length */) { var O = toObject(this); var length = toLength(O.length); var aLen = arguments.length; var index = toAbsoluteIndex(aLen > 1 ? arguments[1] : undefined, length); var end = aLen > 2 ? arguments[2] : undefined; var endPos = end === undefined ? length : toAbsoluteIndex(end, length); while (endPos > index) O[index++] = value; return O; }; /***/ }), /* 198 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; // 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined) var $export = __webpack_require__(15); var $find = __webpack_require__(181)(5); var KEY = 'find'; var forced = true; // Shouldn't skip holes if (KEY in []) Array(1)[KEY](function () { forced = false; }); $export($export.P + $export.F * forced, 'Array', { find: function find(callbackfn /* , that = undefined */) { return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined); } }); __webpack_require__(195)(KEY); /***/ }), /* 199 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; // 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined) var $export = __webpack_require__(15); var $find = __webpack_require__(181)(6); var KEY = 'findIndex'; var forced = true; // Shouldn't skip holes if (KEY in []) Array(1)[KEY](function () { forced = false; }); $export($export.P + $export.F * forced, 'Array', { findIndex: function findIndex(callbackfn /* , that = undefined */) { return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined); } }); __webpack_require__(195)(KEY); /***/ }), /* 200 */ /***/ (function(module, exports, __webpack_require__) { __webpack_require__(201)('Array'); /***/ }), /* 201 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var global = __webpack_require__(11); var dP = __webpack_require__(18); var DESCRIPTORS = __webpack_require__(13); var SPECIES = __webpack_require__(34)('species'); module.exports = function (KEY) { var C = global[KEY]; if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, { configurable: true, get: function () { return this; } }); }; /***/ }), /* 202 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var addToUnscopables = __webpack_require__(195); var step = __webpack_require__(203); var Iterators = __webpack_require__(137); var toIObject = __webpack_require__(40); // 22.1.3.4 Array.prototype.entries() // 22.1.3.13 Array.prototype.keys() // 22.1.3.29 Array.prototype.values() // 22.1.3.30 Array.prototype[@@iterator]() module.exports = __webpack_require__(136)(Array, 'Array', function (iterated, kind) { this._t = toIObject(iterated); // target this._i = 0; // next index this._k = kind; // kind // 22.1.5.2.1 %ArrayIteratorPrototype%.next() }, function () { var O = this._t; var kind = this._k; var index = this._i++; if (!O || index >= O.length) { this._t = undefined; return step(1); } if (kind == 'keys') return step(0, index); if (kind == 'values') return step(0, O[index]); return step(0, [index, O[index]]); }, 'values'); // argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7) Iterators.Arguments = Iterators.Array; addToUnscopables('keys'); addToUnscopables('values'); addToUnscopables('entries'); /***/ }), /* 203 */ /***/ (function(module, exports) { module.exports = function (done, value) { return { value: value, done: !!done }; }; /***/ }), /* 204 */ /***/ (function(module, exports, __webpack_require__) { var global = __webpack_require__(11); var inheritIfRequired = __webpack_require__(95); var dP = __webpack_require__(18).f; var gOPN = __webpack_require__(57).f; var isRegExp = __webpack_require__(142); var $flags = __webpack_require__(205); var $RegExp = global.RegExp; var Base = $RegExp; var proto = $RegExp.prototype; var re1 = /a/g; var re2 = /a/g; // "new" creates a new object, old webkit buggy here var CORRECT_NEW = new $RegExp(re1) !== re1; if (__webpack_require__(13) && (!CORRECT_NEW || __webpack_require__(14)(function () { re2[__webpack_require__(34)('match')] = false; // RegExp constructor can alter flags and IsRegExp works correct with @@match return $RegExp(re1) != re1 || $RegExp(re2) == re2 || $RegExp(re1, 'i') != '/a/i'; }))) { $RegExp = function RegExp(p, f) { var tiRE = this instanceof $RegExp; var piRE = isRegExp(p); var fiU = f === undefined; return !tiRE && piRE && p.constructor === $RegExp && fiU ? p : inheritIfRequired(CORRECT_NEW ? new Base(piRE && !fiU ? p.source : p, f) : Base((piRE = p instanceof $RegExp) ? p.source : p, piRE && fiU ? $flags.call(p) : f) , tiRE ? this : proto, $RegExp); }; var proxy = function (key) { key in $RegExp || dP($RegExp, key, { configurable: true, get: function () { return Base[key]; }, set: function (it) { Base[key] = it; } }); }; for (var keys = gOPN(Base), i = 0; keys.length > i;) proxy(keys[i++]); proto.constructor = $RegExp; $RegExp.prototype = proto; __webpack_require__(25)(global, 'RegExp', $RegExp); } __webpack_require__(201)('RegExp'); /***/ }), /* 205 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; // 21.2.5.3 get RegExp.prototype.flags var anObject = __webpack_require__(19); module.exports = function () { var that = anObject(this); var result = ''; if (that.global) result += 'g'; if (that.ignoreCase) result += 'i'; if (that.multiline) result += 'm'; if (that.unicode) result += 'u'; if (that.sticky) result += 'y'; return result; }; /***/ }), /* 206 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var regexpExec = __webpack_require__(207); __webpack_require__(15)({ target: 'RegExp', proto: true, forced: regexpExec !== /./.exec }, { exec: regexpExec }); /***/ }), /* 207 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var regexpFlags = __webpack_require__(205); var nativeExec = RegExp.prototype.exec; // This always refers to the native implementation, because the // String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js, // which loads this file before patching the method. var nativeReplace = String.prototype.replace; var patchedExec = nativeExec; var LAST_INDEX = 'lastIndex'; var UPDATES_LAST_INDEX_WRONG = (function () { var re1 = /a/, re2 = /b*/g; nativeExec.call(re1, 'a'); nativeExec.call(re2, 'a'); return re1[LAST_INDEX] !== 0 || re2[LAST_INDEX] !== 0; })(); // nonparticipating capturing group, copied from es5-shim's String#split patch. var NPCG_INCLUDED = /()??/.exec('')[1] !== undefined; var PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED; if (PATCH) { patchedExec = function exec(str) { var re = this; var lastIndex, reCopy, match, i; if (NPCG_INCLUDED) { reCopy = new RegExp('^' + re.source + '$(?!\\s)', regexpFlags.call(re)); } if (UPDATES_LAST_INDEX_WRONG) lastIndex = re[LAST_INDEX]; match = nativeExec.call(re, str); if (UPDATES_LAST_INDEX_WRONG && match) { re[LAST_INDEX] = re.global ? match.index + match[0].length : lastIndex; } if (NPCG_INCLUDED && match && match.length > 1) { // Fix browsers whose `exec` methods don't consistently return `undefined` // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/ // eslint-disable-next-line no-loop-func nativeReplace.call(match[0], reCopy, function () { for (i = 1; i < arguments.length - 2; i++) { if (arguments[i] === undefined) match[i] = undefined; } }); } return match; }; } module.exports = patchedExec; /***/ }), /* 208 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; __webpack_require__(209); var anObject = __webpack_require__(19); var $flags = __webpack_require__(205); var DESCRIPTORS = __webpack_require__(13); var TO_STRING = 'toString'; var $toString = /./[TO_STRING]; var define = function (fn) { __webpack_require__(25)(RegExp.prototype, TO_STRING, fn, true); }; // 21.2.5.14 RegExp.prototype.toString() if (__webpack_require__(14)(function () { return $toString.call({ source: 'a', flags: 'b' }) != '/a/b'; })) { define(function toString() { var R = anObject(this); return '/'.concat(R.source, '/', 'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined); }); // FF44- RegExp#toString has a wrong name } else if ($toString.name != TO_STRING) { define(function toString() { return $toString.call(this); }); } /***/ }), /* 209 */ /***/ (function(module, exports, __webpack_require__) { // 21.2.5.3 get RegExp.prototype.flags() if (__webpack_require__(13) && /./g.flags != 'g') __webpack_require__(18).f(RegExp.prototype, 'flags', { configurable: true, get: __webpack_require__(205) }); /***/ }), /* 210 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var anObject = __webpack_require__(19); var toLength = __webpack_require__(45); var advanceStringIndex = __webpack_require__(211); var regExpExec = __webpack_require__(212); // @@match logic __webpack_require__(213)('match', 1, function (defined, MATCH, $match, maybeCallNative) { return [ // `String.prototype.match` method // https://tc39.github.io/ecma262/#sec-string.prototype.match function match(regexp) { var O = defined(this); var fn = regexp == undefined ? undefined : regexp[MATCH]; return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O)); }, // `RegExp.prototype[@@match]` method // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@match function (regexp) { var res = maybeCallNative($match, regexp, this); if (res.done) return res.value; var rx = anObject(regexp); var S = String(this); if (!rx.global) return regExpExec(rx, S); var fullUnicode = rx.unicode; rx.lastIndex = 0; var A = []; var n = 0; var result; while ((result = regExpExec(rx, S)) !== null) { var matchStr = String(result[0]); A[n] = matchStr; if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode); n++; } return n === 0 ? null : A; } ]; }); /***/ }), /* 211 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var at = __webpack_require__(135)(true); // `AdvanceStringIndex` abstract operation // https://tc39.github.io/ecma262/#sec-advancestringindex module.exports = function (S, index, unicode) { return index + (unicode ? at(S, index).length : 1); }; /***/ }), /* 212 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var classof = __webpack_require__(82); var builtinExec = RegExp.prototype.exec; // `RegExpExec` abstract operation // https://tc39.github.io/ecma262/#sec-regexpexec module.exports = function (R, S) { var exec = R.exec; if (typeof exec === 'function') { var result = exec.call(R, S); if (typeof result !== 'object') { throw new TypeError('RegExp exec method returned something other than an Object or null'); } return result; } if (classof(R) !== 'RegExp') { throw new TypeError('RegExp#exec called on incompatible receiver'); } return builtinExec.call(R, S); }; /***/ }), /* 213 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; __webpack_require__(206); var redefine = __webpack_require__(25); var hide = __webpack_require__(17); var fails = __webpack_require__(14); var defined = __webpack_require__(43); var wks = __webpack_require__(34); var regexpExec = __webpack_require__(207); var SPECIES = wks('species'); var REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () { // #replace needs built-in support for named groups. // #match works fine because it just return the exec results, even if it has // a "grops" property. var re = /./; re.exec = function () { var result = []; result.groups = { a: '7' }; return result; }; return ''.replace(re, '$') !== '7'; }); var SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = (function () { // Chrome 51 has a buggy "split" implementation when RegExp#exec !== nativeExec var re = /(?:)/; var originalExec = re.exec; re.exec = function () { return originalExec.apply(this, arguments); }; var result = 'ab'.split(re); return result.length === 2 && result[0] === 'a' && result[1] === 'b'; })(); module.exports = function (KEY, length, exec) { var SYMBOL = wks(KEY); var DELEGATES_TO_SYMBOL = !fails(function () { // String methods call symbol-named RegEp methods var O = {}; O[SYMBOL] = function () { return 7; }; return ''[KEY](O) != 7; }); var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL ? !fails(function () { // Symbol-named RegExp methods call .exec var execCalled = false; var re = /a/; re.exec = function () { execCalled = true; return null; }; if (KEY === 'split') { // RegExp[@@split] doesn't call the regex's exec method, but first creates // a new one. We need to return the patched regex when creating the new one. re.constructor = {}; re.constructor[SPECIES] = function () { return re; }; } re[SYMBOL](''); return !execCalled; }) : undefined; if ( !DELEGATES_TO_SYMBOL || !DELEGATES_TO_EXEC || (KEY === 'replace' && !REPLACE_SUPPORTS_NAMED_GROUPS) || (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC) ) { var nativeRegExpMethod = /./[SYMBOL]; var fns = exec( defined, SYMBOL, ''[KEY], function maybeCallNative(nativeMethod, regexp, str, arg2, forceStringMethod) { if (regexp.exec === regexpExec) { if (DELEGATES_TO_SYMBOL && !forceStringMethod) { // The native String method already delegates to @@method (this // polyfilled function), leasing to infinite recursion. // We avoid it by directly calling the native @@method method. return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) }; } return { done: true, value: nativeMethod.call(str, regexp, arg2) }; } return { done: false }; } ); var strfn = fns[0]; var rxfn = fns[1]; redefine(String.prototype, KEY, strfn); hide(RegExp.prototype, SYMBOL, length == 2 // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue) // 21.2.5.11 RegExp.prototype[@@split](string, limit) ? function (string, arg) { return rxfn.call(string, this, arg); } // 21.2.5.6 RegExp.prototype[@@match](string) // 21.2.5.9 RegExp.prototype[@@search](string) : function (string) { return rxfn.call(string, this); } ); } }; /***/ }), /* 214 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var anObject = __webpack_require__(19); var toObject = __webpack_require__(65); var toLength = __webpack_require__(45); var toInteger = __webpack_require__(46); var advanceStringIndex = __webpack_require__(211); var regExpExec = __webpack_require__(212); var max = Math.max; var min = Math.min; var floor = Math.floor; var SUBSTITUTION_SYMBOLS = /\$([$&`']|\d\d?|]*>)/g; var SUBSTITUTION_SYMBOLS_NO_NAMED = /\$([$&`']|\d\d?)/g; var maybeToString = function (it) { return it === undefined ? it : String(it); }; // @@replace logic __webpack_require__(213)('replace', 2, function (defined, REPLACE, $replace, maybeCallNative) { return [ // `String.prototype.replace` method // https://tc39.github.io/ecma262/#sec-string.prototype.replace function replace(searchValue, replaceValue) { var O = defined(this); var fn = searchValue == undefined ? undefined : searchValue[REPLACE]; return fn !== undefined ? fn.call(searchValue, O, replaceValue) : $replace.call(String(O), searchValue, replaceValue); }, // `RegExp.prototype[@@replace]` method // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace function (regexp, replaceValue) { var res = maybeCallNative($replace, regexp, this, replaceValue); if (res.done) return res.value; var rx = anObject(regexp); var S = String(this); var functionalReplace = typeof replaceValue === 'function'; if (!functionalReplace) replaceValue = String(replaceValue); var global = rx.global; if (global) { var fullUnicode = rx.unicode; rx.lastIndex = 0; } var results = []; while (true) { var result = regExpExec(rx, S); if (result === null) break; results.push(result); if (!global) break; var matchStr = String(result[0]); if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode); } var accumulatedResult = ''; var nextSourcePosition = 0; for (var i = 0; i < results.length; i++) { result = results[i]; var matched = String(result[0]); var position = max(min(toInteger(result.index), S.length), 0); var captures = []; // NOTE: This is equivalent to // captures = result.slice(1).map(maybeToString) // but for some reason `nativeSlice.call(result, 1, result.length)` (called in // the slice polyfill when slicing native arrays) "doesn't work" in safari 9 and // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it. for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j])); var namedCaptures = result.groups; if (functionalReplace) { var replacerArgs = [matched].concat(captures, position, S); if (namedCaptures !== undefined) replacerArgs.push(namedCaptures); var replacement = String(replaceValue.apply(undefined, replacerArgs)); } else { replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue); } if (position >= nextSourcePosition) { accumulatedResult += S.slice(nextSourcePosition, position) + replacement; nextSourcePosition = position + matched.length; } } return accumulatedResult + S.slice(nextSourcePosition); } ]; // https://tc39.github.io/ecma262/#sec-getsubstitution function getSubstitution(matched, str, position, captures, namedCaptures, replacement) { var tailPos = position + matched.length; var m = captures.length; var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED; if (namedCaptures !== undefined) { namedCaptures = toObject(namedCaptures); symbols = SUBSTITUTION_SYMBOLS; } return $replace.call(replacement, symbols, function (match, ch) { var capture; switch (ch.charAt(0)) { case '$': return '$'; case '&': return matched; case '`': return str.slice(0, position); case "'": return str.slice(tailPos); case '>> 0; if (lim === 0) return []; if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : []; var p = 0; var q = 0; var A = []; while (q < S.length) { splitter.lastIndex = SUPPORTS_Y ? q : 0; var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q)); var e; if ( z === null || (e = $min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p ) { q = advanceStringIndex(S, q, unicodeMatching); } else { A.push(S.slice(p, q)); if (A.length === lim) return A; for (var i = 1; i 0; m = m * 256 + buffer[i], i--, nBits -= 8); if (e === 0) { e = 1 - eBias; } else if (e === eMax) { return m ? NaN : s ? -Infinity : Infinity; } else { m = m + pow(2, mLen); e = e - eBias; } return (s ? -1 : 1) * m * pow(2, e - mLen); } function unpackI32(bytes) { return bytes[3] < 24 | bytes[2] < 16 | bytes[1] < 8 | bytes[0]; } function packI8(it) { return [it & 0xff]; } function packI16(it) { return [it & 0xff, it >> 8 & 0xff]; } function packI32(it) { return [it & 0xff, it >> 8 & 0xff, it >> 16 & 0xff, it >> 24 & 0xff]; } function packF64(it) { return packIEEE754(it, 52, 8); } function packF32(it) { return packIEEE754(it, 23, 4); } function addGetter(C, key, internal) { dP(C[PROTOTYPE], key, { get: function () { return this[internal]; } }); } function get(view, bytes, index, isLittleEndian) { var numIndex = +index; var intIndex = toIndex(numIndex); if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX); var store = view[$BUFFER]._b; var start = intIndex + view[$OFFSET]; var pack = store.slice(start, start + bytes); return isLittleEndian ? pack : pack.reverse(); } function set(view, bytes, index, conversion, value, isLittleEndian) { var numIndex = +index; var intIndex = toIndex(numIndex); if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX); var store = view[$BUFFER]._b; var start = intIndex + view[$OFFSET]; var pack = conversion(+value); for (var i = 0; i < bytes; i++) store[start + i] = pack[isLittleEndian ? i : bytes - i - 1]; } if (!$typed.ABV) { $ArrayBuffer = function ArrayBuffer(length) { anInstance(this, $ArrayBuffer, ARRAY_BUFFER); var byteLength = toIndex(length); this._b = arrayFill.call(new Array(byteLength), 0); this[$LENGTH] = byteLength; }; $DataView = function DataView(buffer, byteOffset, byteLength) { anInstance(this, $DataView, DATA_VIEW); anInstance(buffer, $ArrayBuffer, DATA_VIEW); var bufferLength = buffer[$LENGTH]; var offset = toInteger(byteOffset); if (offset < 0 || offset > bufferLength) throw RangeError('Wrong offset!'); byteLength = byteLength === undefined ? bufferLength - offset : toLength(byteLength); if (offset + byteLength > bufferLength) throw RangeError(WRONG_LENGTH); this[$BUFFER] = buffer; this[$OFFSET] = offset; this[$LENGTH] = byteLength; }; if (DESCRIPTORS) { addGetter($ArrayBuffer, BYTE_LENGTH, '_l'); addGetter($DataView, BUFFER, '_b'); addGetter($DataView, BYTE_LENGTH, '_l'); addGetter($DataView, BYTE_OFFSET, '_o'); } redefineAll($DataView[PROTOTYPE], { getInt8: function getInt8(byteOffset) { return get(this, 1, byteOffset)[0] < 24 >> 24; }, getUint8: function getUint8(byteOffset) { return get(this, 1, byteOffset)[0]; }, getInt16: function getInt16(byteOffset /* , littleEndian */) { var bytes = get(this, 2, byteOffset, arguments[1]); return (bytes[1] < 8 | bytes[0]) < 16 >> 16; }, getUint16: function getUint16(byteOffset /* , littleEndian */) { var bytes = get(this, 2, byteOffset, arguments[1]); return bytes[1] < 8 | bytes[0]; }, getInt32: function getInt32(byteOffset /* , littleEndian */) { return unpackI32(get(this, 4, byteOffset, arguments[1])); }, getUint32: function getUint32(byteOffset /* , littleEndian */) { return unpackI32(get(this, 4, byteOffset, arguments[1])) >>> 0; }, getFloat32: function getFloat32(byteOffset /* , littleEndian */) { return unpackIEEE754(get(this, 4, byteOffset, arguments[1]), 23, 4); }, getFloat64: function getFloat64(byteOffset /* , littleEndian */) { return unpackIEEE754(get(this, 8, byteOffset, arguments[1]), 52, 8); }, setInt8: function setInt8(byteOffset, value) { set(this, 1, byteOffset, packI8, value); }, setUint8: function setUint8(byteOffset, value) { set(this, 1, byteOffset, packI8, value); }, setInt16: function setInt16(byteOffset, value /* , littleEndian */) { set(this, 2, byteOffset, packI16, value, arguments[2]); }, setUint16: function setUint16(byteOffset, value /* , littleEndian */) { set(this, 2, byteOffset, packI16, value, arguments[2]); }, setInt32: function setInt32(byteOffset, value /* , littleEndian */) { set(this, 4, byteOffset, packI32, value, arguments[2]); }, setUint32: function setUint32(byteOffset, value /* , littleEndian */) { set(this, 4, byteOffset, packI32, value, arguments[2]); }, setFloat32: function setFloat32(byteOffset, value /* , littleEndian */) { set(this, 4, byteOffset, packF32, value, arguments[2]); }, setFloat64: function setFloat64(byteOffset, value /* , littleEndian */) { set(this, 8, byteOffset, packF64, value, arguments[2]); } }); } else { if (!fails(function () { $ArrayBuffer(1); }) || !fails(function () { new $ArrayBuffer(-1); // eslint-disable-line no-new }) || fails(function () { new $ArrayBuffer(); // eslint-disable-line no-new new $ArrayBuffer(1.5); // eslint-disable-line no-new new $ArrayBuffer(NaN); // eslint-disable-line no-new return $ArrayBuffer.name != ARRAY_BUFFER; })) { $ArrayBuffer = function ArrayBuffer(length) { anInstance(this, $ArrayBuffer); return new BaseBuffer(toIndex(length)); }; var ArrayBufferProto = $ArrayBuffer[PROTOTYPE] = BaseBuffer[PROTOTYPE]; for (var keys = gOPN(BaseBuffer), j = 0, key; keys.length > j;) { if (!((key = keys[j++]) in $ArrayBuffer)) hide($ArrayBuffer, key, BaseBuffer[key]); } if (!LIBRARY) ArrayBufferProto.constructor = $ArrayBuffer; } // iOS Safari 7.x bug var view = new $DataView(new $ArrayBuffer(2)); var $setInt8 = $DataView[PROTOTYPE].setInt8; view.setInt8(0, 2147483648); view.setInt8(1, 2147483649); if (view.getInt8(0) || !view.getInt8(1)) redefineAll($DataView[PROTOTYPE], { setInt8: function setInt8(byteOffset, value) { $setInt8.call(this, byteOffset, value < 24 >> 24); }, setUint8: function setUint8(byteOffset, value) { $setInt8.call(this, byteOffset, value < 24 >> 24); } }, true); } setToStringTag($ArrayBuffer, ARRAY_BUFFER); setToStringTag($DataView, DATA_VIEW); hide($DataView[PROTOTYPE], $typed.VIEW, true); exports[ARRAY_BUFFER] = $ArrayBuffer; exports[DATA_VIEW] = $DataView; /***/ }), /* 239 */ /***/ (function(module, exports, __webpack_require__) { // https://tc39.github.io/ecma262/#sec-toindex var toInteger = __webpack_require__(46); var toLength = __webpack_require__(45); module.exports = function (it) { if (it === undefined) return 0; var number = toInteger(it); var length = toLength(number); if (number !== length) throw RangeError('Wrong length!'); return length; }; /***/ }), /* 240 */ /***/ (function(module, exports, __webpack_require__) { var $export = __webpack_require__(15); $export($export.G + $export.W + $export.F * !__webpack_require__(237).ABV, { DataView: __webpack_require__(238).DataView }); /***/ }), /* 241 */ /***/ (function(module, exports, __webpack_require__) { __webpack_require__(242)('Int8', 1, function (init) { return function Int8Array(data, byteOffset, length) { return init(this, data, byteOffset, length); }; }); /***/ }), /* 242 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; if (__webpack_require__(13)) { var LIBRARY = __webpack_require__(29); var global = __webpack_require__(11); var fails = __webpack_require__(14); var $export = __webpack_require__(15); var $typed = __webpack_require__(237); var $buffer = __webpack_require__(238); var ctx = __webpack_require__(30); var anInstance = __webpack_require__(219); var propertyDesc = __webpack_require__(24); var hide = __webpack_require__(17); var redefineAll = __webpack_require__(227); var toInteger = __webpack_require__(46); var toLength = __webpack_require__(45); var toIndex = __webpack_require__(239); var toAbsoluteIndex = __webpack_require__(47); var toPrimitive = __webpack_require__(23); var has = __webpack_require__(12); var classof = __webpack_require__(82); var isObject = __webpack_require__(20); var toObject = __webpack_require__(65); var isArrayIter = __webpack_require__(171); var create = __webpack_require__(53); var getPrototypeOf = __webpack_require__(66); var gOPN = __webpack_require__(57).f; var getIterFn = __webpack_require__(173); var uid = __webpack_require__(26); var wks = __webpack_require__(34); var createArrayMethod = __webpack_require__(181); var createArrayIncludes = __webpack_require__(44); var speciesConstructor = __webpack_require__(217); var ArrayIterators = __webpack_require__(202); var Iterators = __webpack_require__(137); var $iterDetect = __webpack_require__(174); var setSpecies = __webpack_require__(201); var arrayFill = __webpack_require__(197); var arrayCopyWithin = __webpack_require__(194); var $DP = __webpack_require__(18); var $GOPD = __webpack_require__(58); var dP = $DP.f; var gOPD = $GOPD.f; var RangeError = global.RangeError; var TypeError = global.TypeError; var Uint8Array = global.Uint8Array; var ARRAY_BUFFER = 'ArrayBuffer'; var SHARED_BUFFER = 'Shared' + ARRAY_BUFFER; var BYTES_PER_ELEMENT = 'BYTES_PER_ELEMENT'; var PROTOTYPE = 'prototype'; var ArrayProto = Array[PROTOTYPE]; var $ArrayBuffer = $buffer.ArrayBuffer; var $DataView = $buffer.DataView; var arrayForEach = createArrayMethod(0); var arrayFilter = createArrayMethod(2); var arraySome = createArrayMethod(3); var arrayEvery = createArrayMethod(4); var arrayFind = createArrayMethod(5); var arrayFindIndex = createArrayMethod(6); var arrayIncludes = createArrayIncludes(true); var arrayIndexOf = createArrayIncludes(false); var arrayValues = ArrayIterators.values; var arrayKeys = ArrayIterators.keys; var arrayEntries = ArrayIterators.entries; var arrayLastIndexOf = ArrayProto.lastIndexOf; var arrayReduce = ArrayProto.reduce; var arrayReduceRight = ArrayProto.reduceRight; var arrayJoin = ArrayProto.join; var arraySort = ArrayProto.sort; var arraySlice = ArrayProto.slice; var arrayToString = ArrayProto.toString; var arrayToLocaleString = ArrayProto.toLocaleString; var ITERATOR = wks('iterator'); var TAG = wks('toStringTag'); var TYPED_CONSTRUCTOR = uid('typed_constructor'); var DEF_CONSTRUCTOR = uid('def_constructor'); var ALL_CONSTRUCTORS = $typed.CONSTR; var TYPED_ARRAY = $typed.TYPED; var VIEW = $typed.VIEW; var WRONG_LENGTH = 'Wrong length!'; var $map = createArrayMethod(1, function (O, length) { return allocate(speciesConstructor(O, O[DEF_CONSTRUCTOR]), length); }); var LITTLE_ENDIAN = fails(function () { // eslint-disable-next-line no-undef return new Uint8Array(new Uint16Array([1]).buffer)[0] === 1; }); var FORCED_SET = !!Uint8Array && !!Uint8Array[PROTOTYPE].set && fails(function () { new Uint8Array(1).set({}); }); var toOffset = function (it, BYTES) { var offset = toInteger(it); if (offset < 0 || offset % BYTES) throw RangeError('Wrong offset!'); return offset; }; var validate = function (it) { if (isObject(it) && TYPED_ARRAY in it) return it; throw TypeError(it + ' is not a typed array!'); }; var allocate = function (C, length) { if (!(isObject(C) && TYPED_CONSTRUCTOR in C)) { throw TypeError('It is not a typed array constructor!'); } return new C(length); }; var speciesFromList = function (O, list) { return fromList(speciesConstructor(O, O[DEF_CONSTRUCTOR]), list); }; var fromList = function (C, list) { var index = 0; var length = list.length; var result = allocate(C, length); while (length > index) result[index] = list[index++]; return result; }; var addGetter = function (it, key, internal) { dP(it, key, { get: function () { return this._d[internal]; } }); }; var $from = function from(source /* , mapfn, thisArg */) { var O = toObject(source); var aLen = arguments.length; var mapfn = aLen > 1 ? arguments[1] : undefined; var mapping = mapfn !== undefined; var iterFn = getIterFn(O); var i, length, values, result, step, iterator; if (iterFn != undefined && !isArrayIter(iterFn)) { for (iterator = iterFn.call(O), values = [], i = 0; !(step = iterator.next()).done; i++) { values.push(step.value); } O = values; } if (mapping && aLen > 2) mapfn = ctx(mapfn, arguments[2], 2); for (i = 0, length = toLength(O.length), result = allocate(this, length); length > i; i++) { result[i] = mapping ? mapfn(O[i], i) : O[i]; } return result; }; var $of = function of(/* ...items */) { var index = 0; var length = arguments.length; var result = allocate(this, length); while (length > index) result[index] = arguments[index++]; return result; }; // iOS Safari 6.x fails here var TO_LOCALE_BUG = !!Uint8Array && fails(function () { arrayToLocaleString.call(new Uint8Array(1)); }); var $toLocaleString = function toLocaleString() { return arrayToLocaleString.apply(TO_LOCALE_BUG ? arraySlice.call(validate(this)) : validate(this), arguments); }; var proto = { copyWithin: function copyWithin(target, start /* , end */) { return arrayCopyWithin.call(validate(this), target, start, arguments.length > 2 ? arguments[2] : undefined); }, every: function every(callbackfn /* , thisArg */) { return arrayEvery(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined); }, fill: function fill(value /* , start, end */) { // eslint-disable-line no-unused-vars return arrayFill.apply(validate(this), arguments); }, filter: function filter(callbackfn /* , thisArg */) { return speciesFromList(this, arrayFilter(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined)); }, find: function find(predicate /* , thisArg */) { return arrayFind(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined); }, findIndex: function findIndex(predicate /* , thisArg */) { return arrayFindIndex(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined); }, forEach: function forEach(callbackfn /* , thisArg */) { arrayForEach(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined); }, indexOf: function indexOf(searchElement /* , fromIndex */) { return arrayIndexOf(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined); }, includes: function includes(searchElement /* , fromIndex */) { return arrayIncludes(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined); }, join: function join(separator) { // eslint-disable-line no-unused-vars return arrayJoin.apply(validate(this), arguments); }, lastIndexOf: function lastIndexOf(searchElement /* , fromIndex */) { // eslint-disable-line no-unused-vars return arrayLastIndexOf.apply(validate(this), arguments); }, map: function map(mapfn /* , thisArg */) { return $map(validate(this), mapfn, arguments.length > 1 ? arguments[1] : undefined); }, reduce: function reduce(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars return arrayReduce.apply(validate(this), arguments); }, reduceRight: function reduceRight(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars return arrayReduceRight.apply(validate(this), arguments); }, reverse: function reverse() { var that = this; var length = validate(that).length; var middle = Math.floor(length / 2); var index = 0; var value; while (index < middle) { value = that[index]; that[index++] = that[--length]; that[length] = value; } return that; }, some: function some(callbackfn /* , thisArg */) { return arraySome(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined); }, sort: function sort(comparefn) { return arraySort.call(validate(this), comparefn); }, subarray: function subarray(begin, end) { var O = validate(this); var length = O.length; var $begin = toAbsoluteIndex(begin, length); return new (speciesConstructor(O, O[DEF_CONSTRUCTOR]))( O.buffer, O.byteOffset + $begin * O.BYTES_PER_ELEMENT, toLength((end === undefined ? length : toAbsoluteIndex(end, length)) - $begin) ); } }; var $slice = function slice(start, end) { return speciesFromList(this, arraySlice.call(validate(this), start, end)); }; var $set = function set(arrayLike /* , offset */) { validate(this); var offset = toOffset(arguments[1], 1); var length = this.length; var src = toObject(arrayLike); var len = toLength(src.length); var index = 0; if (len + offset > length) throw RangeError(WRONG_LENGTH); while (index < len) this[offset + index] = src[index++]; }; var $iterators = { entries: function entries() { return arrayEntries.call(validate(this)); }, keys: function keys() { return arrayKeys.call(validate(this)); }, values: function values() { return arrayValues.call(validate(this)); } }; var isTAIndex = function (target, key) { return isObject(target) && target[TYPED_ARRAY] && typeof key != 'symbol' && key in target && String(+key) == String(key); }; var $getDesc = function getOwnPropertyDescriptor(target, key) { return isTAIndex(target, key = toPrimitive(key, true)) ? propertyDesc(2, target[key]) : gOPD(target, key); }; var $setDesc = function defineProperty(target, key, desc) { if (isTAIndex(target, key = toPrimitive(key, true)) && isObject(desc) && has(desc, 'value') && !has(desc, 'get') && !has(desc, 'set') // TODO: add validation descriptor w/o calling accessors && !desc.configurable && (!has(desc, 'writable') || desc.writable) && (!has(desc, 'enumerable') || desc.enumerable) ) { target[key] = desc.value; return target; } return dP(target, key, desc); }; if (!ALL_CONSTRUCTORS) { $GOPD.f = $getDesc; $DP.f = $setDesc; } $export($export.S + $export.F * !ALL_CONSTRUCTORS, 'Object', { getOwnPropertyDescriptor: $getDesc, defineProperty: $setDesc }); if (fails(function () { arrayToString.call({}); })) { arrayToString = arrayToLocaleString = function toString() { return arrayJoin.call(this); }; } var $TypedArrayPrototype$ = redefineAll({}, proto); redefineAll($TypedArrayPrototype$, $iterators); hide($TypedArrayPrototype$, ITERATOR, $iterators.values); redefineAll($TypedArrayPrototype$, { slice: $slice, set: $set, constructor: function () { /* noop */ }, toString: arrayToString, toLocaleString: $toLocaleString }); addGetter($TypedArrayPrototype$, 'buffer', 'b'); addGetter($TypedArrayPrototype$, 'byteOffset', 'o'); addGetter($TypedArrayPrototype$, 'byteLength', 'l'); addGetter($TypedArrayPrototype$, 'length', 'e'); dP($TypedArrayPrototype$, TAG, { get: function () { return this[TYPED_ARRAY]; } }); // eslint-disable-next-line max-statements module.exports = function (KEY, BYTES, wrapper, CLAMPED) { CLAMPED = !!CLAMPED; var NAME = KEY + (CLAMPED ? 'Clamped' : '') + 'Array'; var GETTER = 'get' + KEY; var SETTER = 'set' + KEY; var TypedArray = global[NAME]; var Base = TypedArray || {}; var TAC = TypedArray && getPrototypeOf(TypedArray); var FORCED = !TypedArray || !$typed.ABV; var O = {}; var TypedArrayPrototype = TypedArray && TypedArray[PROTOTYPE]; var getter = function (that, index) { var data = that._d; return data.v[GETTER](index * BYTES + data.o, LITTLE_ENDIAN); }; var setter = function (that, index, value) { var data = that._d; if (CLAMPED) value = (value = Math.round(value)) < 0 ? 0 : value > 0xff ? 0xff : value & 0xff; data.v[SETTER](index * BYTES + data.o, value, LITTLE_ENDIAN); }; var addElement = function (that, index) { dP(that, index, { get: function () { return getter(this, index); }, set: function (value) { return setter(this, index, value); }, enumerable: true }); }; if (FORCED) { TypedArray = wrapper(function (that, data, $offset, $length) { anInstance(that, TypedArray, NAME, '_d'); var index = 0; var offset = 0; var buffer, byteLength, length, klass; if (!isObject(data)) { length = toIndex(data); byteLength = length * BYTES; buffer = new $ArrayBuffer(byteLength); } else if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) { buffer = data; offset = toOffset($offset, BYTES); var $len = data.byteLength; if ($length === undefined) { if ($len % BYTES) throw RangeError(WRONG_LENGTH); byteLength = $len - offset; if (byteLength < 0) throw RangeError(WRONG_LENGTH); } else { byteLength = toLength($length) * BYTES; if (byteLength + offset > $len) throw RangeError(WRONG_LENGTH); } length = byteLength / BYTES; } else if (TYPED_ARRAY in data) { return fromList(TypedArray, data); } else { return $from.call(TypedArray, data); } hide(that, '_d', { b: buffer, o: offset, l: byteLength, e: length, v: new $DataView(buffer) }); while (index < length) addElement(that, index++); }); TypedArrayPrototype = TypedArray[PROTOTYPE] = create($TypedArrayPrototype$); hide(TypedArrayPrototype, 'constructor', TypedArray); } else if (!fails(function () { TypedArray(1); }) || !fails(function () { new TypedArray(-1); // eslint-disable-line no-new }) || !$iterDetect(function (iter) { new TypedArray(); // eslint-disable-line no-new new TypedArray(null); // eslint-disable-line no-new new TypedArray(1.5); // eslint-disable-line no-new new TypedArray(iter); // eslint-disable-line no-new }, true)) { TypedArray = wrapper(function (that, data, $offset, $length) { anInstance(that, TypedArray, NAME); var klass; // `ws` module bug, temporarily remove validation length for Uint8Array // https://github.com/websockets/ws/pull/645 if (!isObject(data)) return new Base(toIndex(data)); if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) { return $length !== undefined ? new Base(data, toOffset($offset, BYTES), $length) : $offset !== undefined ? new Base(data, toOffset($offset, BYTES)) : new Base(data); } if (TYPED_ARRAY in data) return fromList(TypedArray, data); return $from.call(TypedArray, data); }); arrayForEach(TAC !== Function.prototype ? gOPN(Base).concat(gOPN(TAC)) : gOPN(Base), function (key) { if (!(key in TypedArray)) hide(TypedArray, key, Base[key]); }); TypedArray[PROTOTYPE] = TypedArrayPrototype; if (!LIBRARY) TypedArrayPrototype.constructor = TypedArray; } var $nativeIterator = TypedArrayPrototype[ITERATOR]; var CORRECT_ITER_NAME = !!$nativeIterator && ($nativeIterator.name == 'values' || $nativeIterator.name == undefined); var $iterator = $iterators.values; hide(TypedArray, TYPED_CONSTRUCTOR, true); hide(TypedArrayPrototype, TYPED_ARRAY, NAME); hide(TypedArrayPrototype, VIEW, true); hide(TypedArrayPrototype, DEF_CONSTRUCTOR, TypedArray); if (CLAMPED ? new TypedArray(1)[TAG] != NAME : !(TAG in TypedArrayPrototype)) { dP(TypedArrayPrototype, TAG, { get: function () { return NAME; } }); } O[NAME] = TypedArray; $export($export.G + $export.W + $export.F * (TypedArray != Base), O); $export($export.S, NAME, { BYTES_PER_ELEMENT: BYTES }); $export($export.S + $export.F * fails(function () { Base.of.call(TypedArray, 1); }), NAME, { from: $from, of: $of }); if (!(BYTES_PER_ELEMENT in TypedArrayPrototype)) hide(TypedArrayPrototype, BYTES_PER_ELEMENT, BYTES); $export($export.P, NAME, proto); setSpecies(NAME); $export($export.P + $export.F * FORCED_SET, NAME, { set: $set }); $export($export.P + $export.F * !CORRECT_ITER_NAME, NAME, $iterators); if (!LIBRARY && TypedArrayPrototype.toString != arrayToString) TypedArrayPrototype.toString = arrayToString; $export($export.P + $export.F * fails(function () { new TypedArray(1).slice(); }), NAME, { slice: $slice }); $export($export.P + $export.F * (fails(function () { return [1, 2].toLocaleString() != new TypedArray([1, 2]).toLocaleString(); }) || !fails(function () { TypedArrayPrototype.toLocaleString.call([1, 2]); })), NAME, { toLocaleString: $toLocaleString }); Iterators[NAME] = CORRECT_ITER_NAME ? $nativeIterator : $iterator; if (!LIBRARY && !CORRECT_ITER_NAME) hide(TypedArrayPrototype, ITERATOR, $iterator); }; } else module.exports = function () { /* empty */ }; /***/ }), /* 243 */ /***/ (function(module, exports, __webpack_require__) { __webpack_require__(242)('Uint8', 1, function (init) { return function Uint8Array(data, byteOffset, length) { return init(this, data, byteOffset, length); }; }); /***/ }), /* 244 */ /***/ (function(module, exports, __webpack_require__) { __webpack_require__(242)('Uint8', 1, function (init) { return function Uint8ClampedArray(data, byteOffset, length) { return init(this, data, byteOffset, length); }; }, true); /***/ }), /* 245 */ /***/ (function(module, exports, __webpack_require__) { __webpack_require__(242)('Int16', 2, function (init) { return function Int16Array(data, byteOffset, length) { return init(this, data, byteOffset, length); }; }); /***/ }), /* 246 */ /***/ (function(module, exports, __webpack_require__) { __webpack_require__(242)('Uint16', 2, function (init) { return function Uint16Array(data, byteOffset, length) { return init(this, data, byteOffset, length); }; }); /***/ }), /* 247 */ /***/ (function(module, exports, __webpack_require__) { __webpack_require__(242)('Int32', 4, function (init) { return function Int32Array(data, byteOffset, length) { return init(this, data, byteOffset, length); }; }); /***/ }), /* 248 */ /***/ (function(module, exports, __webpack_require__) { __webpack_require__(242)('Uint32', 4, function (init) { return function Uint32Array(data, byteOffset, length) { return init(this, data, byteOffset, length); }; }); /***/ }), /* 249 */ /***/ (function(module, exports, __webpack_require__) { __webpack_require__(242)('Float32', 4, function (init) { return function Float32Array(data, byteOffset, length) { return init(this, data, byteOffset, length); }; }); /***/ }), /* 250 */ /***/ (function(module, exports, __webpack_require__) { __webpack_require__(242)('Float64', 8, function (init) { return function Float64Array(data, byteOffset, length) { return init(this, data, byteOffset, length); }; }); /***/ }), /* 251 */ /***/ (function(module, exports, __webpack_require__) { // 26.1.1 Reflect.apply(target, thisArgument, argumentsList) var $export = __webpack_require__(15); var aFunction = __webpack_require__(31); var anObject = __webpack_require__(19); var rApply = (__webpack_require__(11).Reflect || {}).apply; var fApply = Function.apply; // MS Edge argumentsList argument is optional $export($export.S + $export.F * !__webpack_require__(14)(function () { rApply(function () { /* empty */ }); }), 'Reflect', { apply: function apply(target, thisArgument, argumentsList) { var T = aFunction(target); var L = anObject(argumentsList); return rApply ? rApply(T, thisArgument, L) : fApply.call(T, thisArgument, L); } }); /***/ }), /* 252 */ /***/ (function(module, exports, __webpack_require__) { // 26.1.2 Reflect.construct(target, argumentsList [, newTarget]) var $export = __webpack_require__(15); var create = __webpack_require__(53); var aFunction = __webpack_require__(31); var anObject = __webpack_require__(19); var isObject = __webpack_require__(20); var fails = __webpack_require__(14); var bind = __webpack_require__(84); var rConstruct = (__webpack_require__(11).Reflect || {}).construct; // MS Edge supports only 2 arguments and argumentsList argument is optional // FF Nightly sets third argument as `new.target`, but does not create `this` from it var NEW_TARGET_BUG = fails(function () { function F() { /* empty */ } return !(rConstruct(function () { /* empty */ }, [], F) instanceof F); }); var ARGS_BUG = !fails(function () { rConstruct(function () { /* empty */ }); }); $export($export.S + $export.F * (NEW_TARGET_BUG || ARGS_BUG), 'Reflect', { construct: function construct(Target, args /* , newTarget */) { aFunction(Target); anObject(args); var newTarget = arguments.length < 3 ? Target : aFunction(arguments[2]); if (ARGS_BUG && !NEW_TARGET_BUG) return rConstruct(Target, args, newTarget); if (Target == newTarget) { // w/o altered newTarget, optimization for 0-4 arguments switch (args.length) { case 0: return new Target(); case 1: return new Target(args[0]); case 2: return new Target(args[0], args[1]); case 3: return new Target(args[0], args[1], args[2]); case 4: return new Target(args[0], args[1], args[2], args[3]); } // w/o altered newTarget, lot of arguments case var $args = [null]; $args.push.apply($args, args); return new (bind.apply(Target, $args))(); } // with altered newTarget, not support built-in constructors var proto = newTarget.prototype; var instance = create(isObject(proto) ? proto : Object.prototype); var result = Function.apply.call(Target, instance, args); return isObject(result) ? result : instance; } }); /***/ }), /* 253 */ /***/ (function(module, exports, __webpack_require__) { // 26.1.3 Reflect.defineProperty(target, propertyKey, attributes) var dP = __webpack_require__(18); var $export = __webpack_require__(15); var anObject = __webpack_require__(19); var toPrimitive = __webpack_require__(23); // MS Edge has broken Reflect.defineProperty - throwing instead of returning false $export($export.S + $export.F * __webpack_require__(14)(function () { // eslint-disable-next-line no-undef Reflect.defineProperty(dP.f({}, 1, { value: 1 }), 1, { value: 2 }); }), 'Reflect', { defineProperty: function defineProperty(target, propertyKey, attributes) { anObject(target); propertyKey = toPrimitive(propertyKey, true); anObject(attributes); try { dP.f(target, propertyKey, attributes); return true; } catch (e) { return false; } } }); /***/ }), /* 254 */ /***/ (function(module, exports, __webpack_require__) { // 26.1.4 Reflect.deleteProperty(target, propertyKey) var $export = __webpack_require__(15); var gOPD = __webpack_require__(58).f; var anObject = __webpack_require__(19); $export($export.S, 'Reflect', { deleteProperty: function deleteProperty(target, propertyKey) { var desc = gOPD(anObject(target), propertyKey); return desc && !desc.configurable ? false : delete target[propertyKey]; } }); /***/ }), /* 255 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; // 26.1.5 Reflect.enumerate(target) var $export = __webpack_require__(15); var anObject = __webpack_require__(19); var Enumerate = function (iterated) { this._t = anObject(iterated); // target this._i = 0; // next index var keys = this._k = []; // keys var key; for (key in iterated) keys.push(key); }; __webpack_require__(138)(Enumerate, 'Object', function () { var that = this; var keys = that._k; var key; do { if (that._i >= keys.length) return { value: undefined, done: true }; } while (!((key = keys[that._i++]) in that._t)); return { value: key, done: false }; }); $export($export.S, 'Reflect', { enumerate: function enumerate(target) { return new Enumerate(target); } }); /***/ }), /* 256 */ /***/ (function(module, exports, __webpack_require__) { // 26.1.6 Reflect.get(target, propertyKey [, receiver]) var gOPD = __webpack_require__(58); var getPrototypeOf = __webpack_require__(66); var has = __webpack_require__(12); var $export = __webpack_require__(15); var isObject = __webpack_require__(20); var anObject = __webpack_require__(19); function get(target, propertyKey /* , receiver */) { var receiver = arguments.length < 3 ? target : arguments[2]; var desc, proto; if (anObject(target) === receiver) return target[propertyKey]; if (desc = gOPD.f(target, propertyKey)) return has(desc, 'value') ? desc.value : desc.get !== undefined ? desc.get.call(receiver) : undefined; if (isObject(proto = getPrototypeOf(target))) return get(proto, propertyKey, receiver); } $export($export.S, 'Reflect', { get: get }); /***/ }), /* 257 */ /***/ (function(module, exports, __webpack_require__) { // 26.1.7 Reflect.getOwnPropertyDescriptor(target, propertyKey) var gOPD = __webpack_require__(58); var $export = __webpack_require__(15); var anObject = __webpack_require__(19); $export($export.S, 'Reflect', { getOwnPropertyDescriptor: function getOwnPropertyDescriptor(target, propertyKey) { return gOPD.f(anObject(target), propertyKey); } }); /***/ }), /* 258 */ /***/ (function(module, exports, __webpack_require__) { // 26.1.8 Reflect.getPrototypeOf(target) var $export = __webpack_require__(15); var getProto = __webpack_require__(66); var anObject = __webpack_require__(19); $export($export.S, 'Reflect', { getPrototypeOf: function getPrototypeOf(target) { return getProto(anObject(target)); } }); /***/ }), /* 259 */ /***/ (function(module, exports, __webpack_require__) { // 26.1.9 Reflect.has(target, propertyKey) var $export = __webpack_require__(15); $export($export.S, 'Reflect', { has: function has(target, propertyKey) { return propertyKey in target; } }); /***/ }), /* 260 */ /***/ (function(module, exports, __webpack_require__) { // 26.1.10 Reflect.isExtensible(target) var $export = __webpack_require__(15); var anObject = __webpack_require__(19); var $isExtensible = Object.isExtensible; $export($export.S, 'Reflect', { isExtensible: function isExtensible(target) { anObject(target); return $isExtensible ? $isExtensible(target) : true; } }); /***/ }), /* 261 */ /***/ (function(module, exports, __webpack_require__) { // 26.1.11 Reflect.ownKeys(target) var $export = __webpack_require__(15); $export($export.S, 'Reflect', { ownKeys: __webpack_require__(262) }); /***/ }), /* 262 */ /***/ (function(module, exports, __webpack_require__) { // all object keys, includes non-enumerable and symbols var gOPN = __webpack_require__(57); var gOPS = __webpack_require__(50); var anObject = __webpack_require__(19); var Reflect = __webpack_require__(11).Reflect; module.exports = Reflect && Reflect.ownKeys || function ownKeys(it) { var keys = gOPN.f(anObject(it)); var getSymbols = gOPS.f; return getSymbols ? keys.concat(getSymbols(it)) : keys; }; /***/ }), /* 263 */ /***/ (function(module, exports, __webpack_require__) { // 26.1.12 Reflect.preventExtensions(target) var $export = __webpack_require__(15); var anObject = __webpack_require__(19); var $preventExtensions = Object.preventExtensions; $export($export.S, 'Reflect', { preventExtensions: function preventExtensions(target) { anObject(target); try { if ($preventExtensions) $preventExtensions(target); return true; } catch (e) { return false; } } }); /***/ }), /* 264 */ /***/ (function(module, exports, __webpack_require__) { // 26.1.13 Reflect.set(target, propertyKey, V [, receiver]) var dP = __webpack_require__(18); var gOPD = __webpack_require__(58); var getPrototypeOf = __webpack_require__(66); var has = __webpack_require__(12); var $export = __webpack_require__(15); var createDesc = __webpack_require__(24); var anObject = __webpack_require__(19); var isObject = __webpack_require__(20); function set(target, propertyKey, V /* , receiver */) { var receiver = arguments.length < 4 ? target : arguments[3]; var ownDesc = gOPD.f(anObject(target), propertyKey); var existingDescriptor, proto; if (!ownDesc) { if (isObject(proto = getPrototypeOf(target))) { return set(proto, propertyKey, V, receiver); } ownDesc = createDesc(0); } if (has(ownDesc, 'value')) { if (ownDesc.writable === false || !isObject(receiver)) return false; if (existingDescriptor = gOPD.f(receiver, propertyKey)) { if (existingDescriptor.get || existingDescriptor.set || existingDescriptor.writable === false) return false; existingDescriptor.value = V; dP.f(receiver, propertyKey, existingDescriptor); } else dP.f(receiver, propertyKey, createDesc(0, V)); return true; } return ownDesc.set === undefined ? false : (ownDesc.set.call(receiver, V), true); } $export($export.S, 'Reflect', { set: set }); /***/ }), /* 265 */ /***/ (function(module, exports, __webpack_require__) { // 26.1.14 Reflect.setPrototypeOf(target, proto) var $export = __webpack_require__(15); var setProto = __webpack_require__(80); if (setProto) $export($export.S, 'Reflect', { setPrototypeOf: function setPrototypeOf(target, proto) { setProto.check(target, proto); try { setProto.set(target, proto); return true; } catch (e) { return false; } } }); /***/ }), /* 266 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; // https://github.com/tc39/Array.prototype.includes var $export = __webpack_require__(15); var $includes = __webpack_require__(44)(true); $export($export.P, 'Array', { includes: function includes(el /* , fromIndex = 0 */) { return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined); } }); __webpack_require__(195)('includes'); /***/ }), /* 267 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; // https://tc39.github.io/proposal-flatMap/#sec-Array.prototype.flatMap var $export = __webpack_require__(15); var flattenIntoArray = __webpack_require__(268); var toObject = __webpack_require__(65); var toLength = __webpack_require__(45); var aFunction = __webpack_require__(31); var arraySpeciesCreate = __webpack_require__(182); $export($export.P, 'Array', { flatMap: function flatMap(callbackfn /* , thisArg */) { var O = toObject(this); var sourceLen, A; aFunction(callbackfn); sourceLen = toLength(O.length); A = arraySpeciesCreate(O, 0); flattenIntoArray(A, O, O, sourceLen, 0, 1, callbackfn, arguments[1]); return A; } }); __webpack_require__(195)('flatMap'); /***/ }), /* 268 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; // https://tc39.github.io/proposal-flatMap/#sec-FlattenIntoArray var isArray = __webpack_require__(52); var isObject = __webpack_require__(20); var toLength = __webpack_require__(45); var ctx = __webpack_require__(30); var IS_CONCAT_SPREADABLE = __webpack_require__(34)('isConcatSpreadable'); function flattenIntoArray(target, original, source, sourceLen, start, depth, mapper, thisArg) { var targetIndex = start; var sourceIndex = 0; var mapFn = mapper ? ctx(mapper, thisArg, 3) : false; var element, spreadable; while (sourceIndex < sourceLen) { if (sourceIndex in source) { element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex]; spreadable = false; if (isObject(element)) { spreadable = element[IS_CONCAT_SPREADABLE]; spreadable = spreadable !== undefined ? !!spreadable : isArray(element); } if (spreadable && depth > 0) { targetIndex = flattenIntoArray(target, original, element, toLength(element.length), targetIndex, depth - 1) - 1; } else { if (targetIndex >= 0x1fffffffffffff) throw TypeError(); target[targetIndex] = element; } targetIndex++; } sourceIndex++; } return targetIndex; } module.exports = flattenIntoArray; /***/ }), /* 269 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; // https://tc39.github.io/proposal-flatMap/#sec-Array.prototype.flatten var $export = __webpack_require__(15); var flattenIntoArray = __webpack_require__(268); var toObject = __webpack_require__(65); var toLength = __webpack_require__(45); var toInteger = __webpack_require__(46); var arraySpeciesCreate = __webpack_require__(182); $export($export.P, 'Array', { flatten: function flatten(/* depthArg = 1 */) { var depthArg = arguments[0]; var O = toObject(this); var sourceLen = toLength(O.length); var A = arraySpeciesCreate(O, 0); flattenIntoArray(A, O, O, sourceLen, 0, depthArg === undefined ? 1 : toInteger(depthArg)); return A; } }); __webpack_require__(195)('flatten'); /***/ }), /* 270 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; // https://github.com/mathiasbynens/String.prototype.at var $export = __webpack_require__(15); var $at = __webpack_require__(135)(true); $export($export.P, 'String', { at: function at(pos) { return $at(this, pos); } }); /***/ }), /* 271 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; // https://github.com/tc39/proposal-string-pad-start-end var $export = __webpack_require__(15); var $pad = __webpack_require__(272); var userAgent = __webpack_require__(225); // https://github.com/zloirock/core-js/issues/280 var WEBKIT_BUG = /Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(userAgent); $export($export.P + $export.F * WEBKIT_BUG, 'String', { padStart: function padStart(maxLength /* , fillString = ' ' */) { return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, true); } }); /***/ }), /* 272 */ /***/ (function(module, exports, __webpack_require__) { // https://github.com/tc39/proposal-string-pad-start-end var toLength = __webpack_require__(45); var repeat = __webpack_require__(98); var defined = __webpack_require__(43); module.exports = function (that, maxLength, fillString, left) { var S = String(defined(that)); var stringLength = S.length; var fillStr = fillString === undefined ? ' ' : String(fillString); var intMaxLength = toLength(maxLength); if (intMaxLength 0; var $y0 = y0 >>> 0; return $x1 + (y1 >>> 0) + (($x0 & $y0 | ($x0 | $y0) & ~($x0 + $y0 >>> 0)) >>> 31) | 0; } }); /***/ }), /* 311 */ /***/ (function(module, exports, __webpack_require__) { // https://gist.github.com/BrendanEich/4294d5c212a6d2254703 var $export = __webpack_require__(15); $export($export.S, 'Math', { isubh: function isubh(x0, x1, y0, y1) { var $x0 = x0 >>> 0; var $x1 = x1 >>> 0; var $y0 = y0 >>> 0; return $x1 - (y1 >>> 0) - ((~$x0 & $y0 | ~($x0 ^ $y0) & $x0 - $y0 >>> 0) >>> 31) | 0; } }); /***/ }), /* 312 */ /***/ (function(module, exports, __webpack_require__) { // https://gist.github.com/BrendanEich/4294d5c212a6d2254703 var $export = __webpack_require__(15); $export($export.S, 'Math', { imulh: function imulh(u, v) { var UINT16 = 0xffff; var $u = +u; var $v = +v; var u0 = $u & UINT16; var v0 = $v & UINT16; var u1 = $u >> 16; var v1 = $v >> 16; var t = (u1 * v0 >>> 0) + (u0 * v0 >>> 16); return u1 * v1 + (t >> 16) + ((u0 * v1 >>> 0) + (t & UINT16) >> 16); } }); /***/ }), /* 313 */ /***/ (function(module, exports, __webpack_require__) { // https://rwaldron.github.io/proposal-math-extensions/ var $export = __webpack_require__(15); $export($export.S, 'Math', { RAD_PER_DEG: 180 / Math.PI }); /***/ }), /* 314 */ /***/ (function(module, exports, __webpack_require__) { // https://rwaldron.github.io/proposal-math-extensions/ var $export = __webpack_require__(15); var DEG_PER_RAD = Math.PI / 180; $export($export.S, 'Math', { radians: function radians(degrees) { return degrees * DEG_PER_RAD; } }); /***/ }), /* 315 */ /***/ (function(module, exports, __webpack_require__) { // https://rwaldron.github.io/proposal-math-extensions/ var $export = __webpack_require__(15); $export($export.S, 'Math', { scale: __webpack_require__(309) }); /***/ }), /* 316 */ /***/ (function(module, exports, __webpack_require__) { // https://gist.github.com/BrendanEich/4294d5c212a6d2254703 var $export = __webpack_require__(15); $export($export.S, 'Math', { umulh: function umulh(u, v) { var UINT16 = 0xffff; var $u = +u; var $v = +v; var u0 = $u & UINT16; var v0 = $v & UINT16; var u1 = $u >>> 16; var v1 = $v >>> 16; var t = (u1 * v0 >>> 0) + (u0 * v0 >>> 16); return u1 * v1 + (t >>> 16) + ((u0 * v1 >>> 0) + (t & UINT16) >>> 16); } }); /***/ }), /* 317 */ /***/ (function(module, exports, __webpack_require__) { // http://jfbastien.github.io/papers/Math.signbit.html var $export = __webpack_require__(15); $export($export.S, 'Math', { signbit: function signbit(x) { // eslint-disable-next-line no-self-compare return (x = +x) != x ? x : x == 0 ? 1 / x == Infinity : x > 0; } }); /***/ }), /* 318 */ /***/ (function(module, exports, __webpack_require__) { // https://github.com/tc39/proposal-promise-finally 'use strict'; var $export = __webpack_require__(15); var core = __webpack_require__(16); var global = __webpack_require__(11); var speciesConstructor = __webpack_require__(217); var promiseResolve = __webpack_require__(226); $export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) { var C = speciesConstructor(this, core.Promise || global.Promise); var isFunction = typeof onFinally == 'function'; return this.then( isFunction ? function (x) { return promiseResolve(C, onFinally()).then(function () { return x; }); } : onFinally, isFunction ? function (e) { return promiseResolve(C, onFinally()).then(function () { throw e; }); } : onFinally ); } }); /***/ }), /* 319 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; // https://github.com/tc39/proposal-promise-try var $export = __webpack_require__(15); var newPromiseCapability = __webpack_require__(223); var perform = __webpack_require__(224); $export($export.S, 'Promise', { 'try': function (callbackfn) { var promiseCapability = newPromiseCapability.f(this); var result = perform(callbackfn); (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v); return promiseCapability.promise; } }); /***/ }), /* 320 */ /***/ (function(module, exports, __webpack_require__) { var metadata = __webpack_require__(321); var anObject = __webpack_require__(19); var toMetaKey = metadata.key; var ordinaryDefineOwnMetadata = metadata.set; metadata.exp({ defineMetadata: function defineMetadata(metadataKey, metadataValue, target, targetKey) { ordinaryDefineOwnMetadata(metadataKey, metadataValue, anObject(target), toMetaKey(targetKey)); } }); /***/ }), /* 321 */ /***/ (function(module, exports, __webpack_require__) { var Map = __webpack_require__(228); var $export = __webpack_require__(15); var shared = __webpack_require__(28)('metadata'); var store = shared.store || (shared.store = new (__webpack_require__(233))()); var getOrCreateMetadataMap = function (target, targetKey, create) { var targetMetadata = store.get(target); if (!targetMetadata) { if (!create) return undefined; store.set(target, targetMetadata = new Map()); } var keyMetadata = targetMetadata.get(targetKey); if (!keyMetadata) { if (!create) return undefined; targetMetadata.set(targetKey, keyMetadata = new Map()); } return keyMetadata; }; var ordinaryHasOwnMetadata = function (MetadataKey, O, P) { var metadataMap = getOrCreateMetadataMap(O, P, false); return metadataMap === undefined ? false : metadataMap.has(MetadataKey); }; var ordinaryGetOwnMetadata = function (MetadataKey, O, P) { var metadataMap = getOrCreateMetadataMap(O, P, false); return metadataMap === undefined ? undefined : metadataMap.get(MetadataKey); }; var ordinaryDefineOwnMetadata = function (MetadataKey, MetadataValue, O, P) { getOrCreateMetadataMap(O, P, true).set(MetadataKey, MetadataValue); }; var ordinaryOwnMetadataKeys = function (target, targetKey) { var metadataMap = getOrCreateMetadataMap(target, targetKey, false); var keys = []; if (metadataMap) metadataMap.forEach(function (_, key) { keys.push(key); }); return keys; }; var toMetaKey = function (it) { return it === undefined || typeof it == 'symbol' ? it : String(it); }; var exp = function (O) { $export($export.S, 'Reflect', O); }; module.exports = { store: store, map: getOrCreateMetadataMap, has: ordinaryHasOwnMetadata, get: ordinaryGetOwnMetadata, set: ordinaryDefineOwnMetadata, keys: ordinaryOwnMetadataKeys, key: toMetaKey, exp: exp }; /***/ }), /* 322 */ /***/ (function(module, exports, __webpack_require__) { var metadata = __webpack_require__(321); var anObject = __webpack_require__(19); var toMetaKey = metadata.key; var getOrCreateMetadataMap = metadata.map; var store = metadata.store; metadata.exp({ deleteMetadata: function deleteMetadata(metadataKey, target /* , targetKey */) { var targetKey = arguments.length < 3 ? undefined : toMetaKey(arguments[2]); var metadataMap = getOrCreateMetadataMap(anObject(target), targetKey, false); if (metadataMap === undefined || !metadataMap['delete'](metadataKey)) return false; if (metadataMap.size) return true; var targetMetadata = store.get(target); targetMetadata['delete'](targetKey); return !!targetMetadata.size || store['delete'](target); } }); /***/ }), /* 323 */ /***/ (function(module, exports, __webpack_require__) { var metadata = __webpack_require__(321); var anObject = __webpack_require__(19); var getPrototypeOf = __webpack_require__(66); var ordinaryHasOwnMetadata = metadata.has; var ordinaryGetOwnMetadata = metadata.get; var toMetaKey = metadata.key; var ordinaryGetMetadata = function (MetadataKey, O, P) { var hasOwn = ordinaryHasOwnMetadata(MetadataKey, O, P); if (hasOwn) return ordinaryGetOwnMetadata(MetadataKey, O, P); var parent = getPrototypeOf(O); return parent !== null ? ordinaryGetMetadata(MetadataKey, parent, P) : undefined; }; metadata.exp({ getMetadata: function getMetadata(metadataKey, target /* , targetKey */) { return ordinaryGetMetadata(metadataKey, anObject(target), arguments.length < 3 ? undefined : toMetaKey(arguments[2])); } }); /***/ }), /* 324 */ /***/ (function(module, exports, __webpack_require__) { var Set = __webpack_require__(232); var from = __webpack_require__(290); var metadata = __webpack_require__(321); var anObject = __webpack_require__(19); var getPrototypeOf = __webpack_require__(66); var ordinaryOwnMetadataKeys = metadata.keys; var toMetaKey = metadata.key; var ordinaryMetadataKeys = function (O, P) { var oKeys = ordinaryOwnMetadataKeys(O, P); var parent = getPrototypeOf(O); if (parent === null) return oKeys; var pKeys = ordinaryMetadataKeys(parent, P); return pKeys.length ? oKeys.length ? from(new Set(oKeys.concat(pKeys))) : pKeys : oKeys; }; metadata.exp({ getMetadataKeys: function getMetadataKeys(target /* , targetKey */) { return ordinaryMetadataKeys(anObject(target), arguments.length < 2 ? undefined : toMetaKey(arguments[1])); } }); /***/ }), /* 325 */ /***/ (function(module, exports, __webpack_require__) { var metadata = __webpack_require__(321); var anObject = __webpack_require__(19); var ordinaryGetOwnMetadata = metadata.get; var toMetaKey = metadata.key; metadata.exp({ getOwnMetadata: function getOwnMetadata(metadataKey, target /* , targetKey */) { return ordinaryGetOwnMetadata(metadataKey, anObject(target) , arguments.length < 3 ? undefined : toMetaKey(arguments[2])); } }); /***/ }), /* 326 */ /***/ (function(module, exports, __webpack_require__) { var metadata = __webpack_require__(321); var anObject = __webpack_require__(19); var ordinaryOwnMetadataKeys = metadata.keys; var toMetaKey = metadata.key; metadata.exp({ getOwnMetadataKeys: function getOwnMetadataKeys(target /* , targetKey */) { return ordinaryOwnMetadataKeys(anObject(target), arguments.length < 2 ? undefined : toMetaKey(arguments[1])); } }); /***/ }), /* 327 */ /***/ (function(module, exports, __webpack_require__) { var metadata = __webpack_require__(321); var anObject = __webpack_require__(19); var getPrototypeOf = __webpack_require__(66); var ordinaryHasOwnMetadata = metadata.has; var toMetaKey = metadata.key; var ordinaryHasMetadata = function (MetadataKey, O, P) { var hasOwn = ordinaryHasOwnMetadata(MetadataKey, O, P); if (hasOwn) return true; var parent = getPrototypeOf(O); return parent !== null ? ordinaryHasMetadata(MetadataKey, parent, P) : false; }; metadata.exp({ hasMetadata: function hasMetadata(metadataKey, target /* , targetKey */) { return ordinaryHasMetadata(metadataKey, anObject(target), arguments.length < 3 ? undefined : toMetaKey(arguments[2])); } }); /***/ }), /* 328 */ /***/ (function(module, exports, __webpack_require__) { var metadata = __webpack_require__(321); var anObject = __webpack_require__(19); var ordinaryHasOwnMetadata = metadata.has; var toMetaKey = metadata.key; metadata.exp({ hasOwnMetadata: function hasOwnMetadata(metadataKey, target /* , targetKey */) { return ordinaryHasOwnMetadata(metadataKey, anObject(target) , arguments.length < 3 ? undefined : toMetaKey(arguments[2])); } }); /***/ }), /* 329 */ /***/ (function(module, exports, __webpack_require__) { var $metadata = __webpack_require__(321); var anObject = __webpack_require__(19); var aFunction = __webpack_require__(31); var toMetaKey = $metadata.key; var ordinaryDefineOwnMetadata = $metadata.set; $metadata.exp({ metadata: function metadata(metadataKey, metadataValue) { return function decorator(target, targetKey) { ordinaryDefineOwnMetadata( metadataKey, metadataValue, (targetKey !== undefined ? anObject : aFunction)(target), toMetaKey(targetKey) ); }; } }); /***/ }), /* 330 */ /***/ (function(module, exports, __webpack_require__) { // https://github.com/rwaldron/tc39-notes/blob/master/es6/2014-09/sept-25.md#510-globalasap-for-enqueuing-a-microtask var $export = __webpack_require__(15); var microtask = __webpack_require__(222)(); var process = __webpack_require__(11).process; var isNode = __webpack_require__(42)(process) == 'process'; $export($export.G, { asap: function asap(fn) { var domain = isNode && process.domain; microtask(domain ? domain.bind(fn) : fn); } }); /***/ }), /* 331 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; // https://github.com/zenparsing/es-observable var $export = __webpack_require__(15); var global = __webpack_require__(11); var core = __webpack_require__(16); var microtask = __webpack_require__(222)(); var OBSERVABLE = __webpack_require__(34)('observable'); var aFunction = __webpack_require__(31); var anObject = __webpack_require__(19); var anInstance = __webpack_require__(219); var redefineAll = __webpack_require__(227); var hide = __webpack_require__(17); var forOf = __webpack_require__(220); var RETURN = forOf.RETURN; var getMethod = function (fn) { return fn == null ? undefined : aFunction(fn); }; var cleanupSubscription = function (subscription) { var cleanup = subscription._c; if (cleanup) { subscription._c = undefined; cleanup(); } }; var subscriptionClosed = function (subscription) { return subscription._o === undefined; }; var closeSubscription = function (subscription) { if (!subscriptionClosed(subscription)) { subscription._o = undefined; cleanupSubscription(subscription); } }; var Subscription = function (observer, subscriber) { anObject(observer); this._c = undefined; this._o = observer; observer = new SubscriptionObserver(this); try { var cleanup = subscriber(observer); var subscription = cleanup; if (cleanup != null) { if (typeof cleanup.unsubscribe === 'function') cleanup = function () { subscription.unsubscribe(); }; else aFunction(cleanup); this._c = cleanup; } } catch (e) { observer.error(e); return; } if (subscriptionClosed(this)) cleanupSubscription(this); }; Subscription.prototype = redefineAll({}, { unsubscribe: function unsubscribe() { closeSubscription(this); } }); var SubscriptionObserver = function (subscription) { this._s = subscription; }; SubscriptionObserver.prototype = redefineAll({}, { next: function next(value) { var subscription = this._s; if (!subscriptionClosed(subscription)) { var observer = subscription._o; try { var m = getMethod(observer.next); if (m) return m.call(observer, value); } catch (e) { try { closeSubscription(subscription); } finally { throw e; } } } }, error: function error(value) { var subscription = this._s; if (subscriptionClosed(subscription)) throw value; var observer = subscription._o; subscription._o = undefined; try { var m = getMethod(observer.error); if (!m) throw value; value = m.call(observer, value); } catch (e) { try { cleanupSubscription(subscription); } finally { throw e; } } cleanupSubscription(subscription); return value; }, complete: function complete(value) { var subscription = this._s; if (!subscriptionClosed(subscription)) { var observer = subscription._o; subscription._o = undefined; try { var m = getMethod(observer.complete); value = m ? m.call(observer, value) : undefined; } catch (e) { try { cleanupSubscription(subscription); } finally { throw e; } } cleanupSubscription(subscription); return value; } } }); var $Observable = function Observable(subscriber) { anInstance(this, $Observable, 'Observable', '_f')._f = aFunction(subscriber); }; redefineAll($Observable.prototype, { subscribe: function subscribe(observer) { return new Subscription(observer, this._f); }, forEach: function forEach(fn) { var that = this; return new (core.Promise || global.Promise)(function (resolve, reject) { aFunction(fn); var subscription = that.subscribe({ next: function (value) { try { return fn(value); } catch (e) { reject(e); subscription.unsubscribe(); } }, error: reject, complete: resolve }); }); } }); redefineAll($Observable, { from: function from(x) { var C = typeof this === 'function' ? this : $Observable; var method = getMethod(anObject(x)[OBSERVABLE]); if (method) { var observable = anObject(method.call(x)); return observable.constructor === C ? observable : new C(function (observer) { return observable.subscribe(observer); }); } return new C(function (observer) { var done = false; microtask(function () { if (!done) { try { if (forOf(x, false, function (it) { observer.next(it); if (done) return RETURN; }) === RETURN) return; } catch (e) { if (done) throw e; observer.error(e); return; } observer.complete(); } }); return function () { done = true; }; }); }, of: function of() { for (var i = 0, l = arguments.length, items = new Array(l); i < l;) items[i] = arguments[i++]; return new (typeof this === 'function' ? this : $Observable)(function (observer) { var done = false; microtask(function () { if (!done) { for (var j = 0; j < items.length; ++j) { observer.next(items[j]); if (done) return; } observer.complete(); } }); return function () { done = true; }; }); } }); hide($Observable.prototype, OBSERVABLE, function () { return this; }); $export($export.G, { Observable: $Observable }); __webpack_require__(201)('Observable'); /***/ }), /* 332 */ /***/ (function(module, exports, __webpack_require__) { // ie9- setTimeout & setInterval additional parameters fix var global = __webpack_require__(11); var $export = __webpack_require__(15); var userAgent = __webpack_require__(225); var slice = [].slice; var MSIE = /MSIE .\./.test(userAgent); // 2; var args = boundArgs ? slice.call(arguments, 2) : false; return set(boundArgs ? function () { // eslint-disable-next-line no-new-func (typeof fn == 'function' ? fn : Function(fn)).apply(this, args); } : fn, time); }; }; $export($export.G + $export.B + $export.F * MSIE, { setTimeout: wrap(global.setTimeout), setInterval: wrap(global.setInterval) }); /***/ }), /* 333 */ /***/ (function(module, exports, __webpack_require__) { var $export = __webpack_require__(15); var $task = __webpack_require__(221); $export($export.G + $export.B, { setImmediate: $task.set, clearImmediate: $task.clear }); /***/ }), /* 334 */ /***/ (function(module, exports, __webpack_require__) { var $iterators = __webpack_require__(202); var getKeys = __webpack_require__(38); var redefine = __webpack_require__(25); var global = __webpack_require__(11); var hide = __webpack_require__(17); var Iterators = __webpack_require__(137); var wks = __webpack_require__(34); var ITERATOR = wks('iterator'); var TO_STRING_TAG = wks('toStringTag'); var ArrayValues = Iterators.Array; var DOMIterables = { CSSRuleList: true, // TODO: Not spec compliant, should be false. CSSStyleDeclaration: false, CSSValueList: false, ClientRectList: false, DOMRectList: false, DOMStringList: false, DOMTokenList: true, DataTransferItemList: false, FileList: false, HTMLAllCollection: false, HTMLCollection: false, HTMLFormElement: false, HTMLSelectElement: false, MediaList: true, // TODO: Not spec compliant, should be false. MimeTypeArray: false, NamedNodeMap: false, NodeList: true, PaintRequestList: false, Plugin: false, PluginArray: false, SVGLengthList: false, SVGNumberList: false, SVGPathSegList: false, SVGPointList: false, SVGStringList: false, SVGTransformList: false, SourceBufferList: false, StyleSheetList: true, // TODO: Not spec compliant, should be false. TextTrackCueList: false, TextTrackList: false, TouchList: false }; for (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) { var NAME = collections[i]; var explicit = DOMIterables[NAME]; var Collection = global[NAME]; var proto = Collection && Collection.prototype; var key; if (proto) { if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues); if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME); Iterators[NAME] = ArrayValues; if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true); } } /***/ }), /* 335 */ /***/ (function(module, exports) { /* WEBPACK VAR INJECTION */(function(global) {/** * Copyright (c) 2014, Facebook, Inc. * All rights reserved. * * This source code is licensed under the BSD-style license found in the * https://raw.github.com/facebook/regenerator/master/LICENSE file. An * additional grant of patent rights can be found in the PATENTS file in * the same directory. */ !(function(global) { "use strict"; var Op = Object.prototype; var hasOwn = Op.hasOwnProperty; var undefined; // More compressible than void 0. var $Symbol = typeof Symbol === "function" ? Symbol : {}; var iteratorSymbol = $Symbol.iterator || "@@iterator"; var asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator"; var toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag"; var inModule = typeof module === "object"; var runtime = global.regeneratorRuntime; if (runtime) { if (inModule) { // If regeneratorRuntime is defined globally and we're in a module, // make the exports object identical to regeneratorRuntime. module.exports = runtime; } // Don't bother evaluating the rest of this file if the runtime was // already defined globally. return; } // Define the runtime globally (as expected by generated code) as either // module.exports (if we're in a module) or a new, empty object. runtime = global.regeneratorRuntime = inModule ? module.exports : {}; function wrap(innerFn, outerFn, self, tryLocsList) { // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator. var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator; var generator = Object.create(protoGenerator.prototype); var context = new Context(tryLocsList || []); // The ._invoke method unifies the implementations of the .next, // .throw, and .return methods. generator._invoke = makeInvokeMethod(innerFn, self, context); return generator; } runtime.wrap = wrap; // Try/catch helper to minimize deoptimizations. Returns a completion // record like context.tryEntries[i].completion. This interface could // have been (and was previously) designed to take a closure to be // invoked without arguments, but in all the cases we care about we // already have an existing method we want to call, so there's no need // to create a new function object. We can even get away with assuming // the method takes exactly one argument, since that happens to be true // in every case, so we don't have to touch the arguments object. The // only additional allocation required is the completion record, which // has a stable shape and so hopefully should be cheap to allocate. function tryCatch(fn, obj, arg) { try { return { type: "normal", arg: fn.call(obj, arg) }; } catch (err) { return { type: "throw", arg: err }; } } var GenStateSuspendedStart = "suspendedStart"; var GenStateSuspendedYield = "suspendedYield"; var GenStateExecuting = "executing"; var GenStateCompleted = "completed"; // Returning this object from the innerFn has the same effect as // breaking out of the dispatch switch statement. var ContinueSentinel = {}; // Dummy constructor functions that we use as the .constructor and // .constructor.prototype properties for functions that return Generator // objects. For full spec compliance, you may wish to configure your // minifier not to mangle the names of these two functions. function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} // This is a polyfill for %IteratorPrototype% for environments that // don't natively support it. var IteratorPrototype = {}; IteratorPrototype[iteratorSymbol] = function () { return this; }; var getProto = Object.getPrototypeOf; var NativeIteratorPrototype = getProto && getProto(getProto(values([]))); if (NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) { // This environment has a native %IteratorPrototype%; use it instead // of the polyfill. IteratorPrototype = NativeIteratorPrototype; } var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype; GeneratorFunctionPrototype.constructor = GeneratorFunction; GeneratorFunctionPrototype[toStringTagSymbol] = GeneratorFunction.displayName = "GeneratorFunction"; // Helper for defining the .next, .throw, and .return methods of the // Iterator interface in terms of a single ._invoke method. function defineIteratorMethods(prototype) { ["next", "throw", "return"].forEach(function(method) { prototype[method] = function(arg) { return this._invoke(method, arg); }; }); } runtime.isGeneratorFunction = function(genFun) { var ctor = typeof genFun === "function" && genFun.constructor; return ctor ? ctor === GeneratorFunction || // For the native GeneratorFunction constructor, the best we can // do is to check its .name property. (ctor.displayName || ctor.name) === "GeneratorFunction" : false; }; runtime.mark = function(genFun) { if (Object.setPrototypeOf) { Object.setPrototypeOf(genFun, GeneratorFunctionPrototype); } else { genFun.__proto__ = GeneratorFunctionPrototype; if (!(toStringTagSymbol in genFun)) { genFun[toStringTagSymbol] = "GeneratorFunction"; } } genFun.prototype = Object.create(Gp); return genFun; }; // Within the body of any async function, `await x` is transformed to // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test // `hasOwn.call(value, "__await")` to determine if the yielded value is // meant to be awaited. runtime.awrap = function(arg) { return { __await: arg }; }; function AsyncIterator(generator) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (record.type === "throw") { reject(record.arg); } else { var result = record.arg; var value = result.value; if (value && typeof value === "object" && hasOwn.call(value, "__await")) { return Promise.resolve(value.__await).then(function(value) { invoke("next", value, resolve, reject); }, function(err) { invoke("throw", err, resolve, reject); }); } return Promise.resolve(value).then(function(unwrapped) { // When a yielded Promise is resolved, its final value becomes // the .value of the Promise result for the // current iteration. If the Promise is rejected, however, the // result for this iteration will be rejected with the same // reason. Note that rejections of yielded Promises are not // thrown back into the generator function, as is the case // when an awaited Promise is rejected. This difference in // behavior between yield and await is important, because it // allows the consumer to decide what to do with the yielded // rejection (swallow it and continue, manually .throw it back // into the generator, abandon iteration, whatever). With // await, by contrast, there is no opportunity to examine the // rejection reason outside the generator function, so the // only option is to throw it from the await expression, and // let the generator function handle the exception. result.value = unwrapped; resolve(result); }, reject); } } if (typeof global.process === "object" && global.process.domain) { invoke = global.process.domain.bind(invoke); } var previousPromise; function enqueue(method, arg) { function callInvokeWithMethodAndArg() { return new Promise(function(resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = // If enqueue has been called before, then we want to wait until // all previous Promises have been resolved before calling invoke, // so that results are always delivered in the correct order. If // enqueue has not been called before, then it is important to // call invoke immediately, without waiting on a callback to fire, // so that the async generator function has the opportunity to do // any necessary setup in a predictable way. This predictability // is why the Promise constructor synchronously invokes its // executor callback, and why async functions synchronously // execute code before the first await. Since we implement simple // async functions in terms of async generators, it is especially // important to get this right, even though it requires care. previousPromise ? previousPromise.then( callInvokeWithMethodAndArg, // Avoid propagating failures to Promises returned by later // invocations of the iterator. callInvokeWithMethodAndArg ) : callInvokeWithMethodAndArg(); } // Define the unified helper method that is used to implement .next, // .throw, and .return (see defineIteratorMethods). this._invoke = enqueue; } defineIteratorMethods(AsyncIterator.prototype); AsyncIterator.prototype[asyncIteratorSymbol] = function () { return this; }; runtime.AsyncIterator = AsyncIterator; // Note that simple async functions are implemented on top of // AsyncIterator objects; they just return a Promise for the value of // the final result produced by the iterator. runtime.async = function(innerFn, outerFn, self, tryLocsList) { var iter = new AsyncIterator( wrap(innerFn, outerFn, self, tryLocsList) ); return runtime.isGeneratorFunction(outerFn) ? iter // If outerFn is a generator, return the full iterator. : iter.next().then(function(result) { return result.done ? result.value : iter.next(); }); }; function makeInvokeMethod(innerFn, self, context) { var state = GenStateSuspendedStart; return function invoke(method, arg) { if (state === GenStateExecuting) { throw new Error("Generator is already running"); } if (state === GenStateCompleted) { if (method === "throw") { throw arg; } // Be forgiving, per 25.3.3.3.3 of the spec: // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume return doneResult(); } context.method = method; context.arg = arg; while (true) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (context.method === "next") { // Setting context._sent for legacy support of Babel's // function.sent implementation. context.sent = context._sent = context.arg; } else if (context.method === "throw") { if (state === GenStateSuspendedStart) { state = GenStateCompleted; throw context.arg; } context.dispatchException(context.arg); } else if (context.method === "return") { context.abrupt("return", context.arg); } state = GenStateExecuting; var record = tryCatch(innerFn, self, context); if (record.type === "normal") { // If an exception is thrown from innerFn, we leave state === // GenStateExecuting and loop back for another invocation. state = context.done ? GenStateCompleted : GenStateSuspendedYield; if (record.arg === ContinueSentinel) { continue; } return { value: record.arg, done: context.done }; } else if (record.type === "throw") { state = GenStateCompleted; // Dispatch the exception by looping back around to the // context.dispatchException(context.arg) call above. context.method = "throw"; context.arg = record.arg; } } }; } // Call delegate.iterator[context.method](context.arg) and handle the // result, either by returning a { value, done } result from the // delegate iterator, or by modifying context.method and context.arg, // setting context.delegate to null, and returning the ContinueSentinel. function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (method === undefined) { // A .throw or .return when the delegate iterator has no .throw // method always terminates the yield* loop. context.delegate = null; if (context.method === "throw") { if (delegate.iterator.return) { // If the delegate iterator has a return method, give it a // chance to clean up. context.method = "return"; context.arg = undefined; maybeInvokeDelegate(delegate, context); if (context.method === "throw") { // If maybeInvokeDelegate(context) changed context.method from // "return" to "throw", let that override the TypeError below. return ContinueSentinel; } } context.method = "throw"; context.arg = new TypeError( "The iterator does not provide a 'throw' method"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (record.type === "throw") { context.method = "throw"; context.arg = record.arg; context.delegate = null; return ContinueSentinel; } var info = record.arg; if (! info) { context.method = "throw"; context.arg = new TypeError("iterator result is not an object"); context.delegate = null; return ContinueSentinel; } if (info.done) { // Assign the result of the finished delegate to the temporary // variable specified by delegate.resultName (see delegateYield). context[delegate.resultName] = info.value; // Resume execution at the desired location (see delegateYield). context.next = delegate.nextLoc; // If context.method was "throw" but the delegate handled the // exception, let the outer generator proceed normally. If // context.method was "next", forget context.arg since it has been // "consumed" by the delegate iterator. If context.method was // "return", allow the original .return call to continue in the // outer generator. if (context.method !== "return") { context.method = "next"; context.arg = undefined; } } else { // Re-yield the result returned by the delegate method. return info; } // The delegate iterator is finished, so forget it and continue with // the outer generator. context.delegate = null; return ContinueSentinel; } // Define Generator.prototype.{next,throw,return} in terms of the // unified ._invoke helper method. defineIteratorMethods(Gp); Gp[toStringTagSymbol] = "Generator"; // A Generator should always return itself as the iterator object when the // @@iterator function is called on it. Some browsers' implementations of the // iterator prototype chain incorrectly implement this, causing the Generator // object to not be returned from this call. This ensures that doesn't happen. // See https://github.com/facebook/regenerator/issues/274 for more details. Gp[iteratorSymbol] = function() { return this; }; Gp.toString = function() { return "[object Generator]"; }; function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; if (1 in locs) { entry.catchLoc = locs[1]; } if (2 in locs) { entry.finallyLoc = locs[2]; entry.afterLoc = locs[3]; } this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = "normal"; delete record.arg; entry.completion = record; } function Context(tryLocsList) { // The root entry object (effectively a try statement without a catch // or a finally block) gives us a place to store values thrown from // locations where there is no enclosing try statement. this.tryEntries = [{ tryLoc: "root" }]; tryLocsList.forEach(pushTryEntry, this); this.reset(true); } runtime.keys = function(object) { var keys = []; for (var key in object) { keys.push(key); } keys.reverse(); // Rather than returning an object with a next method, we keep // things simple and return the next function itself. return function next() { while (keys.length) { var key = keys.pop(); if (key in object) { next.value = key; next.done = false; return next; } } // To avoid creating an additional object, we just hang the .value // and .done properties off the next function object itself. This // also ensures that the minifier will not anonymize the function. next.done = true; return next; }; }; function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) { return iteratorMethod.call(iterable); } if (typeof iterable.next === "function") { return iterable; } if (!isNaN(iterable.length)) { var i = -1, next = function next() { while (++i < iterable.length) { if (hasOwn.call(iterable, i)) { next.value = iterable[i]; next.done = false; return next; } } next.value = undefined; next.done = true; return next; }; return next.next = next; } } // Return an iterator with no values. return { next: doneResult }; } runtime.values = values; function doneResult() { return { value: undefined, done: true }; } Context.prototype = { constructor: Context, reset: function(skipTempReset) { this.prev = 0; this.next = 0; // Resetting context._sent for legacy support of Babel's // function.sent implementation. this.sent = this._sent = undefined; this.done = false; this.delegate = null; this.method = "next"; this.arg = undefined; this.tryEntries.forEach(resetTryEntry); if (!skipTempReset) { for (var name in this) { // Not sure about the optimal order of these conditions: if (name.charAt(0) === "t" && hasOwn.call(this, name) && !isNaN(+name.slice(1))) { this[name] = undefined; } } } }, stop: function() { this.done = true; var rootEntry = this.tryEntries[0]; var rootRecord = rootEntry.completion; if (rootRecord.type === "throw") { throw rootRecord.arg; } return this.rval; }, dispatchException: function(exception) { if (this.done) { throw exception; } var context = this; function handle(loc, caught) { record.type = "throw"; record.arg = exception; context.next = loc; if (caught) { // If the dispatched exception was caught by a catch block, // then let that catch block handle the exception normally. context.method = "next"; context.arg = undefined; } return !! caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; var record = entry.completion; if (entry.tryLoc === "root") { // Exception thrown outside of any try block that could handle // it, so set the completion value of the entire function to // throw the exception. return handle("end"); } if (entry.tryLoc true * * _.endsWith('abc', 'b'); * // => false * * _.endsWith('abc', 'b', 2); * // => true */ function endsWith(string, target, position) { string = toString(string); target = baseToString(target); var length = string.length; position = position === undefined ? length : baseClamp(toInteger(position), 0, length); var end = position; position -= target.length; return position >= 0 && string.slice(position, end) == target; } /** * Converts the characters "&", "", '"', and "'" in `string` to their * corresponding HTML entities. * * **Note:** No other characters are escaped. To escape additional * characters use a third-party library like [_he_](https://mths.be/he). * * Though the ">" character is escaped for symmetry, characters like * ">" and "/" don't need escaping in HTML and have no special meaning * unless they're part of a tag or unquoted attribute value. See * [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands) * (under "semi-related fun fact") for more details. * * When working with HTML you should always * [quote attribute values](http://wonko.com/post/html-escaping) to reduce * XSS vectors. * * @static * @since 0.1.0 * @memberOf _ * @category String * @param {string} [string=''] The string to escape. * @returns {string} Returns the escaped string. * @example * * _.escape('fred, barney, & pebbles'); * // => 'fred, barney, &amp; pebbles' */ function escape(string) { string = toString(string); return (string && reHasUnescapedHtml.test(string)) ? string.replace(reUnescapedHtml, escapeHtmlChar) : string; } /** * Escapes the `RegExp` special characters "^", "$", "\", ".", "*", "+", * "?", "(", ")", "[", "]", "{", "}", and "|" in `string`. * * @static * @memberOf _ * @since 3.0.0 * @category String * @param {string} [string=''] The string to escape. * @returns {string} Returns the escaped string. * @example * * _.escapeRegExp('[lodash](https://lodash.com/)'); * // => '\[lodash\]\(https://lodash\.com/\)' */ function escapeRegExp(string) { string = toString(string); return (string && reHasRegExpChar.test(string)) ? string.replace(reRegExpChar, '\\$&') : string; } /** * Converts `string` to * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles). * * @static * @memberOf _ * @since 3.0.0 * @category String * @param {string} [string=''] The string to convert. * @returns {string} Returns the kebab cased string. * @example * * _.kebabCase('Foo Bar'); * // => 'foo-bar' * * _.kebabCase('fooBar'); * // => 'foo-bar' * * _.kebabCase('__FOO_BAR__'); * // => 'foo-bar' */ var kebabCase = createCompounder(function(result, word, index) { return result + (index ? '-' : '') + word.toLowerCase(); }); /** * Converts `string`, as space separated words, to lower case. * * @static * @memberOf _ * @since 4.0.0 * @category String * @param {string} [string=''] The string to convert. * @returns {string} Returns the lower cased string. * @example * * _.lowerCase('--Foo-Bar--'); * // => 'foo bar' * * _.lowerCase('fooBar'); * // => 'foo bar' * * _.lowerCase('__FOO_BAR__'); * // => 'foo bar' */ var lowerCase = createCompounder(function(result, word, index) { return result + (index ? ' ' : '') + word.toLowerCase(); }); /** * Converts the first character of `string` to lower case. * * @static * @memberOf _ * @since 4.0.0 * @category String * @param {string} [string=''] The string to convert. * @returns {string} Returns the converted string. * @example * * _.lowerFirst('Fred'); * // => 'fred' * * _.lowerFirst('FRED'); * // => 'fRED' */ var lowerFirst = createCaseFirst('toLowerCase'); /** * Pads `string` on the left and right sides if it's shorter than `length`. * Padding characters are truncated if they can't be evenly divided by `length`. * * @static * @memberOf _ * @since 3.0.0 * @category String * @param {string} [string=''] The string to pad. * @param {number} [length=0] The padding length. * @param {string} [chars=' '] The string used as padding. * @returns {string} Returns the padded string. * @example * * _.pad('abc', 8); * // => ' abc ' * * _.pad('abc', 8, '_-'); * // => '_-abc_-_' * * _.pad('abc', 3); * // => 'abc' */ function pad(string, length, chars) { string = toString(string); length = toInteger(length); var strLength = length ? stringSize(string) : 0; if (!length || strLength >= length) { return string; } var mid = (length - strLength) / 2; return ( createPadding(nativeFloor(mid), chars) + string + createPadding(nativeCeil(mid), chars) ); } /** * Pads `string` on the right side if it's shorter than `length`. Padding * characters are truncated if they exceed `length`. * * @static * @memberOf _ * @since 4.0.0 * @category String * @param {string} [string=''] The string to pad. * @param {number} [length=0] The padding length. * @param {string} [chars=' '] The string used as padding. * @returns {string} Returns the padded string. * @example * * _.padEnd('abc', 6); * // => 'abc ' * * _.padEnd('abc', 6, '_-'); * // => 'abc_-_' * * _.padEnd('abc', 3); * // => 'abc' */ function padEnd(string, length, chars) { string = toString(string); length = toInteger(length); var strLength = length ? stringSize(string) : 0; return (length && strLength < length) ? (string + createPadding(length - strLength, chars)) : string; } /** * Pads `string` on the left side if it's shorter than `length`. Padding * characters are truncated if they exceed `length`. * * @static * @memberOf _ * @since 4.0.0 * @category String * @param {string} [string=''] The string to pad. * @param {number} [length=0] The padding length. * @param {string} [chars=' '] The string used as padding. * @returns {string} Returns the padded string. * @example * * _.padStart('abc', 6); * // => ' abc' * * _.padStart('abc', 6, '_-'); * // => '_-_abc' * * _.padStart('abc', 3); * // => 'abc' */ function padStart(string, length, chars) { string = toString(string); length = toInteger(length); var strLength = length ? stringSize(string) : 0; return (length && strLength < length) ? (createPadding(length - strLength, chars) + string) : string; } /** * Converts `string` to an integer of the specified radix. If `radix` is * `undefined` or `0`, a `radix` of `10` is used unless `value` is a * hexadecimal, in which case a `radix` of `16` is used. * * **Note:** This method aligns with the * [ES5 implementation](https://es5.github.io/#x15.1.2.2) of `parseInt`. * * @static * @memberOf _ * @since 1.1.0 * @category String * @param {string} string The string to convert. * @param {number} [radix=10] The radix to interpret `value` by. * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`. * @returns {number} Returns the converted integer. * @example * * _.parseInt('08'); * // => 8 * * _.map(['6', '08', '10'], _.parseInt); * // => [6, 8, 10] */ function parseInt(string, radix, guard) { if (guard || radix == null) { radix = 0; } else if (radix) { radix = +radix; } return nativeParseInt(toString(string).replace(reTrimStart, ''), radix || 0); } /** * Repeats the given string `n` times. * * @static * @memberOf _ * @since 3.0.0 * @category String * @param {string} [string=''] The string to repeat. * @param {number} [n=1] The number of times to repeat the string. * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`. * @returns {string} Returns the repeated string. * @example * * _.repeat('*', 3); * // => '***' * * _.repeat('abc', 2); * // => 'abcabc' * * _.repeat('abc', 0); * // => '' */ function repeat(string, n, guard) { if ((guard ? isIterateeCall(string, n, guard) : n === undefined)) { n = 1; } else { n = toInteger(n); } return baseRepeat(toString(string), n); } /** * Replaces matches for `pattern` in `string` with `replacement`. * * **Note:** This method is based on * [`String#replace`](https://mdn.io/String/replace). * * @static * @memberOf _ * @since 4.0.0 * @category String * @param {string} [string=''] The string to modify. * @param {RegExp|string} pattern The pattern to replace. * @param {Function|string} replacement The match replacement. * @returns {string} Returns the modified string. * @example * * _.replace('Hi Fred', 'Fred', 'Barney'); * // => 'Hi Barney' */ function replace() { var args = arguments, string = toString(args[0]); return args.length < 3 ? string : string.replace(args[1], args[2]); } /** * Converts `string` to * [snake case](https://en.wikipedia.org/wiki/Snake_case). * * @static * @memberOf _ * @since 3.0.0 * @category String * @param {string} [string=''] The string to convert. * @returns {string} Returns the snake cased string. * @example * * _.snakeCase('Foo Bar'); * // => 'foo_bar' * * _.snakeCase('fooBar'); * // => 'foo_bar' * * _.snakeCase('--FOO-BAR--'); * // => 'foo_bar' */ var snakeCase = createCompounder(function(result, word, index) { return result + (index ? '_' : '') + word.toLowerCase(); }); /** * Splits `string` by `separator`. * * **Note:** This method is based on * [`String#split`](https://mdn.io/String/split). * * @static * @memberOf _ * @since 4.0.0 * @category String * @param {string} [string=''] The string to split. * @param {RegExp|string} separator The separator pattern to split by. * @param {number} [limit] The length to truncate results to. * @returns {Array} Returns the string segments. * @example * * _.split('a-b-c', '-', 2); * // => ['a', 'b'] */ function split(string, separator, limit) { if (limit && typeof limit != 'number' && isIterateeCall(string, separator, limit)) { separator = limit = undefined; } limit = limit === undefined ? MAX_ARRAY_LENGTH : limit >>> 0; if (!limit) { return []; } string = toString(string); if (string && ( typeof separator == 'string' || (separator != null && !isRegExp(separator)) )) { separator = baseToString(separator); if (!separator && hasUnicode(string)) { return castSlice(stringToArray(string), 0, limit); } } return string.split(separator, limit); } /** * Converts `string` to * [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage). * * @static * @memberOf _ * @since 3.1.0 * @category String * @param {string} [string=''] The string to convert. * @returns {string} Returns the start cased string. * @example * * _.startCase('--foo-bar--'); * // => 'Foo Bar' * * _.startCase('fooBar'); * // => 'Foo Bar' * * _.startCase('__FOO_BAR__'); * // => 'FOO BAR' */ var startCase = createCompounder(function(result, word, index) { return result + (index ? ' ' : '') + upperFirst(word); }); /** * Checks if `string` starts with the given target string. * * @static * @memberOf _ * @since 3.0.0 * @category String * @param {string} [string=''] The string to inspect. * @param {string} [target] The string to search for. * @param {number} [position=0] The position to search from. * @returns {boolean} Returns `true` if `string` starts with `target`, * else `false`. * @example * * _.startsWith('abc', 'a'); * // => true * * _.startsWith('abc', 'b'); * // => false * * _.startsWith('abc', 'b', 1); * // => true */ function startsWith(string, target, position) { string = toString(string); position = position == null ? 0 : baseClamp(toInteger(position), 0, string.length); target = baseToString(target); return string.slice(position, position + target.length) == target; } /** * Creates a compiled template function that can interpolate data properties * in "interpolate" delimiters, HTML-escape interpolated data properties in * "escape" delimiters, and execute JavaScript in "evaluate" delimiters. Data * properties may be accessed as free variables in the template. If a setting * object is given, it takes precedence over `_.templateSettings` values. * * **Note:** In the development build `_.template` utilizes * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl) * for easier debugging. * * For more information on precompiling templates see * [lodash's custom builds documentation](https://lodash.com/custom-builds). * * For more information on Chrome extension sandboxes see * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval). * * @static * @since 0.1.0 * @memberOf _ * @category String * @param {string} [string=''] The template string. * @param {Object} [options={}] The options object. * @param {RegExp} [options.escape=_.templateSettings.escape] * The HTML "escape" delimiter. * @param {RegExp} [options.evaluate=_.templateSettings.evaluate] * The "evaluate" delimiter. * @param {Object} [options.imports=_.templateSettings.imports] * An object to import into the template as free variables. * @param {RegExp} [options.interpolate=_.templateSettings.interpolate] * The "interpolate" delimiter. * @param {string} [options.sourceURL='lodash.templateSources[n]'] * The sourceURL of the compiled template. * @param {string} [options.variable='obj'] * The data object variable name. * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`. * @returns {Function} Returns the compiled template function. * @example * * // Use the "interpolate" delimiter to create a compiled template. * var compiled = _.template('hello !'); * compiled({ 'user': 'fred' }); * // => 'hello fred!' * * // Use the HTML "escape" delimiter to escape data property values. * var compiled = _.template(''); * compiled({ 'value': '' }); * // => '&lt;script&gt;' * * // Use the "evaluate" delimiter to execute JavaScript and generate HTML. * var compiled = _.template(''); * compiled({ 'users': ['fred', 'barney'] }); * // => 'fredbarney' * * // Use the internal `print` function in "evaluate" delimiters. * var compiled = _.template('!'); * compiled({ 'user': 'barney' }); * // => 'hello barney!' * * // Use the ES template literal delimiter as an "interpolate" delimiter. * // Disable support by replacing the "interpolate" delimiter. * var compiled = _.template('hello ${ user }!'); * compiled({ 'user': 'pebbles' }); * // => 'hello pebbles!' * * // Use backslashes to treat delimiters as plain text. * var compiled = _.template(''); * compiled({ 'value': 'ignored' }); * // => '' * * // Use the `imports` option to import `jQuery` as `jq`. * var text = ''; * var compiled = _.template(text, { 'imports': { 'jq': jQuery } }); * compiled({ 'users': ['fred', 'barney'] }); * // => 'fredbarney' * * // Use the `sourceURL` option to specify a custom sourceURL for the template. * var compiled = _.template('hello !', { 'sourceURL': '/basic/greeting.jst' }); * compiled(data); * // => Find the source of "greeting.jst" under the Sources tab or Resources panel of the web inspector. * * // Use the `variable` option to ensure a with-statement isn't used in the compiled template. * var compiled = _.template('hi !', { 'variable': 'data' }); * compiled.source; * // => function(data) { * // var __t, __p = ''; * // __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!'; * // return __p; * // } * * // Use custom template delimiters. * _.templateSettings.interpolate = /undefined/g; * var compiled = _.template('hello !'); * compiled({ 'user': 'mustache' }); * // => 'hello mustache!' * * // Use the `source` property to inline compiled templates for meaningful * // line numbers in error messages and stack traces. * fs.writeFileSync(path.join(process.cwd(), 'jst.js'), '\ * var JST = {\ * "main": ' + _.template(mainText).source + '\ * };\ * '); */ function template(string, options, guard) { // Based on John Resig's `tmpl` implementation // (http://ejohn.org/blog/javascript-micro-templating/) // and Laura Doktorova's doT.js (https://github.com/olado/doT). var settings = lodash.templateSettings; if (guard && isIterateeCall(string, options, guard)) { options = undefined; } string = toString(string); options = assignInWith({}, options, settings, customDefaultsAssignIn); var imports = assignInWith({}, options.imports, settings.imports, customDefaultsAssignIn), importsKeys = keys(imports), importsValues = baseValues(imports, importsKeys); var isEscaping, isEvaluating, index = 0, interpolate = options.interpolate || reNoMatch, source = "__p += '"; // Compile the regexp to match each delimiter. var reDelimiters = RegExp( (options.escape || reNoMatch).source + '|' + interpolate.source + '|' + (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' + (options.evaluate || reNoMatch).source + '|$' , 'g'); // Use a sourceURL for easier debugging. var sourceURL = '//# sourceURL=' + ('sourceURL' in options ? options.sourceURL : ('lodash.templateSources[' + (++templateCounter) + ']') ) + '\n'; string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) { interpolateValue || (interpolateValue = esTemplateValue); // Escape characters that can't be included in string literals. source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar); // Replace delimiters with snippets. if (escapeValue) { isEscaping = true; source += "' +\n__e(" + escapeValue + ") +\n'"; } if (evaluateValue) { isEvaluating = true; source += "';\n" + evaluateValue + ";\n__p += '"; } if (interpolateValue) { source += "' +\n((__t = (" + interpolateValue + ")) == null ? '' : __t) +\n'"; } index = offset + match.length; // The JS engine embedded in Adobe products needs `match` returned in // order to produce the correct `offset` value. return match; }); source += "';\n"; // If `variable` is not specified wrap a with-statement around the generated // code to add the data object to the top of the scope chain. var variable = options.variable; if (!variable) { source = 'with (obj) {\n' + source + '\n}\n'; } // Cleanup code by stripping empty strings. source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source) .replace(reEmptyStringMiddle, '$1') .replace(reEmptyStringTrailing, '$1;'); // Frame code as the function body. source = 'function(' + (variable || 'obj') + ') {\n' + (variable ? '' : 'obj || (obj = {});\n' ) + "var __t, __p = ''" + (isEscaping ? ', __e = _.escape' : '' ) + (isEvaluating ? ', __j = Array.prototype.join;\n' + "function print() { __p += __j.call(arguments, '') }\n" : ';\n' ) + source + 'return __p\n}'; var result = attempt(function() { return Function(importsKeys, sourceURL + 'return ' + source) .apply(undefined, importsValues); }); // Provide the compiled function's source by its `toString` method or // the `source` property as a convenience for inlining compiled templates. result.source = source; if (isError(result)) { throw result; } return result; } /** * Converts `string`, as a whole, to lower case just like * [String#toLowerCase](https://mdn.io/toLowerCase). * * @static * @memberOf _ * @since 4.0.0 * @category String * @param {string} [string=''] The string to convert. * @returns {string} Returns the lower cased string. * @example * * _.toLower('--Foo-Bar--'); * // => '--foo-bar--' * * _.toLower('fooBar'); * // => 'foobar' * * _.toLower('__FOO_BAR__'); * // => '__foo_bar__' */ function toLower(value) { return toString(value).toLowerCase(); } /** * Converts `string`, as a whole, to upper case just like * [String#toUpperCase](https://mdn.io/toUpperCase). * * @static * @memberOf _ * @since 4.0.0 * @category String * @param {string} [string=''] The string to convert. * @returns {string} Returns the upper cased string. * @example * * _.toUpper('--foo-bar--'); * // => '--FOO-BAR--' * * _.toUpper('fooBar'); * // => 'FOOBAR' * * _.toUpper('__foo_bar__'); * // => '__FOO_BAR__' */ function toUpper(value) { return toString(value).toUpperCase(); } /** * Removes leading and trailing whitespace or specified characters from `string`. * * @static * @memberOf _ * @since 3.0.0 * @category String * @param {string} [string=''] The string to trim. * @param {string} [chars=whitespace] The characters to trim. * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`. * @returns {string} Returns the trimmed string. * @example * * _.trim(' abc '); * // => 'abc' * * _.trim('-_-abc-_-', '_-'); * // => 'abc' * * _.map([' foo ', ' bar '], _.trim); * // => ['foo', 'bar'] */ function trim(string, chars, guard) { string = toString(string); if (string && (guard || chars === undefined)) { return string.replace(reTrim, ''); } if (!string || !(chars = baseToString(chars))) { return string; } var strSymbols = stringToArray(string), chrSymbols = stringToArray(chars), start = charsStartIndex(strSymbols, chrSymbols), end = charsEndIndex(strSymbols, chrSymbols) + 1; return castSlice(strSymbols, start, end).join(''); } /** * Removes trailing whitespace or specified characters from `string`. * * @static * @memberOf _ * @since 4.0.0 * @category String * @param {string} [string=''] The string to trim. * @param {string} [chars=whitespace] The characters to trim. * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`. * @returns {string} Returns the trimmed string. * @example * * _.trimEnd(' abc '); * // => ' abc' * * _.trimEnd('-_-abc-_-', '_-'); * // => '-_-abc' */ function trimEnd(string, chars, guard) { string = toString(string); if (string && (guard || chars === undefined)) { return string.replace(reTrimEnd, ''); } if (!string || !(chars = baseToString(chars))) { return string; } var strSymbols = stringToArray(string), end = charsEndIndex(strSymbols, stringToArray(chars)) + 1; return castSlice(strSymbols, 0, end).join(''); } /** * Removes leading whitespace or specified characters from `string`. * * @static * @memberOf _ * @since 4.0.0 * @category String * @param {string} [string=''] The string to trim. * @param {string} [chars=whitespace] The characters to trim. * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`. * @returns {string} Returns the trimmed string. * @example * * _.trimStart(' abc '); * // => 'abc ' * * _.trimStart('-_-abc-_-', '_-'); * // => 'abc-_-' */ function trimStart(string, chars, guard) { string = toString(string); if (string && (guard || chars === undefined)) { return string.replace(reTrimStart, ''); } if (!string || !(chars = baseToString(chars))) { return string; } var strSymbols = stringToArray(string), start = charsStartIndex(strSymbols, stringToArray(chars)); return castSlice(strSymbols, start).join(''); } /** * Truncates `string` if it's longer than the given maximum string length. * The last characters of the truncated string are replaced with the omission * string which defaults to "...". * * @static * @memberOf _ * @since 4.0.0 * @category String * @param {string} [string=''] The string to truncate. * @param {Object} [options={}] The options object. * @param {number} [options.length=30] The maximum string length. * @param {string} [options.omission='...'] The string to indicate text is omitted. * @param {RegExp|string} [options.separator] The separator pattern to truncate to. * @returns {string} Returns the truncated string. * @example * * _.truncate('hi-diddly-ho there, neighborino'); * // => 'hi-diddly-ho there, neighbo...' * * _.truncate('hi-diddly-ho there, neighborino', { * 'length': 24, * 'separator': ' ' * }); * // => 'hi-diddly-ho there,...' * * _.truncate('hi-diddly-ho there, neighborino', { * 'length': 24, * 'separator': /,? +/ * }); * // => 'hi-diddly-ho there...' * * _.truncate('hi-diddly-ho there, neighborino', { * 'omission': ' [...]' * }); * // => 'hi-diddly-ho there, neig [...]' */ function truncate(string, options) { var length = DEFAULT_TRUNC_LENGTH, omission = DEFAULT_TRUNC_OMISSION; if (isObject(options)) { var separator = 'separator' in options ? options.separator : separator; length = 'length' in options ? toInteger(options.length) : length; omission = 'omission' in options ? baseToString(options.omission) : omission; } string = toString(string); var strLength = string.length; if (hasUnicode(string)) { var strSymbols = stringToArray(string); strLength = strSymbols.length; } if (length >= strLength) { return string; } var end = length - stringSize(omission); if (end < 1) { return omission; } var result = strSymbols ? castSlice(strSymbols, 0, end).join('') : string.slice(0, end); if (separator === undefined) { return result + omission; } if (strSymbols) { end += (result.length - end); } if (isRegExp(separator)) { if (string.slice(end).search(separator)) { var match, substring = result; if (!separator.global) { separator = RegExp(separator.source, toString(reFlags.exec(separator)) + 'g'); } separator.lastIndex = 0; while ((match = separator.exec(substring))) { var newEnd = match.index; } result = result.slice(0, newEnd === undefined ? end : newEnd); } } else if (string.indexOf(baseToString(separator), end) != end) { var index = result.lastIndexOf(separator); if (index > -1) { result = result.slice(0, index); } } return result + omission; } /** * The inverse of `_.escape`; this method converts the HTML entities * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to * their corresponding characters. * * **Note:** No other HTML entities are unescaped. To unescape additional * HTML entities use a third-party library like [_he_](https://mths.be/he). * * @static * @memberOf _ * @since 0.6.0 * @category String * @param {string} [string=''] The string to unescape. * @returns {string} Returns the unescaped string. * @example * * _.unescape('fred, barney, &amp; pebbles'); * // => 'fred, barney, & pebbles' */ function unescape(string) { string = toString(string); return (string && reHasEscapedHtml.test(string)) ? string.replace(reEscapedHtml, unescapeHtmlChar) : string; } /** * Converts `string`, as space separated words, to upper case. * * @static * @memberOf _ * @since 4.0.0 * @category String * @param {string} [string=''] The string to convert. * @returns {string} Returns the upper cased string. * @example * * _.upperCase('--foo-bar'); * // => 'FOO BAR' * * _.upperCase('fooBar'); * // => 'FOO BAR' * * _.upperCase('__foo_bar__'); * // => 'FOO BAR' */ var upperCase = createCompounder(function(result, word, index) { return result + (index ? ' ' : '') + word.toUpperCase(); }); /** * Converts the first character of `string` to upper case. * * @static * @memberOf _ * @since 4.0.0 * @category String * @param {string} [string=''] The string to convert. * @returns {string} Returns the converted string. * @example * * _.upperFirst('fred'); * // => 'Fred' * * _.upperFirst('FRED'); * // => 'FRED' */ var upperFirst = createCaseFirst('toUpperCase'); /** * Splits `string` into an array of its words. * * @static * @memberOf _ * @since 3.0.0 * @category String * @param {string} [string=''] The string to inspect. * @param {RegExp|string} [pattern] The pattern to match words. * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`. * @returns {Array} Returns the words of `string`. * @example * * _.words('fred, barney, & pebbles'); * // => ['fred', 'barney', 'pebbles'] * * _.words('fred, barney, & pebbles', /[^, ]+/g); * // => ['fred', 'barney', '&', 'pebbles'] */ function words(string, pattern, guard) { string = toString(string); pattern = guard ? undefined : pattern; if (pattern === undefined) { return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string); } return string.match(pattern) || []; } /*------------------------------------------------------------------------*/ /** * Attempts to invoke `func`, returning either the result or the caught error * object. Any additional arguments are provided to `func` when it's invoked. * * @static * @memberOf _ * @since 3.0.0 * @category Util * @param {Function} func The function to attempt. * @param {...*} [args] The arguments to invoke `func` with. * @returns {*} Returns the `func` result or error object. * @example * * // Avoid throwing errors for invalid selectors. * var elements = _.attempt(function(selector) { * return document.querySelectorAll(selector); * }, '>_>'); * * if (_.isError(elements)) { * elements = []; * } */ var attempt = baseRest(function(func, args) { try { return apply(func, undefined, args); } catch (e) { return isError(e) ? e : new Error(e); } }); /** * Binds methods of an object to the object itself, overwriting the existing * method. * * **Note:** This method doesn't set the "length" property of bound functions. * * @static * @since 0.1.0 * @memberOf _ * @category Util * @param {Object} object The object to bind and assign the bound methods to. * @param {...(string|string[])} methodNames The object method names to bind. * @returns {Object} Returns `object`. * @example * * var view = { * 'label': 'docs', * 'click': function() { * console.log('clicked ' + this.label); * } * }; * * _.bindAll(view, ['click']); * jQuery(element).on('click', view.click); * // => Logs 'clicked docs' when clicked. */ var bindAll = flatRest(function(object, methodNames) { arrayEach(methodNames, function(key) { key = toKey(key); baseAssignValue(object, key, bind(object[key], object)); }); return object; }); /** * Creates a function that iterates over `pairs` and invokes the corresponding * function of the first predicate to return truthy. The predicate-function * pairs are invoked with the `this` binding and arguments of the created * function. * * @static * @memberOf _ * @since 4.0.0 * @category Util * @param {Array} pairs The predicate-function pairs. * @returns {Function} Returns the new composite function. * @example * * var func = _.cond([ * [_.matches({ 'a': 1 }), _.constant('matches A')], * [_.conforms({ 'b': _.isNumber }), _.constant('matches B')], * [_.stubTrue, _.constant('no match')] * ]); * * func({ 'a': 1, 'b': 2 }); * // => 'matches A' * * func({ 'a': 0, 'b': 1 }); * // => 'matches B' * * func({ 'a': '1', 'b': '2' }); * // => 'no match' */ function cond(pairs) { var length = pairs == null ? 0 : pairs.length, toIteratee = getIteratee(); pairs = !length ? [] : arrayMap(pairs, function(pair) { if (typeof pair[1] != 'function') { throw new TypeError(FUNC_ERROR_TEXT); } return [toIteratee(pair[0]), pair[1]]; }); return baseRest(function(args) { var index = -1; while (++index < length) { var pair = pairs[index]; if (apply(pair[0], this, args)) { return apply(pair[1], this, args); } } }); } /** * Creates a function that invokes the predicate properties of `source` with * the corresponding property values of a given object, returning `true` if * all predicates return truthy, else `false`. * * **Note:** The created function is equivalent to `_.conformsTo` with * `source` partially applied. * * @static * @memberOf _ * @since 4.0.0 * @category Util * @param {Object} source The object of property predicates to conform to. * @returns {Function} Returns the new spec function. * @example * * var objects = [ * { 'a': 2, 'b': 1 }, * { 'a': 1, 'b': 2 } * ]; * * _.filter(objects, _.conforms({ 'b': function(n) { return n > 1; } })); * // => [{ 'a': 1, 'b': 2 }] */ function conforms(source) { return baseConforms(baseClone(source, CLONE_DEEP_FLAG)); } /** * Creates a function that returns `value`. * * @static * @memberOf _ * @since 2.4.0 * @category Util * @param {*} value The value to return from the new function. * @returns {Function} Returns the new constant function. * @example * * var objects = _.times(2, _.constant({ 'a': 1 })); * * console.log(objects); * // => [{ 'a': 1 }, { 'a': 1 }] * * console.log(objects[0] === objects[1]); * // => true */ function constant(value) { return function() { return value; }; } /** * Checks `value` to determine whether a default value should be returned in * its place. The `defaultValue` is returned if `value` is `NaN`, `null`, * or `undefined`. * * @static * @memberOf _ * @since 4.14.0 * @category Util * @param {*} value The value to check. * @param {*} defaultValue The default value. * @returns {*} Returns the resolved value. * @example * * _.defaultTo(1, 10); * // => 1 * * _.defaultTo(undefined, 10); * // => 10 */ function defaultTo(value, defaultValue) { return (value == null || value !== value) ? defaultValue : value; } /** * Creates a function that returns the result of invoking the given functions * with the `this` binding of the created function, where each successive * invocation is supplied the return value of the previous. * * @static * @memberOf _ * @since 3.0.0 * @category Util * @param {...(Function|Function[])} [funcs] The functions to invoke. * @returns {Function} Returns the new composite function. * @see _.flowRight * @example * * function square(n) { * return n * n; * } * * var addSquare = _.flow([_.add, square]); * addSquare(1, 2); * // => 9 */ var flow = createFlow(); /** * This method is like `_.flow` except that it creates a function that * invokes the given functions from right to left. * * @static * @since 3.0.0 * @memberOf _ * @category Util * @param {...(Function|Function[])} [funcs] The functions to invoke. * @returns {Function} Returns the new composite function. * @see _.flow * @example * * function square(n) { * return n * n; * } * * var addSquare = _.flowRight([square, _.add]); * addSquare(1, 2); * // => 9 */ var flowRight = createFlow(true); /** * This method returns the first argument it receives. * * @static * @since 0.1.0 * @memberOf _ * @category Util * @param {*} value Any value. * @returns {*} Returns `value`. * @example * * var object = { 'a': 1 }; * * console.log(_.identity(object) === object); * // => true */ function identity(value) { return value; } /** * Creates a function that invokes `func` with the arguments of the created * function. If `func` is a property name, the created function returns the * property value for a given element. If `func` is an array or object, the * created function returns `true` for elements that contain the equivalent * source properties, otherwise it returns `false`. * * @static * @since 4.0.0 * @memberOf _ * @category Util * @param {*} [func=_.identity] The value to convert to a callback. * @returns {Function} Returns the callback. * @example * * var users = [ * { 'user': 'barney', 'age': 36, 'active': true }, * { 'user': 'fred', 'age': 40, 'active': false } * ]; * * // The `_.matches` iteratee shorthand. * _.filter(users, _.iteratee({ 'user': 'barney', 'active': true })); * // => [{ 'user': 'barney', 'age': 36, 'active': true }] * * // The `_.matchesProperty` iteratee shorthand. * _.filter(users, _.iteratee(['user', 'fred'])); * // => [{ 'user': 'fred', 'age': 40 }] * * // The `_.property` iteratee shorthand. * _.map(users, _.iteratee('user')); * // => ['barney', 'fred'] * * // Create custom iteratee shorthands. * _.iteratee = _.wrap(_.iteratee, function(iteratee, func) { * return !_.isRegExp(func) ? iteratee(func) : function(string) { * return func.test(string); * }; * }); * * _.filter(['abc', 'def'], /ef/); * // => ['def'] */ function iteratee(func) { return baseIteratee(typeof func == 'function' ? func : baseClone(func, CLONE_DEEP_FLAG)); } /** * Creates a function that performs a partial deep comparison between a given * object and `source`, returning `true` if the given object has equivalent * property values, else `false`. * * **Note:** The created function is equivalent to `_.isMatch` with `source` * partially applied. * * Partial comparisons will match empty array and empty object `source` * values against any array or object value, respectively. See `_.isEqual` * for a list of supported value comparisons. * * @static * @memberOf _ * @since 3.0.0 * @category Util * @param {Object} source The object of property values to match. * @returns {Function} Returns the new spec function. * @example * * var objects = [ * { 'a': 1, 'b': 2, 'c': 3 }, * { 'a': 4, 'b': 5, 'c': 6 } * ]; * * _.filter(objects, _.matches({ 'a': 4, 'c': 6 })); * // => [{ 'a': 4, 'b': 5, 'c': 6 }] */ function matches(source) { return baseMatches(baseClone(source, CLONE_DEEP_FLAG)); } /** * Creates a function that performs a partial deep comparison between the * value at `path` of a given object to `srcValue`, returning `true` if the * object value is equivalent, else `false`. * * **Note:** Partial comparisons will match empty array and empty object * `srcValue` values against any array or object value, respectively. See * `_.isEqual` for a list of supported value comparisons. * * @static * @memberOf _ * @since 3.2.0 * @category Util * @param {Array|string} path The path of the property to get. * @param {*} srcValue The value to match. * @returns {Function} Returns the new spec function. * @example * * var objects = [ * { 'a': 1, 'b': 2, 'c': 3 }, * { 'a': 4, 'b': 5, 'c': 6 } * ]; * * _.find(objects, _.matchesProperty('a', 4)); * // => { 'a': 4, 'b': 5, 'c': 6 } */ function matchesProperty(path, srcValue) { return baseMatchesProperty(path, baseClone(srcValue, CLONE_DEEP_FLAG)); } /** * Creates a function that invokes the method at `path` of a given object. * Any additional arguments are provided to the invoked method. * * @static * @memberOf _ * @since 3.7.0 * @category Util * @param {Array|string} path The path of the method to invoke. * @param {...*} [args] The arguments to invoke the method with. * @returns {Function} Returns the new invoker function. * @example * * var objects = [ * { 'a': { 'b': _.constant(2) } }, * { 'a': { 'b': _.constant(1) } } * ]; * * _.map(objects, _.method('a.b')); * // => [2, 1] * * _.map(objects, _.method(['a', 'b'])); * // => [2, 1] */ var method = baseRest(function(path, args) { return function(object) { return baseInvoke(object, path, args); }; }); /** * The opposite of `_.method`; this method creates a function that invokes * the method at a given path of `object`. Any additional arguments are * provided to the invoked method. * * @static * @memberOf _ * @since 3.7.0 * @category Util * @param {Object} object The object to query. * @param {...*} [args] The arguments to invoke the method with. * @returns {Function} Returns the new invoker function. * @example * * var array = _.times(3, _.constant), * object = { 'a': array, 'b': array, 'c': array }; * * _.map(['a[2]', 'c[0]'], _.methodOf(object)); * // => [2, 0] * * _.map([['a', '2'], ['c', '0']], _.methodOf(object)); * // => [2, 0] */ var methodOf = baseRest(function(object, args) { return function(path) { return baseInvoke(object, path, args); }; }); /** * Adds all own enumerable string keyed function properties of a source * object to the destination object. If `object` is a function, then methods * are added to its prototype as well. * * **Note:** Use `_.runInContext` to create a pristine `lodash` function to * avoid conflicts caused by modifying the original. * * @static * @since 0.1.0 * @memberOf _ * @category Util * @param {Function|Object} [object=lodash] The destination object. * @param {Object} source The object of functions to add. * @param {Object} [options={}] The options object. * @param {boolean} [options.chain=true] Specify whether mixins are chainable. * @returns {Function|Object} Returns `object`. * @example * * function vowels(string) { * return _.filter(string, function(v) { * return /[aeiou]/i.test(v); * }); * } * * _.mixin({ 'vowels': vowels }); * _.vowels('fred'); * // => ['e'] * * _('fred').vowels().value(); * // => ['e'] * * _.mixin({ 'vowels': vowels }, { 'chain': false }); * _('fred').vowels(); * // => ['e'] */ function mixin(object, source, options) { var props = keys(source), methodNames = baseFunctions(source, props); if (options == null && !(isObject(source) && (methodNames.length || !props.length))) { options = source; source = object; object = this; methodNames = baseFunctions(source, keys(source)); } var chain = !(isObject(options) && 'chain' in options) || !!options.chain, isFunc = isFunction(object); arrayEach(methodNames, function(methodName) { var func = source[methodName]; object[methodName] = func; if (isFunc) { object.prototype[methodName] = function() { var chainAll = this.__chain__; if (chain || chainAll) { var result = object(this.__wrapped__), actions = result.__actions__ = copyArray(this.__actions__); actions.push({ 'func': func, 'args': arguments, 'thisArg': object }); result.__chain__ = chainAll; return result; } return func.apply(object, arrayPush([this.value()], arguments)); }; } }); return object; } /** * Reverts the `_` variable to its previous value and returns a reference to * the `lodash` function. * * @static * @since 0.1.0 * @memberOf _ * @category Util * @returns {Function} Returns the `lodash` function. * @example * * var lodash = _.noConflict(); */ function noConflict() { if (root._ === this) { root._ = oldDash; } return this; } /** * This method returns `undefined`. * * @static * @memberOf _ * @since 2.3.0 * @category Util * @example * * _.times(2, _.noop); * // => [undefined, undefined] */ function noop() { // No operation performed. } /** * Creates a function that gets the argument at index `n`. If `n` is negative, * the nth argument from the end is returned. * * @static * @memberOf _ * @since 4.0.0 * @category Util * @param {number} [n=0] The index of the argument to return. * @returns {Function} Returns the new pass-thru function. * @example * * var func = _.nthArg(1); * func('a', 'b', 'c', 'd'); * // => 'b' * * var func = _.nthArg(-2); * func('a', 'b', 'c', 'd'); * // => 'c' */ function nthArg(n) { n = toInteger(n); return baseRest(function(args) { return baseNth(args, n); }); } /** * Creates a function that invokes `iteratees` with the arguments it receives * and returns their results. * * @static * @memberOf _ * @since 4.0.0 * @category Util * @param {...(Function|Function[])} [iteratees=[_.identity]] * The iteratees to invoke. * @returns {Function} Returns the new function. * @example * * var func = _.over([Math.max, Math.min]); * * func(1, 2, 3, 4); * // => [4, 1] */ var over = createOver(arrayMap); /** * Creates a function that checks if **all** of the `predicates` return * truthy when invoked with the arguments it receives. * * @static * @memberOf _ * @since 4.0.0 * @category Util * @param {...(Function|Function[])} [predicates=[_.identity]] * The predicates to check. * @returns {Function} Returns the new function. * @example * * var func = _.overEvery([Boolean, isFinite]); * * func('1'); * // => true * * func(null); * // => false * * func(NaN); * // => false */ var overEvery = createOver(arrayEvery); /** * Creates a function that checks if **any** of the `predicates` return * truthy when invoked with the arguments it receives. * * @static * @memberOf _ * @since 4.0.0 * @category Util * @param {...(Function|Function[])} [predicates=[_.identity]] * The predicates to check. * @returns {Function} Returns the new function. * @example * * var func = _.overSome([Boolean, isFinite]); * * func('1'); * // => true * * func(null); * // => true * * func(NaN); * // => false */ var overSome = createOver(arraySome); /** * Creates a function that returns the value at `path` of a given object. * * @static * @memberOf _ * @since 2.4.0 * @category Util * @param {Array|string} path The path of the property to get. * @returns {Function} Returns the new accessor function. * @example * * var objects = [ * { 'a': { 'b': 2 } }, * { 'a': { 'b': 1 } } * ]; * * _.map(objects, _.property('a.b')); * // => [2, 1] * * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b'); * // => [1, 2] */ function property(path) { return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path); } /** * The opposite of `_.property`; this method creates a function that returns * the value at a given path of `object`. * * @static * @memberOf _ * @since 3.0.0 * @category Util * @param {Object} object The object to query. * @returns {Function} Returns the new accessor function. * @example * * var array = [0, 1, 2], * object = { 'a': array, 'b': array, 'c': array }; * * _.map(['a[2]', 'c[0]'], _.propertyOf(object)); * // => [2, 0] * * _.map([['a', '2'], ['c', '0']], _.propertyOf(object)); * // => [2, 0] */ function propertyOf(object) { return function(path) { return object == null ? undefined : baseGet(object, path); }; } /** * Creates an array of numbers (positive and/or negative) progressing from * `start` up to, but not including, `end`. A step of `-1` is used if a negative * `start` is specified without an `end` or `step`. If `end` is not specified, * it's set to `start` with `start` then set to `0`. * * **Note:** JavaScript follows the IEEE-754 standard for resolving * floating-point values which can produce unexpected results. * * @static * @since 0.1.0 * @memberOf _ * @category Util * @param {number} [start=0] The start of the range. * @param {number} end The end of the range. * @param {number} [step=1] The value to increment or decrement by. * @returns {Array} Returns the range of numbers. * @see _.inRange, _.rangeRight * @example * * _.range(4); * // => [0, 1, 2, 3] * * _.range(-4); * // => [0, -1, -2, -3] * * _.range(1, 5); * // => [1, 2, 3, 4] * * _.range(0, 20, 5); * // => [0, 5, 10, 15] * * _.range(0, -4, -1); * // => [0, -1, -2, -3] * * _.range(1, 4, 0); * // => [1, 1, 1] * * _.range(0); * // => [] */ var range = createRange(); /** * This method is like `_.range` except that it populates values in * descending order. * * @static * @memberOf _ * @since 4.0.0 * @category Util * @param {number} [start=0] The start of the range. * @param {number} end The end of the range. * @param {number} [step=1] The value to increment or decrement by. * @returns {Array} Returns the range of numbers. * @see _.inRange, _.range * @example * * _.rangeRight(4); * // => [3, 2, 1, 0] * * _.rangeRight(-4); * // => [-3, -2, -1, 0] * * _.rangeRight(1, 5); * // => [4, 3, 2, 1] * * _.rangeRight(0, 20, 5); * // => [15, 10, 5, 0] * * _.rangeRight(0, -4, -1); * // => [-3, -2, -1, 0] * * _.rangeRight(1, 4, 0); * // => [1, 1, 1] * * _.rangeRight(0); * // => [] */ var rangeRight = createRange(true); /** * This method returns a new empty array. * * @static * @memberOf _ * @since 4.13.0 * @category Util * @returns {Array} Returns the new empty array. * @example * * var arrays = _.times(2, _.stubArray); * * console.log(arrays); * // => [[], []] * * console.log(arrays[0] === arrays[1]); * // => false */ function stubArray() { return []; } /** * This method returns `false`. * * @static * @memberOf _ * @since 4.13.0 * @category Util * @returns {boolean} Returns `false`. * @example * * _.times(2, _.stubFalse); * // => [false, false] */ function stubFalse() { return false; } /** * This method returns a new empty object. * * @static * @memberOf _ * @since 4.13.0 * @category Util * @returns {Object} Returns the new empty object. * @example * * var objects = _.times(2, _.stubObject); * * console.log(objects); * // => [{}, {}] * * console.log(objects[0] === objects[1]); * // => false */ function stubObject() { return {}; } /** * This method returns an empty string. * * @static * @memberOf _ * @since 4.13.0 * @category Util * @returns {string} Returns the empty string. * @example * * _.times(2, _.stubString); * // => ['', ''] */ function stubString() { return ''; } /** * This method returns `true`. * * @static * @memberOf _ * @since 4.13.0 * @category Util * @returns {boolean} Returns `true`. * @example * * _.times(2, _.stubTrue); * // => [true, true] */ function stubTrue() { return true; } /** * Invokes the iteratee `n` times, returning an array of the results of * each invocation. The iteratee is invoked with one argument; (index). * * @static * @since 0.1.0 * @memberOf _ * @category Util * @param {number} n The number of times to invoke `iteratee`. * @param {Function} [iteratee=_.identity] The function invoked per iteration. * @returns {Array} Returns the array of results. * @example * * _.times(3, String); * // => ['0', '1', '2'] * * _.times(4, _.constant(0)); * // => [0, 0, 0, 0] */ function times(n, iteratee) { n = toInteger(n); if (n < 1 || n > MAX_SAFE_INTEGER) { return []; } var index = MAX_ARRAY_LENGTH, length = nativeMin(n, MAX_ARRAY_LENGTH); iteratee = getIteratee(iteratee); n -= MAX_ARRAY_LENGTH; var result = baseTimes(length, iteratee); while (++index < n) { iteratee(index); } return result; } /** * Converts `value` to a property path array. * * @static * @memberOf _ * @since 4.0.0 * @category Util * @param {*} value The value to convert. * @returns {Array} Returns the new property path array. * @example * * _.toPath('a.b.c'); * // => ['a', 'b', 'c'] * * _.toPath('a[0].b.c'); * // => ['a', '0', 'b', 'c'] */ function toPath(value) { if (isArray(value)) { return arrayMap(value, toKey); } return isSymbol(value) ? [value] : copyArray(stringToPath(toString(value))); } /** * Generates a unique ID. If `prefix` is given, the ID is appended to it. * * @static * @since 0.1.0 * @memberOf _ * @category Util * @param {string} [prefix=''] The value to prefix the ID with. * @returns {string} Returns the unique ID. * @example * * _.uniqueId('contact_'); * // => 'contact_104' * * _.uniqueId(); * // => '105' */ function uniqueId(prefix) { var id = ++idCounter; return toString(prefix) + id; } /*------------------------------------------------------------------------*/ /** * Adds two numbers. * * @static * @memberOf _ * @since 3.4.0 * @category Math * @param {number} augend The first number in an addition. * @param {number} addend The second number in an addition. * @returns {number} Returns the total. * @example * * _.add(6, 4); * // => 10 */ var add = createMathOperation(function(augend, addend) { return augend + addend; }, 0); /** * Computes `number` rounded up to `precision`. * * @static * @memberOf _ * @since 3.10.0 * @category Math * @param {number} number The number to round up. * @param {number} [precision=0] The precision to round up to. * @returns {number} Returns the rounded up number. * @example * * _.ceil(4.006); * // => 5 * * _.ceil(6.004, 2); * // => 6.01 * * _.ceil(6040, -2); * // => 6100 */ var ceil = createRound('ceil'); /** * Divide two numbers. * * @static * @memberOf _ * @since 4.7.0 * @category Math * @param {number} dividend The first number in a division. * @param {number} divisor The second number in a division. * @returns {number} Returns the quotient. * @example * * _.divide(6, 4); * // => 1.5 */ var divide = createMathOperation(function(dividend, divisor) { return dividend / divisor; }, 1); /** * Computes `number` rounded down to `precision`. * * @static * @memberOf _ * @since 3.10.0 * @category Math * @param {number} number The number to round down. * @param {number} [precision=0] The precision to round down to. * @returns {number} Returns the rounded down number. * @example * * _.floor(4.006); * // => 4 * * _.floor(0.046, 2); * // => 0.04 * * _.floor(4060, -2); * // => 4000 */ var floor = createRound('floor'); /** * Computes the maximum value of `array`. If `array` is empty or falsey, * `undefined` is returned. * * @static * @since 0.1.0 * @memberOf _ * @category Math * @param {Array} array The array to iterate over. * @returns {*} Returns the maximum value. * @example * * _.max([4, 2, 8, 6]); * // => 8 * * _.max([]); * // => undefined */ function max(array) { return (array && array.length) ? baseExtremum(array, identity, baseGt) : undefined; } /** * This method is like `_.max` except that it accepts `iteratee` which is * invoked for each element in `array` to generate the criterion by which * the value is ranked. The iteratee is invoked with one argument: (value). * * @static * @memberOf _ * @since 4.0.0 * @category Math * @param {Array} array The array to iterate over. * @param {Function} [iteratee=_.identity] The iteratee invoked per element. * @returns {*} Returns the maximum value. * @example * * var objects = [{ 'n': 1 }, { 'n': 2 }]; * * _.maxBy(objects, function(o) { return o.n; }); * // => { 'n': 2 } * * // The `_.property` iteratee shorthand. * _.maxBy(objects, 'n'); * // => { 'n': 2 } */ function maxBy(array, iteratee) { return (array && array.length) ? baseExtremum(array, getIteratee(iteratee, 2), baseGt) : undefined; } /** * Computes the mean of the values in `array`. * * @static * @memberOf _ * @since 4.0.0 * @category Math * @param {Array} array The array to iterate over. * @returns {number} Returns the mean. * @example * * _.mean([4, 2, 8, 6]); * // => 5 */ function mean(array) { return baseMean(array, identity); } /** * This method is like `_.mean` except that it accepts `iteratee` which is * invoked for each element in `array` to generate the value to be averaged. * The iteratee is invoked with one argument: (value). * * @static * @memberOf _ * @since 4.7.0 * @category Math * @param {Array} array The array to iterate over. * @param {Function} [iteratee=_.identity] The iteratee invoked per element. * @returns {number} Returns the mean. * @example * * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }]; * * _.meanBy(objects, function(o) { return o.n; }); * // => 5 * * // The `_.property` iteratee shorthand. * _.meanBy(objects, 'n'); * // => 5 */ function meanBy(array, iteratee) { return baseMean(array, getIteratee(iteratee, 2)); } /** * Computes the minimum value of `array`. If `array` is empty or falsey, * `undefined` is returned. * * @static * @since 0.1.0 * @memberOf _ * @category Math * @param {Array} array The array to iterate over. * @returns {*} Returns the minimum value. * @example * * _.min([4, 2, 8, 6]); * // => 2 * * _.min([]); * // => undefined */ function min(array) { return (array && array.length) ? baseExtremum(array, identity, baseLt) : undefined; } /** * This method is like `_.min` except that it accepts `iteratee` which is * invoked for each element in `array` to generate the criterion by which * the value is ranked. The iteratee is invoked with one argument: (value). * * @static * @memberOf _ * @since 4.0.0 * @category Math * @param {Array} array The array to iterate over. * @param {Function} [iteratee=_.identity] The iteratee invoked per element. * @returns {*} Returns the minimum value. * @example * * var objects = [{ 'n': 1 }, { 'n': 2 }]; * * _.minBy(objects, function(o) { return o.n; }); * // => { 'n': 1 } * * // The `_.property` iteratee shorthand. * _.minBy(objects, 'n'); * // => { 'n': 1 } */ function minBy(array, iteratee) { return (array && array.length) ? baseExtremum(array, getIteratee(iteratee, 2), baseLt) : undefined; } /** * Multiply two numbers. * * @static * @memberOf _ * @since 4.7.0 * @category Math * @param {number} multiplier The first number in a multiplication. * @param {number} multiplicand The second number in a multiplication. * @returns {number} Returns the product. * @example * * _.multiply(6, 4); * // => 24 */ var multiply = createMathOperation(function(multiplier, multiplicand) { return multiplier * multiplicand; }, 1); /** * Computes `number` rounded to `precision`. * * @static * @memberOf _ * @since 3.10.0 * @category Math * @param {number} number The number to round. * @param {number} [precision=0] The precision to round to. * @returns {number} Returns the rounded number. * @example * * _.round(4.006); * // => 4 * * _.round(4.006, 2); * // => 4.01 * * _.round(4060, -2); * // => 4100 */ var round = createRound('round'); /** * Subtract two numbers. * * @static * @memberOf _ * @since 4.0.0 * @category Math * @param {number} minuend The first number in a subtraction. * @param {number} subtrahend The second number in a subtraction. * @returns {number} Returns the difference. * @example * * _.subtract(6, 4); * // => 2 */ var subtract = createMathOperation(function(minuend, subtrahend) { return minuend - subtrahend; }, 0); /** * Computes the sum of the values in `array`. * * @static * @memberOf _ * @since 3.4.0 * @category Math * @param {Array} array The array to iterate over. * @returns {number} Returns the sum. * @example * * _.sum([4, 2, 8, 6]); * // => 20 */ function sum(array) { return (array && array.length) ? baseSum(array, identity) : 0; } /** * This method is like `_.sum` except that it accepts `iteratee` which is * invoked for each element in `array` to generate the value to be summed. * The iteratee is invoked with one argument: (value). * * @static * @memberOf _ * @since 4.0.0 * @category Math * @param {Array} array The array to iterate over. * @param {Function} [iteratee=_.identity] The iteratee invoked per element. * @returns {number} Returns the sum. * @example * * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }]; * * _.sumBy(objects, function(o) { return o.n; }); * // => 20 * * // The `_.property` iteratee shorthand. * _.sumBy(objects, 'n'); * // => 20 */ function sumBy(array, iteratee) { return (array && array.length) ? baseSum(array, getIteratee(iteratee, 2)) : 0; } /*------------------------------------------------------------------------*/ // Add methods that return wrapped values in chain sequences. lodash.after = after; lodash.ary = ary; lodash.assign = assign; lodash.assignIn = assignIn; lodash.assignInWith = assignInWith; lodash.assignWith = assignWith; lodash.at = at; lodash.before = before; lodash.bind = bind; lodash.bindAll = bindAll; lodash.bindKey = bindKey; lodash.castArray = castArray; lodash.chain = chain; lodash.chunk = chunk; lodash.compact = compact; lodash.concat = concat; lodash.cond = cond; lodash.conforms = conforms; lodash.constant = constant; lodash.countBy = countBy; lodash.create = create; lodash.curry = curry; lodash.curryRight = curryRight; lodash.debounce = debounce; lodash.defaults = defaults; lodash.defaultsDeep = defaultsDeep; lodash.defer = defer; lodash.delay = delay; lodash.difference = difference; lodash.differenceBy = differenceBy; lodash.differenceWith = differenceWith; lodash.drop = drop; lodash.dropRight = dropRight; lodash.dropRightWhile = dropRightWhile; lodash.dropWhile = dropWhile; lodash.fill = fill; lodash.filter = filter; lodash.flatMap = flatMap; lodash.flatMapDeep = flatMapDeep; lodash.flatMapDepth = flatMapDepth; lodash.flatten = flatten; lodash.flattenDeep = flattenDeep; lodash.flattenDepth = flattenDepth; lodash.flip = flip; lodash.flow = flow; lodash.flowRight = flowRight; lodash.fromPairs = fromPairs; lodash.functions = functions; lodash.functionsIn = functionsIn; lodash.groupBy = groupBy; lodash.initial = initial; lodash.intersection = intersection; lodash.intersectionBy = intersectionBy; lodash.intersectionWith = intersectionWith; lodash.invert = invert; lodash.invertBy = invertBy; lodash.invokeMap = invokeMap; lodash.iteratee = iteratee; lodash.keyBy = keyBy; lodash.keys = keys; lodash.keysIn = keysIn; lodash.map = map; lodash.mapKeys = mapKeys; lodash.mapValues = mapValues; lodash.matches = matches; lodash.matchesProperty = matchesProperty; lodash.memoize = memoize; lodash.merge = merge; lodash.mergeWith = mergeWith; lodash.method = method; lodash.methodOf = methodOf; lodash.mixin = mixin; lodash.negate = negate; lodash.nthArg = nthArg; lodash.omit = omit; lodash.omitBy = omitBy; lodash.once = once; lodash.orderBy = orderBy; lodash.over = over; lodash.overArgs = overArgs; lodash.overEvery = overEvery; lodash.overSome = overSome; lodash.partial = partial; lodash.partialRight = partialRight; lodash.partition = partition; lodash.pick = pick; lodash.pickBy = pickBy; lodash.property = property; lodash.propertyOf = propertyOf; lodash.pull = pull; lodash.pullAll = pullAll; lodash.pullAllBy = pullAllBy; lodash.pullAllWith = pullAllWith; lodash.pullAt = pullAt; lodash.range = range; lodash.rangeRight = rangeRight; lodash.rearg = rearg; lodash.reject = reject; lodash.remove = remove; lodash.rest = rest; lodash.reverse = reverse; lodash.sampleSize = sampleSize; lodash.set = set; lodash.setWith = setWith; lodash.shuffle = shuffle; lodash.slice = slice; lodash.sortBy = sortBy; lodash.sortedUniq = sortedUniq; lodash.sortedUniqBy = sortedUniqBy; lodash.split = split; lodash.spread = spread; lodash.tail = tail; lodash.take = take; lodash.takeRight = takeRight; lodash.takeRightWhile = takeRightWhile; lodash.takeWhile = takeWhile; lodash.tap = tap; lodash.throttle = throttle; lodash.thru = thru; lodash.toArray = toArray; lodash.toPairs = toPairs; lodash.toPairsIn = toPairsIn; lodash.toPath = toPath; lodash.toPlainObject = toPlainObject; lodash.transform = transform; lodash.unary = unary; lodash.union = union; lodash.unionBy = unionBy; lodash.unionWith = unionWith; lodash.uniq = uniq; lodash.uniqBy = uniqBy; lodash.uniqWith = uniqWith; lodash.unset = unset; lodash.unzip = unzip; lodash.unzipWith = unzipWith; lodash.update = update; lodash.updateWith = updateWith; lodash.values = values; lodash.valuesIn = valuesIn; lodash.without = without; lodash.words = words; lodash.wrap = wrap; lodash.xor = xor; lodash.xorBy = xorBy; lodash.xorWith = xorWith; lodash.zip = zip; lodash.zipObject = zipObject; lodash.zipObjectDeep = zipObjectDeep; lodash.zipWith = zipWith; // Add aliases. lodash.entries = toPairs; lodash.entriesIn = toPairsIn; lodash.extend = assignIn; lodash.extendWith = assignInWith; // Add methods to `lodash.prototype`. mixin(lodash, lodash); /*------------------------------------------------------------------------*/ // Add methods that return unwrapped values in chain sequences. lodash.add = add; lodash.attempt = attempt; lodash.camelCase = camelCase; lodash.capitalize = capitalize; lodash.ceil = ceil; lodash.clamp = clamp; lodash.clone = clone; lodash.cloneDeep = cloneDeep; lodash.cloneDeepWith = cloneDeepWith; lodash.cloneWith = cloneWith; lodash.conformsTo = conformsTo; lodash.deburr = deburr; lodash.defaultTo = defaultTo; lodash.divide = divide; lodash.endsWith = endsWith; lodash.eq = eq; lodash.escape = escape; lodash.escapeRegExp = escapeRegExp; lodash.every = every; lodash.find = find; lodash.findIndex = findIndex; lodash.findKey = findKey; lodash.findLast = findLast; lodash.findLastIndex = findLastIndex; lodash.findLastKey = findLastKey; lodash.floor = floor; lodash.forEach = forEach; lodash.forEachRight = forEachRight; lodash.forIn = forIn; lodash.forInRight = forInRight; lodash.forOwn = forOwn; lodash.forOwnRight = forOwnRight; lodash.get = get; lodash.gt = gt; lodash.gte = gte; lodash.has = has; lodash.hasIn = hasIn; lodash.head = head; lodash.identity = identity; lodash.includes = includes; lodash.indexOf = indexOf; lodash.inRange = inRange; lodash.invoke = invoke; lodash.isArguments = isArguments; lodash.isArray = isArray; lodash.isArrayBuffer = isArrayBuffer; lodash.isArrayLike = isArrayLike; lodash.isArrayLikeObject = isArrayLikeObject; lodash.isBoolean = isBoolean; lodash.isBuffer = isBuffer; lodash.isDate = isDate; lodash.isElement = isElement; lodash.isEmpty = isEmpty; lodash.isEqual = isEqual; lodash.isEqualWith = isEqualWith; lodash.isError = isError; lodash.isFinite = isFinite; lodash.isFunction = isFunction; lodash.isInteger = isInteger; lodash.isLength = isLength; lodash.isMap = isMap; lodash.isMatch = isMatch; lodash.isMatchWith = isMatchWith; lodash.isNaN = isNaN; lodash.isNative = isNative; lodash.isNil = isNil; lodash.isNull = isNull; lodash.isNumber = isNumber; lodash.isObject = isObject; lodash.isObjectLike = isObjectLike; lodash.isPlainObject = isPlainObject; lodash.isRegExp = isRegExp; lodash.isSafeInteger = isSafeInteger; lodash.isSet = isSet; lodash.isString = isString; lodash.isSymbol = isSymbol; lodash.isTypedArray = isTypedArray; lodash.isUndefined = isUndefined; lodash.isWeakMap = isWeakMap; lodash.isWeakSet = isWeakSet; lodash.join = join; lodash.kebabCase = kebabCase; lodash.last = last; lodash.lastIndexOf = lastIndexOf; lodash.lowerCase = lowerCase; lodash.lowerFirst = lowerFirst; lodash.lt = lt; lodash.lte = lte; lodash.max = max; lodash.maxBy = maxBy; lodash.mean = mean; lodash.meanBy = meanBy; lodash.min = min; lodash.minBy = minBy; lodash.stubArray = stubArray; lodash.stubFalse = stubFalse; lodash.stubObject = stubObject; lodash.stubString = stubString; lodash.stubTrue = stubTrue; lodash.multiply = multiply; lodash.nth = nth; lodash.noConflict = noConflict; lodash.noop = noop; lodash.now = now; lodash.pad = pad; lodash.padEnd = padEnd; lodash.padStart = padStart; lodash.parseInt = parseInt; lodash.random = random; lodash.reduce = reduce; lodash.reduceRight = reduceRight; lodash.repeat = repeat; lodash.replace = replace; lodash.result = result; lodash.round = round; lodash.runInContext = runInContext; lodash.sample = sample; lodash.size = size; lodash.snakeCase = snakeCase; lodash.some = some; lodash.sortedIndex = sortedIndex; lodash.sortedIndexBy = sortedIndexBy; lodash.sortedIndexOf = sortedIndexOf; lodash.sortedLastIndex = sortedLastIndex; lodash.sortedLastIndexBy = sortedLastIndexBy; lodash.sortedLastIndexOf = sortedLastIndexOf; lodash.startCase = startCase; lodash.startsWith = startsWith; lodash.subtract = subtract; lodash.sum = sum; lodash.sumBy = sumBy; lodash.template = template; lodash.times = times; lodash.toFinite = toFinite; lodash.toInteger = toInteger; lodash.toLength = toLength; lodash.toLower = toLower; lodash.toNumber = toNumber; lodash.toSafeInteger = toSafeInteger; lodash.toString = toString; lodash.toUpper = toUpper; lodash.trim = trim; lodash.trimEnd = trimEnd; lodash.trimStart = trimStart; lodash.truncate = truncate; lodash.unescape = unescape; lodash.uniqueId = uniqueId; lodash.upperCase = upperCase; lodash.upperFirst = upperFirst; // Add aliases. lodash.each = forEach; lodash.eachRight = forEachRight; lodash.first = head; mixin(lodash, (function() { var source = {}; baseForOwn(lodash, function(func, methodName) { if (!hasOwnProperty.call(lodash.prototype, methodName)) { source[methodName] = func; } }); return source; }()), { 'chain': false }); /*------------------------------------------------------------------------*/ /** * The semantic version number. * * @static * @memberOf _ * @type {string} */ lodash.VERSION = VERSION; // Assign default placeholders. arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) { lodash[methodName].placeholder = lodash; }); // Add `LazyWrapper` methods for `_.drop` and `_.take` variants. arrayEach(['drop', 'take'], function(methodName, index) { LazyWrapper.prototype[methodName] = function(n) { n = n === undefined ? 1 : nativeMax(toInteger(n), 0); var result = (this.__filtered__ && !index) ? new LazyWrapper(this) : this.clone(); if (result.__filtered__) { result.__takeCount__ = nativeMin(n, result.__takeCount__); } else { result.__views__.push({ 'size': nativeMin(n, MAX_ARRAY_LENGTH), 'type': methodName + (result.__dir__ < 0 ? 'Right' : '') }); } return result; }; LazyWrapper.prototype[methodName + 'Right'] = function(n) { return this.reverse()[methodName](n).reverse(); }; }); // Add `LazyWrapper` methods that accept an `iteratee` value. arrayEach(['filter', 'map', 'takeWhile'], function(methodName, index) { var type = index + 1, isFilter = type == LAZY_FILTER_FLAG || type == LAZY_WHILE_FLAG; LazyWrapper.prototype[methodName] = function(iteratee) { var result = this.clone(); result.__iteratees__.push({ 'iteratee': getIteratee(iteratee, 3), 'type': type }); result.__filtered__ = result.__filtered__ || isFilter; return result; }; }); // Add `LazyWrapper` methods for `_.head` and `_.last`. arrayEach(['head', 'last'], function(methodName, index) { var takeName = 'take' + (index ? 'Right' : ''); LazyWrapper.prototype[methodName] = function() { return this[takeName](1).value()[0]; }; }); // Add `LazyWrapper` methods for `_.initial` and `_.tail`. arrayEach(['initial', 'tail'], function(methodName, index) { var dropName = 'drop' + (index ? '' : 'Right'); LazyWrapper.prototype[methodName] = function() { return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1); }; }); LazyWrapper.prototype.compact = function() { return this.filter(identity); }; LazyWrapper.prototype.find = function(predicate) { return this.filter(predicate).head(); }; LazyWrapper.prototype.findLast = function(predicate) { return this.reverse().find(predicate); }; LazyWrapper.prototype.invokeMap = baseRest(function(path, args) { if (typeof path == 'function') { return new LazyWrapper(this); } return this.map(function(value) { return baseInvoke(value, path, args); }); }); LazyWrapper.prototype.reject = function(predicate) { return this.filter(negate(getIteratee(predicate))); }; LazyWrapper.prototype.slice = function(start, end) { start = toInteger(start); var result = this; if (result.__filtered__ && (start > 0 || end < 0)) { return new LazyWrapper(result); } if (start < 0) { result = result.takeRight(-start); } else if (start) { result = result.drop(start); } if (end !== undefined) { end = toInteger(end); result = end < 0 ? result.dropRight(-end) : result.take(end - start); } return result; }; LazyWrapper.prototype.takeRightWhile = function(predicate) { return this.reverse().takeWhile(predicate).reverse(); }; LazyWrapper.prototype.toArray = function() { return this.take(MAX_ARRAY_LENGTH); }; // Add `LazyWrapper` methods to `lodash.prototype`. baseForOwn(LazyWrapper.prototype, function(func, methodName) { var checkIteratee = /^(?:filter|find|map|reject)|While$/.test(methodName), isTaker = /^(?:head|last)$/.test(methodName), lodashFunc = lodash[isTaker ? ('take' + (methodName == 'last' ? 'Right' : '')) : methodName], retUnwrapped = isTaker || /^find/.test(methodName); if (!lodashFunc) { return; } lodash.prototype[methodName] = function() { var value = this.__wrapped__, args = isTaker ? [1] : arguments, isLazy = value instanceof LazyWrapper, iteratee = args[0], useLazy = isLazy || isArray(value); var interceptor = function(value) { var result = lodashFunc.apply(lodash, arrayPush([value], args)); return (isTaker && chainAll) ? result[0] : result; }; if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) { // Avoid lazy use if the iteratee has a "length" value other than `1`. isLazy = useLazy = false; } var chainAll = this.__chain__, isHybrid = !!this.__actions__.length, isUnwrapped = retUnwrapped && !chainAll, onlyLazy = isLazy && !isHybrid; if (!retUnwrapped && useLazy) { value = onlyLazy ? value : new LazyWrapper(this); var result = func.apply(value, args); result.__actions__.push({ 'func': thru, 'args': [interceptor], 'thisArg': undefined }); return new LodashWrapper(result, chainAll); } if (isUnwrapped && onlyLazy) { return func.apply(this, args); } result = this.thru(interceptor); return isUnwrapped ? (isTaker ? result.value()[0] : result.value()) : result; }; }); // Add `Array` methods to `lodash.prototype`. arrayEach(['pop', 'push', 'shift', 'sort', 'splice', 'unshift'], function(methodName) { var func = arrayProto[methodName], chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru', retUnwrapped = /^(?:pop|shift)$/.test(methodName); lodash.prototype[methodName] = function() { var args = arguments; if (retUnwrapped && !this.__chain__) { var value = this.value(); return func.apply(isArray(value) ? value : [], args); } return this[chainName](function(value) { return func.apply(isArray(value) ? value : [], args); }); }; }); // Map minified method names to their real names. baseForOwn(LazyWrapper.prototype, function(func, methodName) { var lodashFunc = lodash[methodName]; if (lodashFunc) { var key = (lodashFunc.name + ''), names = realNames[key] || (realNames[key] = []); names.push({ 'name': methodName, 'func': lodashFunc }); } }); realNames[createHybrid(undefined, WRAP_BIND_KEY_FLAG).name] = [{ 'name': 'wrapper', 'func': undefined }]; // Add methods to `LazyWrapper`. LazyWrapper.prototype.clone = lazyClone; LazyWrapper.prototype.reverse = lazyReverse; LazyWrapper.prototype.value = lazyValue; // Add chain sequence methods to the `lodash` wrapper. lodash.prototype.at = wrapperAt; lodash.prototype.chain = wrapperChain; lodash.prototype.commit = wrapperCommit; lodash.prototype.next = wrapperNext; lodash.prototype.plant = wrapperPlant; lodash.prototype.reverse = wrapperReverse; lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue; // Add lazy aliases. lodash.prototype.first = lodash.prototype.head; if (symIterator) { lodash.prototype[symIterator] = wrapperToIterator; } return lodash; }); /*--------------------------------------------------------------------------*/ // Export lodash. var _ = runInContext(); // Some AMD build optimizers, like r.js, check for condition patterns like: if (true) { // Expose Lodash on the global object to prevent errors when Lodash is // loaded by a script tag in the presence of an AMD loader. // See http://requirejs.org/docs/errors.html#mismatch for more details. // Use `_.noConflict` to remove Lodash from the global object. root._ = _; // Define as an anonymous module so, through path mapping, it can be // referenced as the "underscore" module. !(__WEBPACK_AMD_DEFINE_RESULT__ = function() { return _; }.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)); } // Check for `exports` after `define` in case a build optimizer adds it. else if (freeModule) { // Export for Node.js. (freeModule.exports = _)._ = _; // Export for CommonJS support. freeExports._ = _; } else { // Export to the global object. root._ = _; } }.call(this)); /* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }()), __webpack_require__(5)(module))) /***/ }), /* 5 */ /***/ (function(module, exports) { module.exports = function(module) { if(!module.webpackPolyfill) { module.deprecate = function() {}; module.paths = []; // module.parent = undefined by default module.children = []; module.webpackPolyfill = 1; } return module; } /***/ }), /* 6 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; Object.defineProperty(exports, "__esModule", { value: true }); var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }(); var _d2 = __webpack_require__(2); var _d3 = _interopRequireDefault(_d2); var _lodash = __webpack_require__(4); function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; } function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } } var PredictProba = function () { // svg: d3 object with the svg in question // class_names: array of class names // predict_probas: array of prediction probabilities function PredictProba(svg, class_names, predict_probas) { var title = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'Prediction probabilities'; _classCallCheck(this, PredictProba); var width = parseInt(svg.style('width')); this.names = class_names; this.names.push('Other'); if (class_names.length < 10) { this.colors = _d3.default.scale.category10().domain(this.names); this.colors_i = _d3.default.scale.category10().domain((0, _lodash.range)(this.names.length)); } else { this.colors = _d3.default.scale.category20().domain(this.names); this.colors_i = _d3.default.scale.category20().domain((0, _lodash.range)(this.names.length)); } var _map_classes = this.map_classes(this.names, predict_probas), _map_classes2 = _slicedToArray(_map_classes, 2), names = _map_classes2[0], data = _map_classes2[1]; var bar_x = width - 125; var class_names_width = bar_x; var bar_width = width - bar_x - 32; var x_scale = _d3.default.scale.linear().range([0, bar_width]); var bar_height = 17; var space_between_bars = 5; var bar_yshift = title === '' ? 0 : 35; var n_bars = Math.min(5, data.length); this.svg_height = n_bars * (bar_height + space_between_bars) + bar_yshift; svg.style('height', this.svg_height + 'px'); var this_object = this; if (title !== '') { svg.append('text').text(title).attr('x', 20).attr('y', 20); } var bar_y = function bar_y(i) { return (bar_height + space_between_bars) * i + bar_yshift; }; var bar = svg.append("g"); var _iteratorNormalCompletion = true; var _didIteratorError = false; var _iteratorError = undefined; try { for (var _iterator = (0, _lodash.range)(data.length)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) { var i = _step.value; var color = this.colors(names[i]); if (names[i] == 'Other' && this.names.length > 20) { color = '#5F9EA0'; } var rect = bar.append("rect"); rect.attr("x", bar_x).attr("y", bar_y(i)).attr("height", bar_height).attr("width", x_scale(data[i])).style("fill", color); bar.append("rect").attr("x", bar_x).attr("y", bar_y(i)).attr("height", bar_height).attr("width", bar_width - 1).attr("fill-opacity", 0).attr("stroke", "black"); var text = bar.append("text"); text.classed("prob_text", true); text.attr("y", bar_y(i) + bar_height - 3).attr("fill", "black").style("font", "14px tahoma, sans-serif"); text = bar.append("text"); text.attr("x", bar_x + x_scale(data[i]) + 5).attr("y", bar_y(i) + bar_height - 3).attr("fill", "black").style("font", "14px tahoma, sans-serif").text(data[i].toFixed(2)); text = bar.append("text"); text.attr("x", bar_x - 10).attr("y", bar_y(i) + bar_height - 3).attr("fill", "black").attr("text-anchor", "end").style("font", "14px tahoma, sans-serif").text(names[i]); while (text.node().getBBox()['width'] + 1 > class_names_width - 10) { // TODO: ta mostrando sÃ³ dois, e talvez quando hover mostrar o texto // todo var cur_text = text.text().slice(0, text.text().length - 5); text.text(cur_text + '...'); if (cur_text === '') { break; } } } } catch (err) { _didIteratorError = true; _iteratorError = err; } finally { try { if (!_iteratorNormalCompletion && _iterator.return) { _iterator.return(); } } finally { if (_didIteratorError) { throw _iteratorError; } } } } PredictProba.prototype.map_classes = function map_classes(class_names, predict_proba) { if (class_names.length 4 && arguments[4] !== undefined ? arguments[4] : 'Predicted value'; var log_coords = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false; _classCallCheck(this, PredictedValue); if (min_value == max_value) { var width_proportion = 1.0; } else { var width_proportion = (predicted_value - min_value) / (max_value - min_value); } var width = parseInt(svg.style('width')); this.color = _d2.default.scale.category10(); this.color('predicted_value'); // + 2 is due to it being a float var num_digits = Math.floor(Math.max(Math.log10(min_value), Math.log10(max_value))) + 2; num_digits = Math.max(num_digits, 3); var corner_width = 12 * num_digits; var corner_padding = 5.5 * num_digits; var bar_x = corner_width + corner_padding; var bar_width = width - corner_width * 2 - corner_padding * 2; var x_scale = _d2.default.scale.linear().range([0, bar_width]); var bar_height = 17; var bar_yshift = title === '' ? 0 : 35; var n_bars = 1; var this_object = this; if (title !== '') { svg.append('text').text(title).attr('x', 20).attr('y', 20); } var bar_y = bar_yshift; var bar = svg.append("g"); //filled in bar representing predicted value in range var rect = bar.append("rect"); rect.attr("x", bar_x).attr("y", bar_y).attr("height", bar_height).attr("width", x_scale(width_proportion)).style("fill", this.color); //empty box representing range bar.append("rect").attr("x", bar_x).attr("y", bar_y).attr("height", bar_height).attr("width", x_scale(1)).attr("fill-opacity", 0).attr("stroke", "black"); var text = bar.append("text"); text.classed("prob_text", true); text.attr("y", bar_y + bar_height - 3).attr("fill", "black").style("font", "14px tahoma, sans-serif"); //text for min value text = bar.append("text"); text.attr("x", bar_x - corner_padding).attr("y", bar_y + bar_height - 3).attr("fill", "black").attr("text-anchor", "end").style("font", "14px tahoma, sans-serif").text(min_value.toFixed(2)); //text for range min annotation var v_adjust_min_value_annotation = text.node().getBBox().height; text = bar.append("text"); text.attr("x", bar_x - corner_padding).attr("y", bar_y + bar_height - 3 + v_adjust_min_value_annotation).attr("fill", "black").attr("text-anchor", "end").style("font", "14px tahoma, sans-serif").text("(min)"); //text for predicted value // console.log('bar height: ' + bar_height) text = bar.append("text"); text.text(predicted_value.toFixed(2)); // let h_adjust_predicted_value_text = text.node().getBBox().width / 2; var v_adjust_predicted_value_text = text.node().getBBox().height; text.attr("x", bar_x + x_scale(width_proportion)).attr("y", bar_y + bar_height + v_adjust_predicted_value_text).attr("fill", "black").attr("text-anchor", "middle").style("font", "14px tahoma, sans-serif"); //text for max value text = bar.append("text"); text.text(max_value.toFixed(2)); // let h_adjust = text.node().getBBox().width; text.attr("x", bar_x + bar_width + corner_padding).attr("y", bar_y + bar_height - 3).attr("fill", "black").attr("text-anchor", "begin").style("font", "14px tahoma, sans-serif"); //text for range max annotation var v_adjust_max_value_annotation = text.node().getBBox().height; text = bar.append("text"); text.attr("x", bar_x + bar_width + corner_padding).attr("y", bar_y + bar_height - 3 + v_adjust_min_value_annotation).attr("fill", "black").attr("text-anchor", "begin").style("font", "14px tahoma, sans-serif").text("(max)"); //readjust svg size // let svg_width = width + 1 * h_adjust; // svg.style('width', svg_width + 'px'); this.svg_height = n_bars * bar_height + bar_yshift + 2 * text.node().getBBox().height + 10; svg.style('height', this.svg_height + 'px'); if (log_coords) { console.log("svg width: " + svg_width); console.log("svg height: " + this.svg_height); console.log("bar_y: " + bar_y); console.log("bar_x: " + bar_x); console.log("Min value: " + min_value); console.log("Max value: " + max_value); console.log("Pred value: " + predicted_value); } }; exports.default = PredictedValue; /***/ }), /* 8 */ /***/ (function(module, exports, __webpack_require__) { /* WEBPACK VAR INJECTION */(function(global) {"use strict"; __webpack_require__(9); __webpack_require__(335); __webpack_require__(336); if (global._babelPolyfill) { throw new Error("only one instance of babel-polyfill is allowed"); } global._babelPolyfill = true; var DEFINE_PROPERTY = "defineProperty"; function define(O, key, value) { O[key] || Object[DEFINE_PROPERTY](O, key, { writable: true, configurable: true, value: value }); } define(String.prototype, "padLeft", "".padStart); define(String.prototype, "padRight", "".padEnd); "pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function (key) { [][key] && define(Array, key, Function.call.bind([][key])); }); /* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }()))) /***/ }), /* 9 */ /***/ (function(module, exports, __webpack_require__) { __webpack_require__(10); __webpack_require__(59); __webpack_require__(60); __webpack_require__(61); __webpack_require__(62); __webpack_require__(64); __webpack_require__(67); __webpack_require__(68); __webpack_require__(69); __webpack_require__(70); __webpack_require__(71); __webpack_require__(72); __webpack_require__(73); __webpack_require__(74); __webpack_require__(75); __webpack_require__(77); __webpack_require__(79); __webpack_require__(81); __webpack_require__(83); __webpack_require__(86); __webpack_require__(87); __webpack_require__(88); __webpack_require__(92); __webpack_require__(94); __webpack_require__(96); __webpack_require__(99); __webpack_require__(100); __webpack_require__(101); __webpack_require__(102); __webpack_require__(104); __webpack_require__(105); __webpack_require__(106); __webpack_require__(107); __webpack_require__(108); __webpack_require__(109); __webpack_require__(110); __webpack_require__(112); __webpack_require__(113); __webpack_require__(114); __webpack_require__(116); __webpack_require__(117); __webpack_require__(118); __webpack_require__(120); __webpack_require__(122); __webpack_require__(123); __webpack_require__(124); __webpack_require__(125); __webpack_require__(126); __webpack_require__(127); __webpack_require__(128); __webpack_require__(129); __webpack_require__(130); __webpack_require__(131); __webpack_require__(132); __webpack_require__(133); __webpack_require__(134); __webpack_require__(139); __webpack_require__(140); __webpack_require__(144); __webpack_require__(145); __webpack_require__(146); __webpack_require__(147); __webpack_require__(149); __webpack_require__(150); __webpack_require__(151); __webpack_require__(152); __webpack_require__(153); __webpack_require__(154); __webpack_require__(155); __webpack_require__(156); __webpack_require__(157); __webpack_require__(158); __webpack_require__(159); __webpack_require__(160); __webpack_require__(161); __webpack_require__(162); __webpack_require__(163); __webpack_require__(165); __webpack_require__(166); __webpack_require__(168); __webpack_require__(169); __webpack_require__(175); __webpack_require__(176); __webpack_require__(178); __webpack_require__(179); __webpack_require__(180); __webpack_require__(184); __webpack_require__(185); __webpack_require__(186); __webpack_require__(187); __webpack_require__(188); __webpack_require__(190); __webpack_require__(191); __webpack_require__(192); __webpack_require__(193); __webpack_require__(196); __webpack_require__(198); __webpack_require__(199); __webpack_require__(200); __webpack_require__(202); __webpack_require__(204); __webpack_require__(206); __webpack_require__(208); __webpack_require__(209); __webpack_require__(210); __webpack_require__(214); __webpack_require__(215); __webpack_require__(216); __webpack_require__(218); __webpack_require__(228); __webpack_require__(232); __webpack_require__(233); __webpack_require__(235); __webpack_require__(236); __webpack_require__(240); __webpack_require__(241); __webpack_require__(243); __webpack_require__(244); __webpack_require__(245); __webpack_require__(246); __webpack_require__(247); __webpack_require__(248); __webpack_require__(249); __webpack_require__(250); __webpack_require__(251); __webpack_require__(252); __webpack_require__(253); __webpack_require__(254); __webpack_require__(255); __webpack_require__(256); __webpack_require__(257); __webpack_require__(258); __webpack_require__(259); __webpack_require__(260); __webpack_require__(261); __webpack_require__(263); __webpack_require__(264); __webpack_require__(265); __webpack_require__(266); __webpack_require__(267); __webpack_require__(269); __webpack_require__(270); __webpack_require__(271); __webpack_require__(273); __webpack_require__(274); __webpack_require__(275); __webpack_require__(276); __webpack_require__(277); __webpack_require__(278); __webpack_require__(279); __webpack_require__(280); __webpack_require__(282); __webpack_require__(283); __webpack_require__(285); __webpack_require__(286); __webpack_require__(287); __webpack_require__(288); __webpack_require__(291); __webpack_require__(292); __webpack_require__(294); __webpack_require__(295); __webpack_require__(296); __webpack_require__(297); __webpack_require__(299); __webpack_require__(300); __webpack_require__(301); __webpack_require__(302); __webpack_require__(303); __webpack_require__(304); __webpack_require__(305); __webpack_require__(306); __webpack_require__(307); __webpack_require__(308); __webpack_require__(310); __webpack_require__(311); __webpack_require__(312); __webpack_require__(313); __webpack_require__(314); __webpack_require__(315); __webpack_require__(316); __webpack_require__(317); __webpack_require__(318); __webpack_require__(319); __webpack_require__(320); __webpack_require__(322); __webpack_require__(323); __webpack_require__(324); __webpack_require__(325); __webpack_require__(326); __webpack_require__(327); __webpack_require__(328); __webpack_require__(329); __webpack_require__(330); __webpack_require__(331); __webpack_require__(332); __webpack_require__(333); __webpack_require__(334); module.exports = __webpack_require__(16); /***/ }), /* 10 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; // ECMAScript 6 symbols shim var global = __webpack_require__(11); var has = __webpack_require__(12); var DESCRIPTORS = __webpack_require__(13); var $export = __webpack_require__(15); var redefine = __webpack_require__(25); var META = __webpack_require__(32).KEY; var $fails = __webpack_require__(14); var shared = __webpack_require__(28); var setToStringTag = __webpack_require__(33); var uid = __webpack_require__(26); var wks = __webpack_require__(34); var wksExt = __webpack_require__(35); var wksDefine = __webpack_require__(36); var enumKeys = __webpack_require__(37); var isArray = __webpack_require__(52); var anObject = __webpack_require__(19); var isObject = __webpack_require__(20); var toIObject = __webpack_require__(40); var toPrimitive = __webpack_require__(23); var createDesc = __webpack_require__(24); var _create = __webpack_require__(53); var gOPNExt = __webpack_require__(56); var $GOPD = __webpack_require__(58); var $DP = __webpack_require__(18); var $keys = __webpack_require__(38); var gOPD = $GOPD.f; var dP = $DP.f; var gOPN = gOPNExt.f; var $Symbol = global.Symbol; var $JSON = global.JSON; var _stringify = $JSON && $JSON.stringify; var PROTOTYPE = 'prototype'; var HIDDEN = wks('_hidden'); var TO_PRIMITIVE = wks('toPrimitive'); var isEnum = {}.propertyIsEnumerable; var SymbolRegistry = shared('symbol-registry'); var AllSymbols = shared('symbols'); var OPSymbols = shared('op-symbols'); var ObjectProto = Object[PROTOTYPE]; var USE_NATIVE = typeof $Symbol == 'function'; var QObject = global.QObject; // Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173 var setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild; // fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687 var setSymbolDesc = DESCRIPTORS && $fails(function () { return _create(dP({}, 'a', { get: function () { return dP(this, 'a', { value: 7 }).a; } })).a != 7; }) ? function (it, key, D) { var protoDesc = gOPD(ObjectProto, key); if (protoDesc) delete ObjectProto[key]; dP(it, key, D); if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc); } : dP; var wrap = function (tag) { var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]); sym._k = tag; return sym; }; var isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) { return typeof it == 'symbol'; } : function (it) { return it instanceof $Symbol; }; var $defineProperty = function defineProperty(it, key, D) { if (it === ObjectProto) $defineProperty(OPSymbols, key, D); anObject(it); key = toPrimitive(key, true); anObject(D); if (has(AllSymbols, key)) { if (!D.enumerable) { if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {})); it[HIDDEN][key] = true; } else { if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false; D = _create(D, { enumerable: createDesc(0, false) }); } return setSymbolDesc(it, key, D); } return dP(it, key, D); }; var $defineProperties = function defineProperties(it, P) { anObject(it); var keys = enumKeys(P = toIObject(P)); var i = 0; var l = keys.length; var key; while (l > i) $defineProperty(it, key = keys[i++], P[key]); return it; }; var $create = function create(it, P) { return P === undefined ? _create(it) : $defineProperties(_create(it), P); }; var $propertyIsEnumerable = function propertyIsEnumerable(key) { var E = isEnum.call(this, key = toPrimitive(key, true)); if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false; return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true; }; var $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) { it = toIObject(it); key = toPrimitive(key, true); if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return; var D = gOPD(it, key); if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true; return D; }; var $getOwnPropertyNames = function getOwnPropertyNames(it) { var names = gOPN(toIObject(it)); var result = []; var i = 0; var key; while (names.length > i) { if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key); } return result; }; var $getOwnPropertySymbols = function getOwnPropertySymbols(it) { var IS_OP = it === ObjectProto; var names = gOPN(IS_OP ? OPSymbols : toIObject(it)); var result = []; var i = 0; var key; while (names.length > i) { if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]); } return result; }; // 19.4.1.1 Symbol([description]) if (!USE_NATIVE) { $Symbol = function Symbol() { if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!'); var tag = uid(arguments.length > 0 ? arguments[0] : undefined); var $set = function (value) { if (this === ObjectProto) $set.call(OPSymbols, value); if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false; setSymbolDesc(this, tag, createDesc(1, value)); }; if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set }); return wrap(tag); }; redefine($Symbol[PROTOTYPE], 'toString', function toString() { return this._k; }); $GOPD.f = $getOwnPropertyDescriptor; $DP.f = $defineProperty; __webpack_require__(57).f = gOPNExt.f = $getOwnPropertyNames; __webpack_require__(51).f = $propertyIsEnumerable; __webpack_require__(50).f = $getOwnPropertySymbols; if (DESCRIPTORS && !__webpack_require__(29)) { redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true); } wksExt.f = function (name) { return wrap(wks(name)); }; } $export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol }); for (var es6Symbols = ( // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14 'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables' ).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]); for (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]); $export($export.S + $export.F * !USE_NATIVE, 'Symbol', { // 19.4.2.1 Symbol.for(key) 'for': function (key) { return has(SymbolRegistry, key += '') ? SymbolRegistry[key] : SymbolRegistry[key] = $Symbol(key); }, // 19.4.2.5 Symbol.keyFor(sym) keyFor: function keyFor(sym) { if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!'); for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key; }, useSetter: function () { setter = true; }, useSimple: function () { setter = false; } }); $export($export.S + $export.F * !USE_NATIVE, 'Object', { // 19.1.2.2 Object.create(O [, Properties]) create: $create, // 19.1.2.4 Object.defineProperty(O, P, Attributes) defineProperty: $defineProperty, // 19.1.2.3 Object.defineProperties(O, Properties) defineProperties: $defineProperties, // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P) getOwnPropertyDescriptor: $getOwnPropertyDescriptor, // 19.1.2.7 Object.getOwnPropertyNames(O) getOwnPropertyNames: $getOwnPropertyNames, // 19.1.2.8 Object.getOwnPropertySymbols(O) getOwnPropertySymbols: $getOwnPropertySymbols }); // 24.3.2 JSON.stringify(value [, replacer [, space]]) $JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () { var S = $Symbol(); // MS Edge converts symbol values to JSON as {} // WebKit converts symbol values to JSON as null // V8 throws on boxed symbols return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}'; })), 'JSON', { stringify: function stringify(it) { var args = [it]; var i = 1; var replacer, $replacer; while (arguments.length > i) args.push(arguments[i++]); $replacer = replacer = args[1]; if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined if (!isArray(replacer)) replacer = function (key, value) { if (typeof $replacer == 'function') value = $replacer.call(this, key, value); if (!isSymbol(value)) return value; }; args[1] = replacer; return _stringify.apply($JSON, args); } }); // 19.4.3.4 Symbol.prototype[@@toPrimitive](hint) $Symbol[PROTOTYPE][TO_PRIMITIVE] || __webpack_require__(17)($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf); // 19.4.3.5 Symbol.prototype[@@toStringTag] setToStringTag($Symbol, 'Symbol'); // 20.2.1.9 Math[@@toStringTag] setToStringTag(Math, 'Math', true); // 24.3.3 JSON[@@toStringTag] setToStringTag(global.JSON, 'JSON', true); /***/ }), /* 11 */ /***/ (function(module, exports) { // https://github.com/zloirock/core-js/issues/86#issuecomment-115759028 var global = module.exports = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self // eslint-disable-next-line no-new-func : Function('return this')(); if (typeof __g == 'number') __g = global; // eslint-disable-line no-undef /***/ }), /* 12 */ /***/ (function(module, exports) { var hasOwnProperty = {}.hasOwnProperty; module.exports = function (it, key) { return hasOwnProperty.call(it, key); }; /***/ }), /* 13 */ /***/ (function(module, exports, __webpack_require__) { // Thank's IE8 for his funny defineProperty module.exports = !__webpack_require__(14)(function () { return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7; }); /***/ }), /* 14 */ /***/ (function(module, exports) { module.exports = function (exec) { try { return !!exec(); } catch (e) { return true; } }; /***/ }), /* 15 */ /***/ (function(module, exports, __webpack_require__) { var global = __webpack_require__(11); var core = __webpack_require__(16); var hide = __webpack_require__(17); var redefine = __webpack_require__(25); var ctx = __webpack_require__(30); var PROTOTYPE = 'prototype'; var $export = function (type, name, source) { var IS_FORCED = type & $export.F; var IS_GLOBAL = type & $export.G; var IS_STATIC = type & $export.S; var IS_PROTO = type & $export.P; var IS_BIND = type & $export.B; var target = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE]; var exports = IS_GLOBAL ? core : core[name] || (core[name] = {}); var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {}); var key, own, out, exp; if (IS_GLOBAL) source = name; for (key in source) { // contains in native own = !IS_FORCED && target && target[key] !== undefined; // export native or passed out = (own ? target : source)[key]; // bind timers to global for call from export context exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out; // extend global if (target) redefine(target, key, out, type & $export.U); // export if (exports[key] != out) hide(exports, key, exp); if (IS_PROTO && expProto[key] != out) expProto[key] = out; } }; global.core = core; // type bitmap $export.F = 1; // forced $export.G = 2; // global $export.S = 4; // static $export.P = 8; // proto $export.B = 16; // bind $export.W = 32; // wrap $export.U = 64; // safe $export.R = 128; // real proto method for `library` module.exports = $export; /***/ }), /* 16 */ /***/ (function(module, exports) { var core = module.exports = { version: '2.6.5' }; if (typeof __e == 'number') __e = core; // eslint-disable-line no-undef /***/ }), /* 17 */ /***/ (function(module, exports, __webpack_require__) { var dP = __webpack_require__(18); var createDesc = __webpack_require__(24); module.exports = __webpack_require__(13) ? function (object, key, value) { return dP.f(object, key, createDesc(1, value)); } : function (object, key, value) { object[key] = value; return object; }; /***/ }), /* 18 */ /***/ (function(module, exports, __webpack_require__) { var anObject = __webpack_require__(19); var IE8_DOM_DEFINE = __webpack_require__(21); var toPrimitive = __webpack_require__(23); var dP = Object.defineProperty; exports.f = __webpack_require__(13) ? Object.defineProperty : function defineProperty(O, P, Attributes) { anObject(O); P = toPrimitive(P, true); anObject(Attributes); if (IE8_DOM_DEFINE) try { return dP(O, P, Attributes); } catch (e) { /* empty */ } if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!'); if ('value' in Attributes) O[P] = Attributes.value; return O; }; /***/ }), /* 19 */ /***/ (function(module, exports, __webpack_require__) { var isObject = __webpack_require__(20); module.exports = function (it) { if (!isObject(it)) throw TypeError(it + ' is not an object!'); return it; }; /***/ }), /* 20 */ /***/ (function(module, exports) { module.exports = function (it) { return typeof it === 'object' ? it !== null : typeof it === 'function'; }; /***/ }), /* 21 */ /***/ (function(module, exports, __webpack_require__) { module.exports = !__webpack_require__(13) && !__webpack_require__(14)(function () { return Object.defineProperty(__webpack_require__(22)('div'), 'a', { get: function () { return 7; } }).a != 7; }); /***/ }), /* 22 */ /***/ (function(module, exports, __webpack_require__) { var isObject = __webpack_require__(20); var document = __webpack_require__(11).document; // typeof document.createElement is 'object' in old IE var is = isObject(document) && isObject(document.createElement); module.exports = function (it) { return is ? document.createElement(it) : {}; }; /***/ }), /* 23 */ /***/ (function(module, exports, __webpack_require__) { // 7.1.1 ToPrimitive(input [, PreferredType]) var isObject = __webpack_require__(20); // instead of the ES6 spec version, we didn't implement @@toPrimitive case // and the second argument - flag - preferred type is a string module.exports = function (it, S) { if (!isObject(it)) return it; var fn, val; if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val; if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val; if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val; throw TypeError("Can't convert object to primitive value"); }; /***/ }), /* 24 */ /***/ (function(module, exports) { module.exports = function (bitmap, value) { return { enumerable: !(bitmap & 1), configurable: !(bitmap & 2), writable: !(bitmap & 4), value: value }; }; /***/ }), /* 25 */ /***/ (function(module, exports, __webpack_require__) { var global = __webpack_require__(11); var hide = __webpack_require__(17); var has = __webpack_require__(12); var SRC = __webpack_require__(26)('src'); var $toString = __webpack_require__(27); var TO_STRING = 'toString'; var TPL = ('' + $toString).split(TO_STRING); __webpack_require__(16).inspectSource = function (it) { return $toString.call(it); }; (module.exports = function (O, key, val, safe) { var isFunction = typeof val == 'function'; if (isFunction) has(val, 'name') || hide(val, 'name', key); if (O[key] === val) return; if (isFunction) has(val, SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key))); if (O === global) { O[key] = val; } else if (!safe) { delete O[key]; hide(O, key, val); } else if (O[key]) { O[key] = val; } else { hide(O, key, val); } // add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative })(Function.prototype, TO_STRING, function toString() { return typeof this == 'function' && this[SRC] || $toString.call(this); }); /***/ }), /* 26 */ /***/ (function(module, exports) { var id = 0; var px = Math.random(); module.exports = function (key) { return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36)); }; /***/ }), /* 27 */ /***/ (function(module, exports, __webpack_require__) { module.exports = __webpack_require__(28)('native-function-to-string', Function.toString); /***/ }), /* 28 */ /***/ (function(module, exports, __webpack_require__) { var core = __webpack_require__(16); var global = __webpack_require__(11); var SHARED = '__core-js_shared__'; var store = global[SHARED] || (global[SHARED] = {}); (module.exports = function (key, value) { return store[key] || (store[key] = value !== undefined ? value : {}); })('versions', []).push({ version: core.version, mode: __webpack_require__(29) ? 'pure' : 'global', copyright: 'Â© 2019 Denis Pushkarev (zloirock.ru)' }); /***/ }), /* 29 */ /***/ (function(module, exports) { module.exports = false; /***/ }), /* 30 */ /***/ (function(module, exports, __webpack_require__) { // optional / simple context binding var aFunction = __webpack_require__(31); module.exports = function (fn, that, length) { aFunction(fn); if (that === undefined) return fn; switch (length) { case 1: return function (a) { return fn.call(that, a); }; case 2: return function (a, b) { return fn.call(that, a, b); }; case 3: return function (a, b, c) { return fn.call(that, a, b, c); }; } return function (/* ...args */) { return fn.apply(that, arguments); }; }; /***/ }), /* 31 */ /***/ (function(module, exports) { module.exports = function (it) { if (typeof it != 'function') throw TypeError(it + ' is not a function!'); return it; }; /***/ }), /* 32 */ /***/ (function(module, exports, __webpack_require__) { var META = __webpack_require__(26)('meta'); var isObject = __webpack_require__(20); var has = __webpack_require__(12); var setDesc = __webpack_require__(18).f; var id = 0; var isExtensible = Object.isExtensible || function () { return true; }; var FREEZE = !__webpack_require__(14)(function () { return isExtensible(Object.preventExtensions({})); }); var setMeta = function (it) { setDesc(it, META, { value: { i: 'O' + ++id, // object ID w: {} // weak collections IDs } }); }; var fastKey = function (it, create) { // return primitive with prefix if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it; if (!has(it, META)) { // can't set metadata to uncaught frozen object if (!isExtensible(it)) return 'F'; // not necessary to add metadata if (!create) return 'E'; // add missing metadata setMeta(it); // return object ID } return it[META].i; }; var getWeak = function (it, create) { if (!has(it, META)) { // can't set metadata to uncaught frozen object if (!isExtensible(it)) return true; // not necessary to add metadata if (!create) return false; // add missing metadata setMeta(it); // return hash weak collections IDs } return it[META].w; }; // add metadata on freeze-family methods calling var onFreeze = function (it) { if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it); return it; }; var meta = module.exports = { KEY: META, NEED: false, fastKey: fastKey, getWeak: getWeak, onFreeze: onFreeze }; /***/ }), /* 33 */ /***/ (function(module, exports, __webpack_require__) { var def = __webpack_require__(18).f; var has = __webpack_require__(12); var TAG = __webpack_require__(34)('toStringTag'); module.exports = function (it, tag, stat) { if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag }); }; /***/ }), /* 34 */ /***/ (function(module, exports, __webpack_require__) { var store = __webpack_require__(28)('wks'); var uid = __webpack_require__(26); var Symbol = __webpack_require__(11).Symbol; var USE_SYMBOL = typeof Symbol == 'function'; var $exports = module.exports = function (name) { return store[name] || (store[name] = USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name)); }; $exports.store = store; /***/ }), /* 35 */ /***/ (function(module, exports, __webpack_require__) { exports.f = __webpack_require__(34); /***/ }), /* 36 */ /***/ (function(module, exports, __webpack_require__) { var global = __webpack_require__(11); var core = __webpack_require__(16); var LIBRARY = __webpack_require__(29); var wksExt = __webpack_require__(35); var defineProperty = __webpack_require__(18).f; module.exports = function (name) { var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {}); if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) }); }; /***/ }), /* 37 */ /***/ (function(module, exports, __webpack_require__) { // all enumerable object keys, includes symbols var getKeys = __webpack_require__(38); var gOPS = __webpack_require__(50); var pIE = __webpack_require__(51); module.exports = function (it) { var result = getKeys(it); var getSymbols = gOPS.f; if (getSymbols) { var symbols = getSymbols(it); var isEnum = pIE.f; var i = 0; var key; while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key); } return result; }; /***/ }), /* 38 */ /***/ (function(module, exports, __webpack_require__) { // 19.1.2.14 / 15.2.3.14 Object.keys(O) var $keys = __webpack_require__(39); var enumBugKeys = __webpack_require__(49); module.exports = Object.keys || function keys(O) { return $keys(O, enumBugKeys); }; /***/ }), /* 39 */ /***/ (function(module, exports, __webpack_require__) { var has = __webpack_require__(12); var toIObject = __webpack_require__(40); var arrayIndexOf = __webpack_require__(44)(false); var IE_PROTO = __webpack_require__(48)('IE_PROTO'); module.exports = function (object, names) { var O = toIObject(object); var i = 0; var result = []; var key; for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key); // Don't enum bug & hidden keys while (names.length > i) if (has(O, key = names[i++])) { ~arrayIndexOf(result, key) || result.push(key); } return result; }; /***/ }), /* 40 */ /***/ (function(module, exports, __webpack_require__) { // to indexed object, toObject with fallback for non-array-like ES3 strings var IObject = __webpack_require__(41); var defined = __webpack_require__(43); module.exports = function (it) { return IObject(defined(it)); }; /***/ }), /* 41 */ /***/ (function(module, exports, __webpack_require__) { // fallback for non-array-like ES3 and non-enumerable old V8 strings var cof = __webpack_require__(42); // eslint-disable-next-line no-prototype-builtins module.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) { return cof(it) == 'String' ? it.split('') : Object(it); }; /***/ }), /* 42 */ /***/ (function(module, exports) { var toString = {}.toString; module.exports = function (it) { return toString.call(it).slice(8, -1); }; /***/ }), /* 43 */ /***/ (function(module, exports) { // 7.2.1 RequireObjectCoercible(argument) module.exports = function (it) { if (it == undefined) throw TypeError("Can't call method on " + it); return it; }; /***/ }), /* 44 */ /***/ (function(module, exports, __webpack_require__) { // false -> Array#indexOf // true -> Array#includes var toIObject = __webpack_require__(40); var toLength = __webpack_require__(45); var toAbsoluteIndex = __webpack_require__(47); module.exports = function (IS_INCLUDES) { return function ($this, el, fromIndex) { var O = toIObject($this); var length = toLength(O.length); var index = toAbsoluteIndex(fromIndex, length); var value; // Array#includes uses SameValueZero equality algorithm // eslint-disable-next-line no-self-compare if (IS_INCLUDES && el != el) while (length > index) { value = O[index++]; // eslint-disable-next-line no-self-compare if (value != value) return true; // Array#indexOf ignores holes, Array#includes - not } else for (;length > index; index++) if (IS_INCLUDES || index in O) { if (O[index] === el) return IS_INCLUDES || index || 0; } return !IS_INCLUDES && -1; }; }; /***/ }), /* 45 */ /***/ (function(module, exports, __webpack_require__) { // 7.1.15 ToLength var toInteger = __webpack_require__(46); var min = Math.min; module.exports = function (it) { return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991 }; /***/ }), /* 46 */ /***/ (function(module, exports) { // 7.1.4 ToInteger var ceil = Math.ceil; var floor = Math.floor; module.exports = function (it) { return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it); }; /***/ }), /* 47 */ /***/ (function(module, exports, __webpack_require__) { var toInteger = __webpack_require__(46); var max = Math.max; var min = Math.min; module.exports = function (index, length) { index = toInteger(index); return index < 0 ? max(index + length, 0) : min(index, length); }; /***/ }), /* 48 */ /***/ (function(module, exports, __webpack_require__) { var shared = __webpack_require__(28)('keys'); var uid = __webpack_require__(26); module.exports = function (key) { return shared[key] || (shared[key] = uid(key)); }; /***/ }), /* 49 */ /***/ (function(module, exports) { // IE 8- don't enum bug keys module.exports = ( 'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf' ).split(','); /***/ }), /* 50 */ /***/ (function(module, exports) { exports.f = Object.getOwnPropertySymbols; /***/ }), /* 51 */ /***/ (function(module, exports) { exports.f = {}.propertyIsEnumerable; /***/ }), /* 52 */ /***/ (function(module, exports, __webpack_require__) { // 7.2.2 IsArray(argument) var cof = __webpack_require__(42); module.exports = Array.isArray || function isArray(arg) { return cof(arg) == 'Array'; }; /***/ }), /* 53 */ /***/ (function(module, exports, __webpack_require__) { // 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties]) var anObject = __webpack_require__(19); var dPs = __webpack_require__(54); var enumBugKeys = __webpack_require__(49); var IE_PROTO = __webpack_require__(48)('IE_PROTO'); var Empty = function () { /* empty */ }; var PROTOTYPE = 'prototype'; // Create object with fake `null` prototype: use iframe Object with cleared prototype var createDict = function () { // Thrash, waste and sodomy: IE GC bug var iframe = __webpack_require__(22)('iframe'); var i = enumBugKeys.length; var lt = ''; var iframeDocument; iframe.style.display = 'none'; __webpack_require__(55).appendChild(iframe); iframe.src = 'javascript:'; // eslint-disable-line no-script-url // createDict = iframe.contentWindow.Object; // html.removeChild(iframe); iframeDocument = iframe.contentWindow.document; iframeDocument.open(); iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt); iframeDocument.close(); createDict = iframeDocument.F; while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]]; return createDict(); }; module.exports = Object.create || function create(O, Properties) { var result; if (O !== null) { Empty[PROTOTYPE] = anObject(O); result = new Empty(); Empty[PROTOTYPE] = null; // add "__proto__" for Object.getPrototypeOf polyfill result[IE_PROTO] = O; } else result = createDict(); return Properties === undefined ? result : dPs(result, Properties); }; /***/ }), /* 54 */ /***/ (function(module, exports, __webpack_require__) { var dP = __webpack_require__(18); var anObject = __webpack_require__(19); var getKeys = __webpack_require__(38); module.exports = __webpack_require__(13) ? Object.defineProperties : function defineProperties(O, Properties) { anObject(O); var keys = getKeys(Properties); var length = keys.length; var i = 0; var P; while (length > i) dP.f(O, P = keys[i++], Properties[P]); return O; }; /***/ }), /* 55 */ /***/ (function(module, exports, __webpack_require__) { var document = __webpack_require__(11).document; module.exports = document && document.documentElement; /***/ }), /* 56 */ /***/ (function(module, exports, __webpack_require__) { // fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window var toIObject = __webpack_require__(40); var gOPN = __webpack_require__(57).f; var toString = {}.toString; var windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : []; var getWindowNames = function (it) { try { return gOPN(it); } catch (e) { return windowNames.slice(); } }; module.exports.f = function getOwnPropertyNames(it) { return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it)); }; /***/ }), /* 57 */ /***/ (function(module, exports, __webpack_require__) { // 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O) var $keys = __webpack_require__(39); var hiddenKeys = __webpack_require__(49).concat('length', 'prototype'); exports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) { return $keys(O, hiddenKeys); }; /***/ }), /* 58 */ /***/ (function(module, exports, __webpack_require__) { var pIE = __webpack_require__(51); var createDesc = __webpack_require__(24); var toIObject = __webpack_require__(40); var toPrimitive = __webpack_require__(23); var has = __webpack_require__(12); var IE8_DOM_DEFINE = __webpack_require__(21); var gOPD = Object.getOwnPropertyDescriptor; exports.f = __webpack_require__(13) ? gOPD : function getOwnPropertyDescriptor(O, P) { O = toIObject(O); P = toPrimitive(P, true); if (IE8_DOM_DEFINE) try { return gOPD(O, P); } catch (e) { /* empty */ } if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]); }; /***/ }), /* 59 */ /***/ (function(module, exports, __webpack_require__) { var $export = __webpack_require__(15); // 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties]) $export($export.S, 'Object', { create: __webpack_require__(53) }); /***/ }), /* 60 */ /***/ (function(module, exports, __webpack_require__) { var $export = __webpack_require__(15); // 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes) $export($export.S + $export.F * !__webpack_require__(13), 'Object', { defineProperty: __webpack_require__(18).f }); /***/ }), /* 61 */ /***/ (function(module, exports, __webpack_require__) { var $export = __webpack_require__(15); // 19.1.2.3 / 15.2.3.7 Object.defineProperties(O, Properties) $export($export.S + $export.F * !__webpack_require__(13), 'Object', { defineProperties: __webpack_require__(54) }); /***/ }), /* 62 */ /***/ (function(module, exports, __webpack_require__) { // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P) var toIObject = __webpack_require__(40); var $getOwnPropertyDescriptor = __webpack_require__(58).f; __webpack_require__(63)('getOwnPropertyDescriptor', function () { return function getOwnPropertyDescriptor(it, key) { return $getOwnPropertyDescriptor(toIObject(it), key); }; }); /***/ }), /* 63 */ /***/ (function(module, exports, __webpack_require__) { // most Object methods by ES6 should accept primitives var $export = __webpack_require__(15); var core = __webpack_require__(16); var fails = __webpack_require__(14); module.exports = function (KEY, exec) { var fn = (core.Object || {})[KEY] || Object[KEY]; var exp = {}; exp[KEY] = exec(fn); $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp); }; /***/ }), /* 64 */ /***/ (function(module, exports, __webpack_require__) { // 19.1.2.9 Object.getPrototypeOf(O) var toObject = __webpack_require__(65); var $getPrototypeOf = __webpack_require__(66); __webpack_require__(63)('getPrototypeOf', function () { return function getPrototypeOf(it) { return $getPrototypeOf(toObject(it)); }; }); /***/ }), /* 65 */ /***/ (function(module, exports, __webpack_require__) { // 7.1.13 ToObject(argument) var defined = __webpack_require__(43); module.exports = function (it) { return Object(defined(it)); }; /***/ }), /* 66 */ /***/ (function(module, exports, __webpack_require__) { // 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O) var has = __webpack_require__(12); var toObject = __webpack_require__(65); var IE_PROTO = __webpack_require__(48)('IE_PROTO'); var ObjectProto = Object.prototype; module.exports = Object.getPrototypeOf || function (O) { O = toObject(O); if (has(O, IE_PROTO)) return O[IE_PROTO]; if (typeof O.constructor == 'function' && O instanceof O.constructor) { return O.constructor.prototype; } return O instanceof Object ? ObjectProto : null; }; /***/ }), /* 67 */ /***/ (function(module, exports, __webpack_require__) { // 19.1.2.14 Object.keys(O) var toObject = __webpack_require__(65); var $keys = __webpack_require__(38); __webpack_require__(63)('keys', function () { return function keys(it) { return $keys(toObject(it)); }; }); /***/ }), /* 68 */ /***/ (function(module, exports, __webpack_require__) { // 19.1.2.7 Object.getOwnPropertyNames(O) __webpack_require__(63)('getOwnPropertyNames', function () { return __webpack_require__(56).f; }); /***/ }), /* 69 */ /***/ (function(module, exports, __webpack_require__) { // 19.1.2.5 Object.freeze(O) var isObject = __webpack_require__(20); var meta = __webpack_require__(32).onFreeze; __webpack_require__(63)('freeze', function ($freeze) { return function freeze(it) { return $freeze && isObject(it) ? $freeze(meta(it)) : it; }; }); /***/ }), /* 70 */ /***/ (function(module, exports, __webpack_require__) { // 19.1.2.17 Object.seal(O) var isObject = __webpack_require__(20); var meta = __webpack_require__(32).onFreeze; __webpack_require__(63)('seal', function ($seal) { return function seal(it) { return $seal && isObject(it) ? $seal(meta(it)) : it; }; }); /***/ }), /* 71 */ /***/ (function(module, exports, __webpack_require__) { // 19.1.2.15 Object.preventExtensions(O) var isObject = __webpack_require__(20); var meta = __webpack_require__(32).onFreeze; __webpack_require__(63)('preventExtensions', function ($preventExtensions) { return function preventExtensions(it) { return $preventExtensions && isObject(it) ? $preventExtensions(meta(it)) : it; }; }); /***/ }), /* 72 */ /***/ (function(module, exports, __webpack_require__) { // 19.1.2.12 Object.isFrozen(O) var isObject = __webpack_require__(20); __webpack_require__(63)('isFrozen', function ($isFrozen) { return function isFrozen(it) { return isObject(it) ? $isFrozen ? $isFrozen(it) : false : true; }; }); /***/ }), /* 73 */ /***/ (function(module, exports, __webpack_require__) { // 19.1.2.13 Object.isSealed(O) var isObject = __webpack_require__(20); __webpack_require__(63)('isSealed', function ($isSealed) { return function isSealed(it) { return isObject(it) ? $isSealed ? $isSealed(it) : false : true; }; }); /***/ }), /* 74 */ /***/ (function(module, exports, __webpack_require__) { // 19.1.2.11 Object.isExtensible(O) var isObject = __webpack_require__(20); __webpack_require__(63)('isExtensible', function ($isExtensible) { return function isExtensible(it) { return isObject(it) ? $isExtensible ? $isExtensible(it) : true : false; }; }); /***/ }), /* 75 */ /***/ (function(module, exports, __webpack_require__) { // 19.1.3.1 Object.assign(target, source) var $export = __webpack_require__(15); $export($export.S + $export.F, 'Object', { assign: __webpack_require__(76) }); /***/ }), /* 76 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; // 19.1.2.1 Object.assign(target, source, ...) var getKeys = __webpack_require__(38); var gOPS = __webpack_require__(50); var pIE = __webpack_require__(51); var toObject = __webpack_require__(65); var IObject = __webpack_require__(41); var $assign = Object.assign; // should work with symbols and should have deterministic property order (V8 bug) module.exports = !$assign || __webpack_require__(14)(function () { var A = {}; var B = {}; // eslint-disable-next-line no-undef var S = Symbol(); var K = 'abcdefghijklmnopqrst'; A[S] = 7; K.split('').forEach(function (k) { B[k] = k; }); return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K; }) ? function assign(target, source) { // eslint-disable-line no-unused-vars var T = toObject(target); var aLen = arguments.length; var index = 1; var getSymbols = gOPS.f; var isEnum = pIE.f; while (aLen > index) { var S = IObject(arguments[index++]); var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S); var length = keys.length; var j = 0; var key; while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key]; } return T; } : $assign; /***/ }), /* 77 */ /***/ (function(module, exports, __webpack_require__) { // 19.1.3.10 Object.is(value1, value2) var $export = __webpack_require__(15); $export($export.S, 'Object', { is: __webpack_require__(78) }); /***/ }), /* 78 */ /***/ (function(module, exports) { // 7.2.9 SameValue(x, y) module.exports = Object.is || function is(x, y) { // eslint-disable-next-line no-self-compare return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y; }; /***/ }), /* 79 */ /***/ (function(module, exports, __webpack_require__) { // 19.1.3.19 Object.setPrototypeOf(O, proto) var $export = __webpack_require__(15); $export($export.S, 'Object', { setPrototypeOf: __webpack_require__(80).set }); /***/ }), /* 80 */ /***/ (function(module, exports, __webpack_require__) { // Works with __proto__ only. Old v8 can't work with null proto objects. /* eslint-disable no-proto */ var isObject = __webpack_require__(20); var anObject = __webpack_require__(19); var check = function (O, proto) { anObject(O); if (!isObject(proto) && proto !== null) throw TypeError(proto + ": can't set as prototype!"); }; module.exports = { set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line function (test, buggy, set) { try { set = __webpack_require__(30)(Function.call, __webpack_require__(58).f(Object.prototype, '__proto__').set, 2); set(test, []); buggy = !(test instanceof Array); } catch (e) { buggy = true; } return function setPrototypeOf(O, proto) { check(O, proto); if (buggy) O.__proto__ = proto; else set(O, proto); return O; }; }({}, false) : undefined), check: check }; /***/ }), /* 81 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; // 19.1.3.6 Object.prototype.toString() var classof = __webpack_require__(82); var test = {}; test[__webpack_require__(34)('toStringTag')] = 'z'; if (test + '' != '[object z]') { __webpack_require__(25)(Object.prototype, 'toString', function toString() { return '[object ' + classof(this) + ']'; }, true); } /***/ }), /* 82 */ /***/ (function(module, exports, __webpack_require__) { // getting tag from 19.1.3.6 Object.prototype.toString() var cof = __webpack_require__(42); var TAG = __webpack_require__(34)('toStringTag'); // ES3 wrong here var ARG = cof(function () { return arguments; }()) == 'Arguments'; // fallback for IE11 Script Access Denied error var tryGet = function (it, key) { try { return it[key]; } catch (e) { /* empty */ } }; module.exports = function (it) { var O, T, B; return it === undefined ? 'Undefined' : it === null ? 'Null' // @@toStringTag case : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T // builtinTag case : ARG ? cof(O) // ES3 arguments fallback : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B; }; /***/ }), /* 83 */ /***/ (function(module, exports, __webpack_require__) { // 19.2.3.2 / 15.3.4.5 Function.prototype.bind(thisArg, args...) var $export = __webpack_require__(15); $export($export.P, 'Function', { bind: __webpack_require__(84) }); /***/ }), /* 84 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var aFunction = __webpack_require__(31); var isObject = __webpack_require__(20); var invoke = __webpack_require__(85); var arraySlice = [].slice; var factories = {}; var construct = function (F, len, args) { if (!(len in factories)) { for (var n = [], i = 0; i < len; i++) n[i] = 'a[' + i + ']'; // eslint-disable-next-line no-new-func factories[len] = Function('F,a', 'return new F(' + n.join(',') + ')'); } return factories[len](F, args); }; module.exports = Function.bind || function bind(that /* , ...args */) { var fn = aFunction(this); var partArgs = arraySlice.call(arguments, 1); var bound = function (/* args... */) { var args = partArgs.concat(arraySlice.call(arguments)); return this instanceof bound ? construct(fn, args.length, args) : invoke(fn, args, that); }; if (isObject(fn.prototype)) bound.prototype = fn.prototype; return bound; }; /***/ }), /* 85 */ /***/ (function(module, exports) { // fast apply, http://jsperf.lnkit.com/fast-apply/5 module.exports = function (fn, args, that) { var un = that === undefined; switch (args.length) { case 0: return un ? fn() : fn.call(that); case 1: return un ? fn(args[0]) : fn.call(that, args[0]); case 2: return un ? fn(args[0], args[1]) : fn.call(that, args[0], args[1]); case 3: return un ? fn(args[0], args[1], args[2]) : fn.call(that, args[0], args[1], args[2]); case 4: return un ? fn(args[0], args[1], args[2], args[3]) : fn.call(that, args[0], args[1], args[2], args[3]); } return fn.apply(that, args); }; /***/ }), /* 86 */ /***/ (function(module, exports, __webpack_require__) { var dP = __webpack_require__(18).f; var FProto = Function.prototype; var nameRE = /^\s*function ([^ (]*)/; var NAME = 'name'; // 19.2.4.2 name NAME in FProto || __webpack_require__(13) && dP(FProto, NAME, { configurable: true, get: function () { try { return ('' + this).match(nameRE)[1]; } catch (e) { return ''; } } }); /***/ }), /* 87 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var isObject = __webpack_require__(20); var getPrototypeOf = __webpack_require__(66); var HAS_INSTANCE = __webpack_require__(34)('hasInstance'); var FunctionProto = Function.prototype; // 19.2.3.6 Function.prototype[@@hasInstance](V) if (!(HAS_INSTANCE in FunctionProto)) __webpack_require__(18).f(FunctionProto, HAS_INSTANCE, { value: function (O) { if (typeof this != 'function' || !isObject(O)) return false; if (!isObject(this.prototype)) return O instanceof this; // for environment w/o native `@@hasInstance` logic enough `instanceof`, but add this: while (O = getPrototypeOf(O)) if (this.prototype === O) return true; return false; } }); /***/ }), /* 88 */ /***/ (function(module, exports, __webpack_require__) { var $export = __webpack_require__(15); var $parseInt = __webpack_require__(89); // 18.2.5 parseInt(string, radix) $export($export.G + $export.F * (parseInt != $parseInt), { parseInt: $parseInt }); /***/ }), /* 89 */ /***/ (function(module, exports, __webpack_require__) { var $parseInt = __webpack_require__(11).parseInt; var $trim = __webpack_require__(90).trim; var ws = __webpack_require__(91); var hex = /^[-+]?0[xX]/; module.exports = $parseInt(ws + '08') !== 8 || $parseInt(ws + '0x16') !== 22 ? function parseInt(str, radix) { var string = $trim(String(str), 3); return $parseInt(string, (radix >>> 0) || (hex.test(string) ? 16 : 10)); } : $parseInt; /***/ }), /* 90 */ /***/ (function(module, exports, __webpack_require__) { var $export = __webpack_require__(15); var defined = __webpack_require__(43); var fails = __webpack_require__(14); var spaces = __webpack_require__(91); var space = '[' + spaces + ']'; var non = '\u200b\u0085'; var ltrim = RegExp('^' + space + space + '*'); var rtrim = RegExp(space + space + '*$'); var exporter = function (KEY, exec, ALIAS) { var exp = {}; var FORCE = fails(function () { return !!spaces[KEY]() || non[KEY]() != non; }); var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY]; if (ALIAS) exp[ALIAS] = fn; $export($export.P + $export.F * FORCE, 'String', exp); }; // 1 -> String#trimLeft // 2 -> String#trimRight // 3 -> String#trim var trim = exporter.trim = function (string, TYPE) { string = String(defined(string)); if (TYPE & 1) string = string.replace(ltrim, ''); if (TYPE & 2) string = string.replace(rtrim, ''); return string; }; module.exports = exporter; /***/ }), /* 91 */ /***/ (function(module, exports) { module.exports = '\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003' + '\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF'; /***/ }), /* 92 */ /***/ (function(module, exports, __webpack_require__) { var $export = __webpack_require__(15); var $parseFloat = __webpack_require__(93); // 18.2.4 parseFloat(string) $export($export.G + $export.F * (parseFloat != $parseFloat), { parseFloat: $parseFloat }); /***/ }), /* 93 */ /***/ (function(module, exports, __webpack_require__) { var $parseFloat = __webpack_require__(11).parseFloat; var $trim = __webpack_require__(90).trim; module.exports = 1 / $parseFloat(__webpack_require__(91) + '-0') !== -Infinity ? function parseFloat(str) { var string = $trim(String(str), 3); var result = $parseFloat(string); return result === 0 && string.charAt(0) == '-' ? -0 : result; } : $parseFloat; /***/ }), /* 94 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var global = __webpack_require__(11); var has = __webpack_require__(12); var cof = __webpack_require__(42); var inheritIfRequired = __webpack_require__(95); var toPrimitive = __webpack_require__(23); var fails = __webpack_require__(14); var gOPN = __webpack_require__(57).f; var gOPD = __webpack_require__(58).f; var dP = __webpack_require__(18).f; var $trim = __webpack_require__(90).trim; var NUMBER = 'Number'; var $Number = global[NUMBER]; var Base = $Number; var proto = $Number.prototype; // Opera ~12 has broken Object#toString var BROKEN_COF = cof(__webpack_require__(53)(proto)) == NUMBER; var TRIM = 'trim' in String.prototype; // 7.1.3 ToNumber(argument) var toNumber = function (argument) { var it = toPrimitive(argument, false); if (typeof it == 'string' && it.length > 2) { it = TRIM ? it.trim() : $trim(it, 3); var first = it.charCodeAt(0); var third, radix, maxCode; if (first === 43 || first === 45) { third = it.charCodeAt(2); if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix } else if (first === 48) { switch (it.charCodeAt(1)) { case 66: case 98: radix = 2; maxCode = 49; break; // fast equal /^0b[01]+$/i case 79: case 111: radix = 8; maxCode = 55; break; // fast equal /^0o[0-7]+$/i default: return +it; } for (var digits = it.slice(2), i = 0, l = digits.length, code; i < l; i++) { code = digits.charCodeAt(i); // parseInt parses a string to a first unavailable symbol // but ToNumber should return NaN if a string contains unavailable symbols if (code < 48 || code > maxCode) return NaN; } return parseInt(digits, radix); } } return +it; }; if (!$Number(' 0o1') || !$Number('0b1') || $Number('+0x1')) { $Number = function Number(value) { var it = arguments.length < 1 ? 0 : value; var that = this; return that instanceof $Number // check on 1..constructor(foo) case && (BROKEN_COF ? fails(function () { proto.valueOf.call(that); }) : cof(that) != NUMBER) ? inheritIfRequired(new Base(toNumber(it)), that, $Number) : toNumber(it); }; for (var keys = __webpack_require__(13) ? gOPN(Base) : ( // ES3: 'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' + // ES6 (in case, if modules with ES6 Number statics required before): 'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' + 'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger' ).split(','), j = 0, key; keys.length > j; j++) { if (has(Base, key = keys[j]) && !has($Number, key)) { dP($Number, key, gOPD(Base, key)); } } $Number.prototype = proto; proto.constructor = $Number; __webpack_require__(25)(global, NUMBER, $Number); } /***/ }), /* 95 */ /***/ (function(module, exports, __webpack_require__) { var isObject = __webpack_require__(20); var setPrototypeOf = __webpack_require__(80).set; module.exports = function (that, target, C) { var S = target.constructor; var P; if (S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf) { setPrototypeOf(that, P); } return that; }; /***/ }), /* 96 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var $export = __webpack_require__(15); var toInteger = __webpack_require__(46); var aNumberValue = __webpack_require__(97); var repeat = __webpack_require__(98); var $toFixed = 1.0.toFixed; var floor = Math.floor; var data = [0, 0, 0, 0, 0, 0]; var ERROR = 'Number.toFixed: incorrect invocation!'; var ZERO = '0'; var multiply = function (n, c) { var i = -1; var c2 = c; while (++i < 6) { c2 += n * data[i]; data[i] = c2 % 1e7; c2 = floor(c2 / 1e7); } }; var divide = function (n) { var i = 6; var c = 0; while (--i >= 0) { c += data[i]; data[i] = floor(c / n); c = (c % n) * 1e7; } }; var numToString = function () { var i = 6; var s = ''; while (--i >= 0) { if (s !== '' || i === 0 || data[i] !== 0) { var t = String(data[i]); s = s === '' ? t : s + repeat.call(ZERO, 7 - t.length) + t; } } return s; }; var pow = function (x, n, acc) { return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc); }; var log = function (x) { var n = 0; var x2 = x; while (x2 >= 4096) { n += 12; x2 /= 4096; } while (x2 >= 2) { n += 1; x2 /= 2; } return n; }; $export($export.P + $export.F * (!!$toFixed && ( 0.00008.toFixed(3) !== '0.000' || 0.9.toFixed(0) !== '1' || 1.255.toFixed(2) !== '1.25' || 1000000000000000128.0.toFixed(0) !== '1000000000000000128' ) || !__webpack_require__(14)(function () { // V8 ~ Android 4.3- $toFixed.call({}); })), 'Number', { toFixed: function toFixed(fractionDigits) { var x = aNumberValue(this, ERROR); var f = toInteger(fractionDigits); var s = ''; var m = ZERO; var e, z, j, k; if (f < 0 || f > 20) throw RangeError(ERROR); // eslint-disable-next-line no-self-compare if (x != x) return 'NaN'; if (x = 1e21) return String(x); if (x < 0) { s = '-'; x = -x; } if (x > 1e-21) { e = log(x * pow(2, 69, 1)) - 69; z = e < 0 ? x * pow(2, -e, 1) : x / pow(2, e, 1); z *= 0x10000000000000; e = 52 - e; if (e > 0) { multiply(0, z); j = f; while (j >= 7) { multiply(1e7, 0); j -= 7; } multiply(pow(10, j, 1), 0); j = e - 1; while (j >= 23) { divide(1 < 23); j -= 23; } divide(1 < j); multiply(1, 1); divide(2); m = numToString(); } else { multiply(0, z); multiply(1 < -e, 0); m = numToString() + repeat.call(ZERO, f); } } if (f > 0) { k = m.length; m = s + (k -1e-8 && x < 1e-8 ? x - x * x / 2 : Math.log(1 + x); }; /***/ }), /* 112 */ /***/ (function(module, exports, __webpack_require__) { // 20.2.2.5 Math.asinh(x) var $export = __webpack_require__(15); var $asinh = Math.asinh; function asinh(x) { return !isFinite(x = +x) || x == 0 ? x : x < 0 ? -asinh(-x) : Math.log(x + Math.sqrt(x * x + 1)); } // Tor Browser bug: Math.asinh(0) -> -0 $export($export.S + $export.F * !($asinh && 1 / $asinh(0) > 0), 'Math', { asinh: asinh }); /***/ }), /* 113 */ /***/ (function(module, exports, __webpack_require__) { // 20.2.2.7 Math.atanh(x) var $export = __webpack_require__(15); var $atanh = Math.atanh; // Tor Browser bug: Math.atanh(-0) -> 0 $export($export.S + $export.F * !($atanh && 1 / $atanh(-0) < 0), 'Math', { atanh: function atanh(x) { return (x = +x) == 0 ? x : Math.log((1 + x) / (1 - x)) / 2; } }); /***/ }), /* 114 */ /***/ (function(module, exports, __webpack_require__) { // 20.2.2.9 Math.cbrt(x) var $export = __webpack_require__(15); var sign = __webpack_require__(115); $export($export.S, 'Math', { cbrt: function cbrt(x) { return sign(x = +x) * Math.pow(Math.abs(x), 1 / 3); } }); /***/ }), /* 115 */ /***/ (function(module, exports) { // 20.2.2.28 Math.sign(x) module.exports = Math.sign || function sign(x) { // eslint-disable-next-line no-self-compare return (x = +x) == 0 || x != x ? x : x < 0 ? -1 : 1; }; /***/ }), /* 116 */ /***/ (function(module, exports, __webpack_require__) { // 20.2.2.11 Math.clz32(x) var $export = __webpack_require__(15); $export($export.S, 'Math', { clz32: function clz32(x) { return (x >>>= 0) ? 31 - Math.floor(Math.log(x + 0.5) * Math.LOG2E) : 32; } }); /***/ }), /* 117 */ /***/ (function(module, exports, __webpack_require__) { // 20.2.2.12 Math.cosh(x) var $export = __webpack_require__(15); var exp = Math.exp; $export($export.S, 'Math', { cosh: function cosh(x) { return (exp(x = +x) + exp(-x)) / 2; } }); /***/ }), /* 118 */ /***/ (function(module, exports, __webpack_require__) { // 20.2.2.14 Math.expm1(x) var $export = __webpack_require__(15); var $expm1 = __webpack_require__(119); $export($export.S + $export.F * ($expm1 != Math.expm1), 'Math', { expm1: $expm1 }); /***/ }), /* 119 */ /***/ (function(module, exports) { // 20.2.2.14 Math.expm1(x) var $expm1 = Math.expm1; module.exports = (!$expm1 // Old FF bug || $expm1(10) > 22025.465794806719 || $expm1(10) < 22025.4657948067165168 // Tor Browser bug || $expm1(-2e-17) != -2e-17 ) ? function expm1(x) { return (x = +x) == 0 ? x : x > -1e-6 && x < 1e-6 ? x + x * x / 2 : Math.exp(x) - 1; } : $expm1; /***/ }), /* 120 */ /***/ (function(module, exports, __webpack_require__) { // 20.2.2.16 Math.fround(x) var $export = __webpack_require__(15); $export($export.S, 'Math', { fround: __webpack_require__(121) }); /***/ }), /* 121 */ /***/ (function(module, exports, __webpack_require__) { // 20.2.2.16 Math.fround(x) var sign = __webpack_require__(115); var pow = Math.pow; var EPSILON = pow(2, -52); var EPSILON32 = pow(2, -23); var MAX32 = pow(2, 127) * (2 - EPSILON32); var MIN32 = pow(2, -126); var roundTiesToEven = function (n) { return n + 1 / EPSILON - 1 / EPSILON; }; module.exports = Math.fround || function fround(x) { var $abs = Math.abs(x); var $sign = sign(x); var a, result; if ($abs < MIN32) return $sign * roundTiesToEven($abs / MIN32 / EPSILON32) * MIN32 * EPSILON32; a = (1 + EPSILON32 / EPSILON) * $abs; result = a - (a - $abs); // eslint-disable-next-line no-self-compare if (result > MAX32 || result != result) return $sign * Infinity; return $sign * result; }; /***/ }), /* 122 */ /***/ (function(module, exports, __webpack_require__) { // 20.2.2.17 Math.hypot([value1[, value2[, â€¦ ]]]) var $export = __webpack_require__(15); var abs = Math.abs; $export($export.S, 'Math', { hypot: function hypot(value1, value2) { // eslint-disable-line no-unused-vars var sum = 0; var i = 0; var aLen = arguments.length; var larg = 0; var arg, div; while (i < aLen) { arg = abs(arguments[i++]); if (larg < arg) { div = larg / arg; sum = sum * div * div + 1; larg = arg; } else if (arg > 0) { div = arg / larg; sum += div * div; } else sum += arg; } return larg === Infinity ? Infinity : larg * Math.sqrt(sum); } }); /***/ }), /* 123 */ /***/ (function(module, exports, __webpack_require__) { // 20.2.2.18 Math.imul(x, y) var $export = __webpack_require__(15); var $imul = Math.imul; // some WebKit versions fails with big numbers, some has wrong arity $export($export.S + $export.F * __webpack_require__(14)(function () { return $imul(0xffffffff, 5) != -5 || $imul.length != 2; }), 'Math', { imul: function imul(x, y) { var UINT16 = 0xffff; var xn = +x; var yn = +y; var xl = UINT16 & xn; var yl = UINT16 & yn; return 0 | xl * yl + ((UINT16 & xn >>> 16) * yl + xl * (UINT16 & yn >>> 16) < 16 >>> 0); } }); /***/ }), /* 124 */ /***/ (function(module, exports, __webpack_require__) { // 20.2.2.21 Math.log10(x) var $export = __webpack_require__(15); $export($export.S, 'Math', { log10: function log10(x) { return Math.log(x) * Math.LOG10E; } }); /***/ }), /* 125 */ /***/ (function(module, exports, __webpack_require__) { // 20.2.2.20 Math.log1p(x) var $export = __webpack_require__(15); $export($export.S, 'Math', { log1p: __webpack_require__(111) }); /***/ }), /* 126 */ /***/ (function(module, exports, __webpack_require__) { // 20.2.2.22 Math.log2(x) var $export = __webpack_require__(15); $export($export.S, 'Math', { log2: function log2(x) { return Math.log(x) / Math.LN2; } }); /***/ }), /* 127 */ /***/ (function(module, exports, __webpack_require__) { // 20.2.2.28 Math.sign(x) var $export = __webpack_require__(15); $export($export.S, 'Math', { sign: __webpack_require__(115) }); /***/ }), /* 128 */ /***/ (function(module, exports, __webpack_require__) { // 20.2.2.30 Math.sinh(x) var $export = __webpack_require__(15); var expm1 = __webpack_require__(119); var exp = Math.exp; // V8 near Chromium 38 has a problem with very small numbers $export($export.S + $export.F * __webpack_require__(14)(function () { return !Math.sinh(-2e-17) != -2e-17; }), 'Math', { sinh: function sinh(x) { return Math.abs(x = +x) < 1 ? (expm1(x) - expm1(-x)) / 2 : (exp(x - 1) - exp(-x - 1)) * (Math.E / 2); } }); /***/ }), /* 129 */ /***/ (function(module, exports, __webpack_require__) { // 20.2.2.33 Math.tanh(x) var $export = __webpack_require__(15); var expm1 = __webpack_require__(119); var exp = Math.exp; $export($export.S, 'Math', { tanh: function tanh(x) { var a = expm1(x = +x); var b = expm1(-x); return a == Infinity ? 1 : b == Infinity ? -1 : (a - b) / (exp(x) + exp(-x)); } }); /***/ }), /* 130 */ /***/ (function(module, exports, __webpack_require__) { // 20.2.2.34 Math.trunc(x) var $export = __webpack_require__(15); $export($export.S, 'Math', { trunc: function trunc(it) { return (it > 0 ? Math.floor : Math.ceil)(it); } }); /***/ }), /* 131 */ /***/ (function(module, exports, __webpack_require__) { var $export = __webpack_require__(15); var toAbsoluteIndex = __webpack_require__(47); var fromCharCode = String.fromCharCode; var $fromCodePoint = String.fromCodePoint; // length should be 1, old FF problem $export($export.S + $export.F * (!!$fromCodePoint && $fromCodePoint.length != 1), 'String', { // 21.1.2.2 String.fromCodePoint(...codePoints) fromCodePoint: function fromCodePoint(x) { // eslint-disable-line no-unused-vars var res = []; var aLen = arguments.length; var i = 0; var code; while (aLen > i) { code = +arguments[i++]; if (toAbsoluteIndex(code, 0x10ffff) !== code) throw RangeError(code + ' is not a valid code point'); res.push(code < 0x10000 ? fromCharCode(code) : fromCharCode(((code -= 0x10000) >> 10) + 0xd800, code % 0x400 + 0xdc00) ); } return res.join(''); } }); /***/ }), /* 132 */ /***/ (function(module, exports, __webpack_require__) { var $export = __webpack_require__(15); var toIObject = __webpack_require__(40); var toLength = __webpack_require__(45); $export($export.S, 'String', { // 21.1.2.4 String.raw(callSite, ...substitutions) raw: function raw(callSite) { var tpl = toIObject(callSite.raw); var len = toLength(tpl.length); var aLen = arguments.length; var res = []; var i = 0; while (len > i) { res.push(String(tpl[i++])); if (i < aLen) res.push(String(arguments[i])); } return res.join(''); } }); /***/ }), /* 133 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; // 21.1.3.25 String.prototype.trim() __webpack_require__(90)('trim', function ($trim) { return function trim() { return $trim(this, 3); }; }); /***/ }), /* 134 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var $at = __webpack_require__(135)(true); // 21.1.3.27 String.prototype[@@iterator]() __webpack_require__(136)(String, 'String', function (iterated) { this._t = String(iterated); // target this._i = 0; // next index // 21.1.5.2.1 %StringIteratorPrototype%.next() }, function () { var O = this._t; var index = this._i; var point; if (index >= O.length) return { value: undefined, done: true }; point = $at(O, index); this._i += point.length; return { value: point, done: false }; }); /***/ }), /* 135 */ /***/ (function(module, exports, __webpack_require__) { var toInteger = __webpack_require__(46); var defined = __webpack_require__(43); // true -> String#at // false -> String#codePointAt module.exports = function (TO_STRING) { return function (that, pos) { var s = String(defined(that)); var i = toInteger(pos); var l = s.length; var a, b; if (i < 0 || i >= l) return TO_STRING ? '' : undefined; a = s.charCodeAt(i); return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff ? TO_STRING ? s.charAt(i) : a : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 < 10) + (b - 0xdc00) + 0x10000; }; }; /***/ }), /* 136 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var LIBRARY = __webpack_require__(29); var $export = __webpack_require__(15); var redefine = __webpack_require__(25); var hide = __webpack_require__(17); var Iterators = __webpack_require__(137); var $iterCreate = __webpack_require__(138); var setToStringTag = __webpack_require__(33); var getPrototypeOf = __webpack_require__(66); var ITERATOR = __webpack_require__(34)('iterator'); var BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next` var FF_ITERATOR = '@@iterator'; var KEYS = 'keys'; var VALUES = 'values'; var returnThis = function () { return this; }; module.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) { $iterCreate(Constructor, NAME, next); var getMethod = function (kind) { if (!BUGGY && kind in proto) return proto[kind]; switch (kind) { case KEYS: return function keys() { return new Constructor(this, kind); }; case VALUES: return function values() { return new Constructor(this, kind); }; } return function entries() { return new Constructor(this, kind); }; }; var TAG = NAME + ' Iterator'; var DEF_VALUES = DEFAULT == VALUES; var VALUES_BUG = false; var proto = Base.prototype; var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT]; var $default = $native || getMethod(DEFAULT); var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined; var $anyNative = NAME == 'Array' ? proto.entries || $native : $native; var methods, key, IteratorPrototype; // Fix native if ($anyNative) { IteratorPrototype = getPrototypeOf($anyNative.call(new Base())); if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) { // Set @@toStringTag to native iterators setToStringTag(IteratorPrototype, TAG, true); // fix for some old engines if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis); } } // fix Array#{values, @@iterator}.name in V8 / FF if (DEF_VALUES && $native && $native.name !== VALUES) { VALUES_BUG = true; $default = function values() { return $native.call(this); }; } // Define iterator if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) { hide(proto, ITERATOR, $default); } // Plug for library Iterators[NAME] = $default; Iterators[TAG] = returnThis; if (DEFAULT) { methods = { values: DEF_VALUES ? $default : getMethod(VALUES), keys: IS_SET ? $default : getMethod(KEYS), entries: $entries }; if (FORCED) for (key in methods) { if (!(key in proto)) redefine(proto, key, methods[key]); } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods); } return methods; }; /***/ }), /* 137 */ /***/ (function(module, exports) { module.exports = {}; /***/ }), /* 138 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var create = __webpack_require__(53); var descriptor = __webpack_require__(24); var setToStringTag = __webpack_require__(33); var IteratorPrototype = {}; // 25.1.2.1.1 %IteratorPrototype%[@@iterator]() __webpack_require__(17)(IteratorPrototype, __webpack_require__(34)('iterator'), function () { return this; }); module.exports = function (Constructor, NAME, next) { Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) }); setToStringTag(Constructor, NAME + ' Iterator'); }; /***/ }), /* 139 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var $export = __webpack_require__(15); var $at = __webpack_require__(135)(false); $export($export.P, 'String', { // 21.1.3.3 String.prototype.codePointAt(pos) codePointAt: function codePointAt(pos) { return $at(this, pos); } }); /***/ }), /* 140 */ /***/ (function(module, exports, __webpack_require__) { // 21.1.3.6 String.prototype.endsWith(searchString [, endPosition]) 'use strict'; var $export = __webpack_require__(15); var toLength = __webpack_require__(45); var context = __webpack_require__(141); var ENDS_WITH = 'endsWith'; var $endsWith = ''[ENDS_WITH]; $export($export.P + $export.F * __webpack_require__(143)(ENDS_WITH), 'String', { endsWith: function endsWith(searchString /* , endPosition = @length */) { var that = context(this, searchString, ENDS_WITH); var endPosition = arguments.length > 1 ? arguments[1] : undefined; var len = toLength(that.length); var end = endPosition === undefined ? len : Math.min(toLength(endPosition), len); var search = String(searchString); return $endsWith ? $endsWith.call(that, search, end) : that.slice(end - search.length, end) === search; } }); /***/ }), /* 141 */ /***/ (function(module, exports, __webpack_require__) { // helper for String#{startsWith, endsWith, includes} var isRegExp = __webpack_require__(142); var defined = __webpack_require__(43); module.exports = function (that, searchString, NAME) { if (isRegExp(searchString)) throw TypeError('String#' + NAME + " doesn't accept regex!"); return String(defined(that)); }; /***/ }), /* 142 */ /***/ (function(module, exports, __webpack_require__) { // 7.2.8 IsRegExp(argument) var isObject = __webpack_require__(20); var cof = __webpack_require__(42); var MATCH = __webpack_require__(34)('match'); module.exports = function (it) { var isRegExp; return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp'); }; /***/ }), /* 143 */ /***/ (function(module, exports, __webpack_require__) { var MATCH = __webpack_require__(34)('match'); module.exports = function (KEY) { var re = /./; try { '/./'[KEY](re); } catch (e) { try { re[MATCH] = false; return !'/./'[KEY](re); } catch (f) { /* empty */ } } return true; }; /***/ }), /* 144 */ /***/ (function(module, exports, __webpack_require__) { // 21.1.3.7 String.prototype.includes(searchString, position = 0) 'use strict'; var $export = __webpack_require__(15); var context = __webpack_require__(141); var INCLUDES = 'includes'; $export($export.P + $export.F * __webpack_require__(143)(INCLUDES), 'String', { includes: function includes(searchString /* , position = 0 */) { return !!~context(this, searchString, INCLUDES) .indexOf(searchString, arguments.length > 1 ? arguments[1] : undefined); } }); /***/ }), /* 145 */ /***/ (function(module, exports, __webpack_require__) { var $export = __webpack_require__(15); $export($export.P, 'String', { // 21.1.3.13 String.prototype.repeat(count) repeat: __webpack_require__(98) }); /***/ }), /* 146 */ /***/ (function(module, exports, __webpack_require__) { // 21.1.3.18 String.prototype.startsWith(searchString [, position ]) 'use strict'; var $export = __webpack_require__(15); var toLength = __webpack_require__(45); var context = __webpack_require__(141); var STARTS_WITH = 'startsWith'; var $startsWith = ''[STARTS_WITH]; $export($export.P + $export.F * __webpack_require__(143)(STARTS_WITH), 'String', { startsWith: function startsWith(searchString /* , position = 0 */) { var that = context(this, searchString, STARTS_WITH); var index = toLength(Math.min(arguments.length > 1 ? arguments[1] : undefined, that.length)); var search = String(searchString); return $startsWith ? $startsWith.call(that, search, index) : that.slice(index, index + search.length) === search; } }); /***/ }), /* 147 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; // B.2.3.2 String.prototype.anchor(name) __webpack_require__(148)('anchor', function (createHTML) { return function anchor(name) { return createHTML(this, 'a', 'name', name); }; }); /***/ }), /* 148 */ /***/ (function(module, exports, __webpack_require__) { var $export = __webpack_require__(15); var fails = __webpack_require__(14); var defined = __webpack_require__(43); var quot = /"/g; // B.2.3.2.1 CreateHTML(string, tag, attribute, value) var createHTML = function (string, tag, attribute, value) { var S = String(defined(string)); var p1 = ' Array#map // 2 -> Array#filter // 3 -> Array#some // 4 -> Array#every // 5 -> Array#find // 6 -> Array#findIndex var ctx = __webpack_require__(30); var IObject = __webpack_require__(41); var toObject = __webpack_require__(65); var toLength = __webpack_require__(45); var asc = __webpack_require__(182); module.exports = function (TYPE, $create) { var IS_MAP = TYPE == 1; var IS_FILTER = TYPE == 2; var IS_SOME = TYPE == 3; var IS_EVERY = TYPE == 4; var IS_FIND_INDEX = TYPE == 6; var NO_HOLES = TYPE == 5 || IS_FIND_INDEX; var create = $create || asc; return function ($this, callbackfn, that) { var O = toObject($this); var self = IObject(O); var f = ctx(callbackfn, that, 3); var length = toLength(self.length); var index = 0; var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined; var val, res; for (;length > index; index++) if (NO_HOLES || index in self) { val = self[index]; res = f(val, index, O); if (TYPE) { if (IS_MAP) result[index] = res; // map else if (res) switch (TYPE) { case 3: return true; // some case 5: return val; // find case 6: return index; // findIndex case 2: result.push(val); // filter } else if (IS_EVERY) return false; // every } } return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result; }; }; /***/ }), /* 182 */ /***/ (function(module, exports, __webpack_require__) { // 9.4.2.3 ArraySpeciesCreate(originalArray, length) var speciesConstructor = __webpack_require__(183); module.exports = function (original, length) { return new (speciesConstructor(original))(length); }; /***/ }), /* 183 */ /***/ (function(module, exports, __webpack_require__) { var isObject = __webpack_require__(20); var isArray = __webpack_require__(52); var SPECIES = __webpack_require__(34)('species'); module.exports = function (original) { var C; if (isArray(original)) { C = original.constructor; // cross-realm fallback if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined; if (isObject(C)) { C = C[SPECIES]; if (C === null) C = undefined; } } return C === undefined ? Array : C; }; /***/ }), /* 184 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var $export = __webpack_require__(15); var $map = __webpack_require__(181)(1); $export($export.P + $export.F * !__webpack_require__(177)([].map, true), 'Array', { // 22.1.3.15 / 15.4.4.19 Array.prototype.map(callbackfn [, thisArg]) map: function map(callbackfn /* , thisArg */) { return $map(this, callbackfn, arguments[1]); } }); /***/ }), /* 185 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var $export = __webpack_require__(15); var $filter = __webpack_require__(181)(2); $export($export.P + $export.F * !__webpack_require__(177)([].filter, true), 'Array', { // 22.1.3.7 / 15.4.4.20 Array.prototype.filter(callbackfn [, thisArg]) filter: function filter(callbackfn /* , thisArg */) { return $filter(this, callbackfn, arguments[1]); } }); /***/ }), /* 186 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var $export = __webpack_require__(15); var $some = __webpack_require__(181)(3); $export($export.P + $export.F * !__webpack_require__(177)([].some, true), 'Array', { // 22.1.3.23 / 15.4.4.17 Array.prototype.some(callbackfn [, thisArg]) some: function some(callbackfn /* , thisArg */) { return $some(this, callbackfn, arguments[1]); } }); /***/ }), /* 187 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var $export = __webpack_require__(15); var $every = __webpack_require__(181)(4); $export($export.P + $export.F * !__webpack_require__(177)([].every, true), 'Array', { // 22.1.3.5 / 15.4.4.16 Array.prototype.every(callbackfn [, thisArg]) every: function every(callbackfn /* , thisArg */) { return $every(this, callbackfn, arguments[1]); } }); /***/ }), /* 188 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var $export = __webpack_require__(15); var $reduce = __webpack_require__(189); $export($export.P + $export.F * !__webpack_require__(177)([].reduce, true), 'Array', { // 22.1.3.18 / 15.4.4.21 Array.prototype.reduce(callbackfn [, initialValue]) reduce: function reduce(callbackfn /* , initialValue */) { return $reduce(this, callbackfn, arguments.length, arguments[1], false); } }); /***/ }), /* 189 */ /***/ (function(module, exports, __webpack_require__) { var aFunction = __webpack_require__(31); var toObject = __webpack_require__(65); var IObject = __webpack_require__(41); var toLength = __webpack_require__(45); module.exports = function (that, callbackfn, aLen, memo, isRight) { aFunction(callbackfn); var O = toObject(that); var self = IObject(O); var length = toLength(O.length); var index = isRight ? length - 1 : 0; var i = isRight ? -1 : 1; if (aLen < 2) for (;;) { if (index in self) { memo = self[index]; index += i; break; } index += i; if (isRight ? index < 0 : length = 0 : length > index; index += i) if (index in self) { memo = callbackfn(memo, self[index], index, O); } return memo; }; /***/ }), /* 190 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var $export = __webpack_require__(15); var $reduce = __webpack_require__(189); $export($export.P + $export.F * !__webpack_require__(177)([].reduceRight, true), 'Array', { // 22.1.3.19 / 15.4.4.22 Array.prototype.reduceRight(callbackfn [, initialValue]) reduceRight: function reduceRight(callbackfn /* , initialValue */) { return $reduce(this, callbackfn, arguments.length, arguments[1], true); } }); /***/ }), /* 191 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var $export = __webpack_require__(15); var $indexOf = __webpack_require__(44)(false); var $native = [].indexOf; var NEGATIVE_ZERO = !!$native && 1 / [1].indexOf(1, -0) < 0; $export($export.P + $export.F * (NEGATIVE_ZERO || !__webpack_require__(177)($native)), 'Array', { // 22.1.3.11 / 15.4.4.14 Array.prototype.indexOf(searchElement [, fromIndex]) indexOf: function indexOf(searchElement /* , fromIndex = 0 */) { return NEGATIVE_ZERO // convert -0 to +0 ? $native.apply(this, arguments) || 0 : $indexOf(this, searchElement, arguments[1]); } }); /***/ }), /* 192 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var $export = __webpack_require__(15); var toIObject = __webpack_require__(40); var toInteger = __webpack_require__(46); var toLength = __webpack_require__(45); var $native = [].lastIndexOf; var NEGATIVE_ZERO = !!$native && 1 / [1].lastIndexOf(1, -0) < 0; $export($export.P + $export.F * (NEGATIVE_ZERO || !__webpack_require__(177)($native)), 'Array', { // 22.1.3.14 / 15.4.4.15 Array.prototype.lastIndexOf(searchElement [, fromIndex]) lastIndexOf: function lastIndexOf(searchElement /* , fromIndex = @[*-1] */) { // convert -0 to +0 if (NEGATIVE_ZERO) return $native.apply(this, arguments) || 0; var O = toIObject(this); var length = toLength(O.length); var index = length - 1; if (arguments.length > 1) index = Math.min(index, toInteger(arguments[1])); if (index < 0) index = length + index; for (;index >= 0; index--) if (index in O) if (O[index] === searchElement) return index || 0; return -1; } }); /***/ }), /* 193 */ /***/ (function(module, exports, __webpack_require__) { // 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length) var $export = __webpack_require__(15); $export($export.P, 'Array', { copyWithin: __webpack_require__(194) }); __webpack_require__(195)('copyWithin'); /***/ }), /* 194 */ /***/ (function(module, exports, __webpack_require__) { // 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length) 'use strict'; var toObject = __webpack_require__(65); var toAbsoluteIndex = __webpack_require__(47); var toLength = __webpack_require__(45); module.exports = [].copyWithin || function copyWithin(target /* = 0 */, start /* = 0, end = @length */) { var O = toObject(this); var len = toLength(O.length); var to = toAbsoluteIndex(target, len); var from = toAbsoluteIndex(start, len); var end = arguments.length > 2 ? arguments[2] : undefined; var count = Math.min((end === undefined ? len : toAbsoluteIndex(end, len)) - from, len - to); var inc = 1; if (from < to && to < from + count) { inc = -1; from += count - 1; to += count - 1; } while (count-- > 0) { if (from in O) O[to] = O[from]; else delete O[to]; to += inc; from += inc; } return O; }; /***/ }), /* 195 */ /***/ (function(module, exports, __webpack_require__) { // 22.1.3.31 Array.prototype[@@unscopables] var UNSCOPABLES = __webpack_require__(34)('unscopables'); var ArrayProto = Array.prototype; if (ArrayProto[UNSCOPABLES] == undefined) __webpack_require__(17)(ArrayProto, UNSCOPABLES, {}); module.exports = function (key) { ArrayProto[UNSCOPABLES][key] = true; }; /***/ }), /* 196 */ /***/ (function(module, exports, __webpack_require__) { // 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length) var $export = __webpack_require__(15); $export($export.P, 'Array', { fill: __webpack_require__(197) }); __webpack_require__(195)('fill'); /***/ }), /* 197 */ /***/ (function(module, exports, __webpack_require__) { // 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length) 'use strict'; var toObject = __webpack_require__(65); var toAbsoluteIndex = __webpack_require__(47); var toLength = __webpack_require__(45); module.exports = function fill(value /* , start = 0, end = @length */) { var O = toObject(this); var length = toLength(O.length); var aLen = arguments.length; var index = toAbsoluteIndex(aLen > 1 ? arguments[1] : undefined, length); var end = aLen > 2 ? arguments[2] : undefined; var endPos = end === undefined ? length : toAbsoluteIndex(end, length); while (endPos > index) O[index++] = value; return O; }; /***/ }), /* 198 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; // 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined) var $export = __webpack_require__(15); var $find = __webpack_require__(181)(5); var KEY = 'find'; var forced = true; // Shouldn't skip holes if (KEY in []) Array(1)[KEY](function () { forced = false; }); $export($export.P + $export.F * forced, 'Array', { find: function find(callbackfn /* , that = undefined */) { return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined); } }); __webpack_require__(195)(KEY); /***/ }), /* 199 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; // 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined) var $export = __webpack_require__(15); var $find = __webpack_require__(181)(6); var KEY = 'findIndex'; var forced = true; // Shouldn't skip holes if (KEY in []) Array(1)[KEY](function () { forced = false; }); $export($export.P + $export.F * forced, 'Array', { findIndex: function findIndex(callbackfn /* , that = undefined */) { return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined); } }); __webpack_require__(195)(KEY); /***/ }), /* 200 */ /***/ (function(module, exports, __webpack_require__) { __webpack_require__(201)('Array'); /***/ }), /* 201 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var global = __webpack_require__(11); var dP = __webpack_require__(18); var DESCRIPTORS = __webpack_require__(13); var SPECIES = __webpack_require__(34)('species'); module.exports = function (KEY) { var C = global[KEY]; if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, { configurable: true, get: function () { return this; } }); }; /***/ }), /* 202 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var addToUnscopables = __webpack_require__(195); var step = __webpack_require__(203); var Iterators = __webpack_require__(137); var toIObject = __webpack_require__(40); // 22.1.3.4 Array.prototype.entries() // 22.1.3.13 Array.prototype.keys() // 22.1.3.29 Array.prototype.values() // 22.1.3.30 Array.prototype[@@iterator]() module.exports = __webpack_require__(136)(Array, 'Array', function (iterated, kind) { this._t = toIObject(iterated); // target this._i = 0; // next index this._k = kind; // kind // 22.1.5.2.1 %ArrayIteratorPrototype%.next() }, function () { var O = this._t; var kind = this._k; var index = this._i++; if (!O || index >= O.length) { this._t = undefined; return step(1); } if (kind == 'keys') return step(0, index); if (kind == 'values') return step(0, O[index]); return step(0, [index, O[index]]); }, 'values'); // argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7) Iterators.Arguments = Iterators.Array; addToUnscopables('keys'); addToUnscopables('values'); addToUnscopables('entries'); /***/ }), /* 203 */ /***/ (function(module, exports) { module.exports = function (done, value) { return { value: value, done: !!done }; }; /***/ }), /* 204 */ /***/ (function(module, exports, __webpack_require__) { var global = __webpack_require__(11); var inheritIfRequired = __webpack_require__(95); var dP = __webpack_require__(18).f; var gOPN = __webpack_require__(57).f; var isRegExp = __webpack_require__(142); var $flags = __webpack_require__(205); var $RegExp = global.RegExp; var Base = $RegExp; var proto = $RegExp.prototype; var re1 = /a/g; var re2 = /a/g; // "new" creates a new object, old webkit buggy here var CORRECT_NEW = new $RegExp(re1) !== re1; if (__webpack_require__(13) && (!CORRECT_NEW || __webpack_require__(14)(function () { re2[__webpack_require__(34)('match')] = false; // RegExp constructor can alter flags and IsRegExp works correct with @@match return $RegExp(re1) != re1 || $RegExp(re2) == re2 || $RegExp(re1, 'i') != '/a/i'; }))) { $RegExp = function RegExp(p, f) { var tiRE = this instanceof $RegExp; var piRE = isRegExp(p); var fiU = f === undefined; return !tiRE && piRE && p.constructor === $RegExp && fiU ? p : inheritIfRequired(CORRECT_NEW ? new Base(piRE && !fiU ? p.source : p, f) : Base((piRE = p instanceof $RegExp) ? p.source : p, piRE && fiU ? $flags.call(p) : f) , tiRE ? this : proto, $RegExp); }; var proxy = function (key) { key in $RegExp || dP($RegExp, key, { configurable: true, get: function () { return Base[key]; }, set: function (it) { Base[key] = it; } }); }; for (var keys = gOPN(Base), i = 0; keys.length > i;) proxy(keys[i++]); proto.constructor = $RegExp; $RegExp.prototype = proto; __webpack_require__(25)(global, 'RegExp', $RegExp); } __webpack_require__(201)('RegExp'); /***/ }), /* 205 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; // 21.2.5.3 get RegExp.prototype.flags var anObject = __webpack_require__(19); module.exports = function () { var that = anObject(this); var result = ''; if (that.global) result += 'g'; if (that.ignoreCase) result += 'i'; if (that.multiline) result += 'm'; if (that.unicode) result += 'u'; if (that.sticky) result += 'y'; return result; }; /***/ }), /* 206 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var regexpExec = __webpack_require__(207); __webpack_require__(15)({ target: 'RegExp', proto: true, forced: regexpExec !== /./.exec }, { exec: regexpExec }); /***/ }), /* 207 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var regexpFlags = __webpack_require__(205); var nativeExec = RegExp.prototype.exec; // This always refers to the native implementation, because the // String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js, // which loads this file before patching the method. var nativeReplace = String.prototype.replace; var patchedExec = nativeExec; var LAST_INDEX = 'lastIndex'; var UPDATES_LAST_INDEX_WRONG = (function () { var re1 = /a/, re2 = /b*/g; nativeExec.call(re1, 'a'); nativeExec.call(re2, 'a'); return re1[LAST_INDEX] !== 0 || re2[LAST_INDEX] !== 0; })(); // nonparticipating capturing group, copied from es5-shim's String#split patch. var NPCG_INCLUDED = /()??/.exec('')[1] !== undefined; var PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED; if (PATCH) { patchedExec = function exec(str) { var re = this; var lastIndex, reCopy, match, i; if (NPCG_INCLUDED) { reCopy = new RegExp('^' + re.source + '$(?!\\s)', regexpFlags.call(re)); } if (UPDATES_LAST_INDEX_WRONG) lastIndex = re[LAST_INDEX]; match = nativeExec.call(re, str); if (UPDATES_LAST_INDEX_WRONG && match) { re[LAST_INDEX] = re.global ? match.index + match[0].length : lastIndex; } if (NPCG_INCLUDED && match && match.length > 1) { // Fix browsers whose `exec` methods don't consistently return `undefined` // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/ // eslint-disable-next-line no-loop-func nativeReplace.call(match[0], reCopy, function () { for (i = 1; i < arguments.length - 2; i++) { if (arguments[i] === undefined) match[i] = undefined; } }); } return match; }; } module.exports = patchedExec; /***/ }), /* 208 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; __webpack_require__(209); var anObject = __webpack_require__(19); var $flags = __webpack_require__(205); var DESCRIPTORS = __webpack_require__(13); var TO_STRING = 'toString'; var $toString = /./[TO_STRING]; var define = function (fn) { __webpack_require__(25)(RegExp.prototype, TO_STRING, fn, true); }; // 21.2.5.14 RegExp.prototype.toString() if (__webpack_require__(14)(function () { return $toString.call({ source: 'a', flags: 'b' }) != '/a/b'; })) { define(function toString() { var R = anObject(this); return '/'.concat(R.source, '/', 'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined); }); // FF44- RegExp#toString has a wrong name } else if ($toString.name != TO_STRING) { define(function toString() { return $toString.call(this); }); } /***/ }), /* 209 */ /***/ (function(module, exports, __webpack_require__) { // 21.2.5.3 get RegExp.prototype.flags() if (__webpack_require__(13) && /./g.flags != 'g') __webpack_require__(18).f(RegExp.prototype, 'flags', { configurable: true, get: __webpack_require__(205) }); /***/ }), /* 210 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var anObject = __webpack_require__(19); var toLength = __webpack_require__(45); var advanceStringIndex = __webpack_require__(211); var regExpExec = __webpack_require__(212); // @@match logic __webpack_require__(213)('match', 1, function (defined, MATCH, $match, maybeCallNative) { return [ // `String.prototype.match` method // https://tc39.github.io/ecma262/#sec-string.prototype.match function match(regexp) { var O = defined(this); var fn = regexp == undefined ? undefined : regexp[MATCH]; return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O)); }, // `RegExp.prototype[@@match]` method // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@match function (regexp) { var res = maybeCallNative($match, regexp, this); if (res.done) return res.value; var rx = anObject(regexp); var S = String(this); if (!rx.global) return regExpExec(rx, S); var fullUnicode = rx.unicode; rx.lastIndex = 0; var A = []; var n = 0; var result; while ((result = regExpExec(rx, S)) !== null) { var matchStr = String(result[0]); A[n] = matchStr; if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode); n++; } return n === 0 ? null : A; } ]; }); /***/ }), /* 211 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var at = __webpack_require__(135)(true); // `AdvanceStringIndex` abstract operation // https://tc39.github.io/ecma262/#sec-advancestringindex module.exports = function (S, index, unicode) { return index + (unicode ? at(S, index).length : 1); }; /***/ }), /* 212 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var classof = __webpack_require__(82); var builtinExec = RegExp.prototype.exec; // `RegExpExec` abstract operation // https://tc39.github.io/ecma262/#sec-regexpexec module.exports = function (R, S) { var exec = R.exec; if (typeof exec === 'function') { var result = exec.call(R, S); if (typeof result !== 'object') { throw new TypeError('RegExp exec method returned something other than an Object or null'); } return result; } if (classof(R) !== 'RegExp') { throw new TypeError('RegExp#exec called on incompatible receiver'); } return builtinExec.call(R, S); }; /***/ }), /* 213 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; __webpack_require__(206); var redefine = __webpack_require__(25); var hide = __webpack_require__(17); var fails = __webpack_require__(14); var defined = __webpack_require__(43); var wks = __webpack_require__(34); var regexpExec = __webpack_require__(207); var SPECIES = wks('species'); var REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () { // #replace needs built-in support for named groups. // #match works fine because it just return the exec results, even if it has // a "grops" property. var re = /./; re.exec = function () { var result = []; result.groups = { a: '7' }; return result; }; return ''.replace(re, '$') !== '7'; }); var SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = (function () { // Chrome 51 has a buggy "split" implementation when RegExp#exec !== nativeExec var re = /(?:)/; var originalExec = re.exec; re.exec = function () { return originalExec.apply(this, arguments); }; var result = 'ab'.split(re); return result.length === 2 && result[0] === 'a' && result[1] === 'b'; })(); module.exports = function (KEY, length, exec) { var SYMBOL = wks(KEY); var DELEGATES_TO_SYMBOL = !fails(function () { // String methods call symbol-named RegEp methods var O = {}; O[SYMBOL] = function () { return 7; }; return ''[KEY](O) != 7; }); var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL ? !fails(function () { // Symbol-named RegExp methods call .exec var execCalled = false; var re = /a/; re.exec = function () { execCalled = true; return null; }; if (KEY === 'split') { // RegExp[@@split] doesn't call the regex's exec method, but first creates // a new one. We need to return the patched regex when creating the new one. re.constructor = {}; re.constructor[SPECIES] = function () { return re; }; } re[SYMBOL](''); return !execCalled; }) : undefined; if ( !DELEGATES_TO_SYMBOL || !DELEGATES_TO_EXEC || (KEY === 'replace' && !REPLACE_SUPPORTS_NAMED_GROUPS) || (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC) ) { var nativeRegExpMethod = /./[SYMBOL]; var fns = exec( defined, SYMBOL, ''[KEY], function maybeCallNative(nativeMethod, regexp, str, arg2, forceStringMethod) { if (regexp.exec === regexpExec) { if (DELEGATES_TO_SYMBOL && !forceStringMethod) { // The native String method already delegates to @@method (this // polyfilled function), leasing to infinite recursion. // We avoid it by directly calling the native @@method method. return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) }; } return { done: true, value: nativeMethod.call(str, regexp, arg2) }; } return { done: false }; } ); var strfn = fns[0]; var rxfn = fns[1]; redefine(String.prototype, KEY, strfn); hide(RegExp.prototype, SYMBOL, length == 2 // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue) // 21.2.5.11 RegExp.prototype[@@split](string, limit) ? function (string, arg) { return rxfn.call(string, this, arg); } // 21.2.5.6 RegExp.prototype[@@match](string) // 21.2.5.9 RegExp.prototype[@@search](string) : function (string) { return rxfn.call(string, this); } ); } }; /***/ }), /* 214 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; var anObject = __webpack_require__(19); var toObject = __webpack_require__(65); var toLength = __webpack_require__(45); var toInteger = __webpack_require__(46); var advanceStringIndex = __webpack_require__(211); var regExpExec = __webpack_require__(212); var max = Math.max; var min = Math.min; var floor = Math.floor; var SUBSTITUTION_SYMBOLS = /\$([$&`']|\d\d?|]*>)/g; var SUBSTITUTION_SYMBOLS_NO_NAMED = /\$([$&`']|\d\d?)/g; var maybeToString = function (it) { return it === undefined ? it : String(it); }; // @@replace logic __webpack_require__(213)('replace', 2, function (defined, REPLACE, $replace, maybeCallNative) { return [ // `String.prototype.replace` method // https://tc39.github.io/ecma262/#sec-string.prototype.replace function replace(searchValue, replaceValue) { var O = defined(this); var fn = searchValue == undefined ? undefined : searchValue[REPLACE]; return fn !== undefined ? fn.call(searchValue, O, replaceValue) : $replace.call(String(O), searchValue, replaceValue); }, // `RegExp.prototype[@@replace]` method // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace function (regexp, replaceValue) { var res = maybeCallNative($replace, regexp, this, replaceValue); if (res.done) return res.value; var rx = anObject(regexp); var S = String(this); var functionalReplace = typeof replaceValue === 'function'; if (!functionalReplace) replaceValue = String(replaceValue); var global = rx.global; if (global) { var fullUnicode = rx.unicode; rx.lastIndex = 0; } var results = []; while (true) { var result = regExpExec(rx, S); if (result === null) break; results.push(result); if (!global) break; var matchStr = String(result[0]); if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode); } var accumulatedResult = ''; var nextSourcePosition = 0; for (var i = 0; i < results.length; i++) { result = results[i]; var matched = String(result[0]); var position = max(min(toInteger(result.index), S.length), 0); var captures = []; // NOTE: This is equivalent to // captures = result.slice(1).map(maybeToString) // but for some reason `nativeSlice.call(result, 1, result.length)` (called in // the slice polyfill when slicing native arrays) "doesn't work" in safari 9 and // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it. for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j])); var namedCaptures = result.groups; if (functionalReplace) { var replacerArgs = [matched].concat(captures, position, S); if (namedCaptures !== undefined) replacerArgs.push(namedCaptures); var replacement = String(replaceValue.apply(undefined, replacerArgs)); } else { replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue); } if (position >= nextSourcePosition) { accumulatedResult += S.slice(nextSourcePosition, position) + replacement; nextSourcePosition = position + matched.length; } } return accumulatedResult + S.slice(nextSourcePosition); } ]; // https://tc39.github.io/ecma262/#sec-getsubstitution function getSubstitution(matched, str, position, captures, namedCaptures, replacement) { var tailPos = position + matched.length; var m = captures.length; var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED; if (namedCaptures !== undefined) { namedCaptures = toObject(namedCaptures); symbols = SUBSTITUTION_SYMBOLS; } return $replace.call(replacement, symbols, function (match, ch) { var capture; switch (ch.charAt(0)) { case '$': return '$'; case '&': return matched; case '`': return str.slice(0, position); case "'": return str.slice(tailPos); case '>> 0; if (lim === 0) return []; if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : []; var p = 0; var q = 0; var A = []; while (q < S.length) { splitter.lastIndex = SUPPORTS_Y ? q : 0; var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q)); var e; if ( z === null || (e = $min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p ) { q = advanceStringIndex(S, q, unicodeMatching); } else { A.push(S.slice(p, q)); if (A.length === lim) return A; for (var i = 1; i 0; m = m * 256 + buffer[i], i--, nBits -= 8); if (e === 0) { e = 1 - eBias; } else if (e === eMax) { return m ? NaN : s ? -Infinity : Infinity; } else { m = m + pow(2, mLen); e = e - eBias; } return (s ? -1 : 1) * m * pow(2, e - mLen); } function unpackI32(bytes) { return bytes[3] < 24 | bytes[2] < 16 | bytes[1] < 8 | bytes[0]; } function packI8(it) { return [it & 0xff]; } function packI16(it) { return [it & 0xff, it >> 8 & 0xff]; } function packI32(it) { return [it & 0xff, it >> 8 & 0xff, it >> 16 & 0xff, it >> 24 & 0xff]; } function packF64(it) { return packIEEE754(it, 52, 8); } function packF32(it) { return packIEEE754(it, 23, 4); } function addGetter(C, key, internal) { dP(C[PROTOTYPE], key, { get: function () { return this[internal]; } }); } function get(view, bytes, index, isLittleEndian) { var numIndex = +index; var intIndex = toIndex(numIndex); if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX); var store = view[$BUFFER]._b; var start = intIndex + view[$OFFSET]; var pack = store.slice(start, start + bytes); return isLittleEndian ? pack : pack.reverse(); } function set(view, bytes, index, conversion, value, isLittleEndian) { var numIndex = +index; var intIndex = toIndex(numIndex); if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX); var store = view[$BUFFER]._b; var start = intIndex + view[$OFFSET]; var pack = conversion(+value); for (var i = 0; i < bytes; i++) store[start + i] = pack[isLittleEndian ? i : bytes - i - 1]; } if (!$typed.ABV) { $ArrayBuffer = function ArrayBuffer(length) { anInstance(this, $ArrayBuffer, ARRAY_BUFFER); var byteLength = toIndex(length); this._b = arrayFill.call(new Array(byteLength), 0); this[$LENGTH] = byteLength; }; $DataView = function DataView(buffer, byteOffset, byteLength) { anInstance(this, $DataView, DATA_VIEW); anInstance(buffer, $ArrayBuffer, DATA_VIEW); var bufferLength = buffer[$LENGTH]; var offset = toInteger(byteOffset); if (offset < 0 || offset > bufferLength) throw RangeError('Wrong offset!'); byteLength = byteLength === undefined ? bufferLength - offset : toLength(byteLength); if (offset + byteLength > bufferLength) throw RangeError(WRONG_LENGTH); this[$BUFFER] = buffer; this[$OFFSET] = offset; this[$LENGTH] = byteLength; }; if (DESCRIPTORS) { addGetter($ArrayBuffer, BYTE_LENGTH, '_l'); addGetter($DataView, BUFFER, '_b'); addGetter($DataView, BYTE_LENGTH, '_l'); addGetter($DataView, BYTE_OFFSET, '_o'); } redefineAll($DataView[PROTOTYPE], { getInt8: function getInt8(byteOffset) { return get(this, 1, byteOffset)[0] < 24 >> 24; }, getUint8: function getUint8(byteOffset) { return get(this, 1, byteOffset)[0]; }, getInt16: function getInt16(byteOffset /* , littleEndian */) { var bytes = get(this, 2, byteOffset, arguments[1]); return (bytes[1] < 8 | bytes[0]) < 16 >> 16; }, getUint16: function getUint16(byteOffset /* , littleEndian */) { var bytes = get(this, 2, byteOffset, arguments[1]); return bytes[1] < 8 | bytes[0]; }, getInt32: function getInt32(byteOffset /* , littleEndian */) { return unpackI32(get(this, 4, byteOffset, arguments[1])); }, getUint32: function getUint32(byteOffset /* , littleEndian */) { return unpackI32(get(this, 4, byteOffset, arguments[1])) >>> 0; }, getFloat32: function getFloat32(byteOffset /* , littleEndian */) { return unpackIEEE754(get(this, 4, byteOffset, arguments[1]), 23, 4); }, getFloat64: function getFloat64(byteOffset /* , littleEndian */) { return unpackIEEE754(get(this, 8, byteOffset, arguments[1]), 52, 8); }, setInt8: function setInt8(byteOffset, value) { set(this, 1, byteOffset, packI8, value); }, setUint8: function setUint8(byteOffset, value) { set(this, 1, byteOffset, packI8, value); }, setInt16: function setInt16(byteOffset, value /* , littleEndian */) { set(this, 2, byteOffset, packI16, value, arguments[2]); }, setUint16: function setUint16(byteOffset, value /* , littleEndian */) { set(this, 2, byteOffset, packI16, value, arguments[2]); }, setInt32: function setInt32(byteOffset, value /* , littleEndian */) { set(this, 4, byteOffset, packI32, value, arguments[2]); }, setUint32: function setUint32(byteOffset, value /* , littleEndian */) { set(this, 4, byteOffset, packI32, value, arguments[2]); }, setFloat32: function setFloat32(byteOffset, value /* , littleEndian */) { set(this, 4, byteOffset, packF32, value, arguments[2]); }, setFloat64: function setFloat64(byteOffset, value /* , littleEndian */) { set(this, 8, byteOffset, packF64, value, arguments[2]); } }); } else { if (!fails(function () { $ArrayBuffer(1); }) || !fails(function () { new $ArrayBuffer(-1); // eslint-disable-line no-new }) || fails(function () { new $ArrayBuffer(); // eslint-disable-line no-new new $ArrayBuffer(1.5); // eslint-disable-line no-new new $ArrayBuffer(NaN); // eslint-disable-line no-new return $ArrayBuffer.name != ARRAY_BUFFER; })) { $ArrayBuffer = function ArrayBuffer(length) { anInstance(this, $ArrayBuffer); return new BaseBuffer(toIndex(length)); }; var ArrayBufferProto = $ArrayBuffer[PROTOTYPE] = BaseBuffer[PROTOTYPE]; for (var keys = gOPN(BaseBuffer), j = 0, key; keys.length > j;) { if (!((key = keys[j++]) in $ArrayBuffer)) hide($ArrayBuffer, key, BaseBuffer[key]); } if (!LIBRARY) ArrayBufferProto.constructor = $ArrayBuffer; } // iOS Safari 7.x bug var view = new $DataView(new $ArrayBuffer(2)); var $setInt8 = $DataView[PROTOTYPE].setInt8; view.setInt8(0, 2147483648); view.setInt8(1, 2147483649); if (view.getInt8(0) || !view.getInt8(1)) redefineAll($DataView[PROTOTYPE], { setInt8: function setInt8(byteOffset, value) { $setInt8.call(this, byteOffset, value < 24 >> 24); }, setUint8: function setUint8(byteOffset, value) { $setInt8.call(this, byteOffset, value < 24 >> 24); } }, true); } setToStringTag($ArrayBuffer, ARRAY_BUFFER); setToStringTag($DataView, DATA_VIEW); hide($DataView[PROTOTYPE], $typed.VIEW, true); exports[ARRAY_BUFFER] = $ArrayBuffer; exports[DATA_VIEW] = $DataView; /***/ }), /* 239 */ /***/ (function(module, exports, __webpack_require__) { // https://tc39.github.io/ecma262/#sec-toindex var toInteger = __webpack_require__(46); var toLength = __webpack_require__(45); module.exports = function (it) { if (it === undefined) return 0; var number = toInteger(it); var length = toLength(number); if (number !== length) throw RangeError('Wrong length!'); return length; }; /***/ }), /* 240 */ /***/ (function(module, exports, __webpack_require__) { var $export = __webpack_require__(15); $export($export.G + $export.W + $export.F * !__webpack_require__(237).ABV, { DataView: __webpack_require__(238).DataView }); /***/ }), /* 241 */ /***/ (function(module, exports, __webpack_require__) { __webpack_require__(242)('Int8', 1, function (init) { return function Int8Array(data, byteOffset, length) { return init(this, data, byteOffset, length); }; }); /***/ }), /* 242 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; if (__webpack_require__(13)) { var LIBRARY = __webpack_require__(29); var global = __webpack_require__(11); var fails = __webpack_require__(14); var $export = __webpack_require__(15); var $typed = __webpack_require__(237); var $buffer = __webpack_require__(238); var ctx = __webpack_require__(30); var anInstance = __webpack_require__(219); var propertyDesc = __webpack_require__(24); var hide = __webpack_require__(17); var redefineAll = __webpack_require__(227); var toInteger = __webpack_require__(46); var toLength = __webpack_require__(45); var toIndex = __webpack_require__(239); var toAbsoluteIndex = __webpack_require__(47); var toPrimitive = __webpack_require__(23); var has = __webpack_require__(12); var classof = __webpack_require__(82); var isObject = __webpack_require__(20); var toObject = __webpack_require__(65); var isArrayIter = __webpack_require__(171); var create = __webpack_require__(53); var getPrototypeOf = __webpack_require__(66); var gOPN = __webpack_require__(57).f; var getIterFn = __webpack_require__(173); var uid = __webpack_require__(26); var wks = __webpack_require__(34); var createArrayMethod = __webpack_require__(181); var createArrayIncludes = __webpack_require__(44); var speciesConstructor = __webpack_require__(217); var ArrayIterators = __webpack_require__(202); var Iterators = __webpack_require__(137); var $iterDetect = __webpack_require__(174); var setSpecies = __webpack_require__(201); var arrayFill = __webpack_require__(197); var arrayCopyWithin = __webpack_require__(194); var $DP = __webpack_require__(18); var $GOPD = __webpack_require__(58); var dP = $DP.f; var gOPD = $GOPD.f; var RangeError = global.RangeError; var TypeError = global.TypeError; var Uint8Array = global.Uint8Array; var ARRAY_BUFFER = 'ArrayBuffer'; var SHARED_BUFFER = 'Shared' + ARRAY_BUFFER; var BYTES_PER_ELEMENT = 'BYTES_PER_ELEMENT'; var PROTOTYPE = 'prototype'; var ArrayProto = Array[PROTOTYPE]; var $ArrayBuffer = $buffer.ArrayBuffer; var $DataView = $buffer.DataView; var arrayForEach = createArrayMethod(0); var arrayFilter = createArrayMethod(2); var arraySome = createArrayMethod(3); var arrayEvery = createArrayMethod(4); var arrayFind = createArrayMethod(5); var arrayFindIndex = createArrayMethod(6); var arrayIncludes = createArrayIncludes(true); var arrayIndexOf = createArrayIncludes(false); var arrayValues = ArrayIterators.values; var arrayKeys = ArrayIterators.keys; var arrayEntries = ArrayIterators.entries; var arrayLastIndexOf = ArrayProto.lastIndexOf; var arrayReduce = ArrayProto.reduce; var arrayReduceRight = ArrayProto.reduceRight; var arrayJoin = ArrayProto.join; var arraySort = ArrayProto.sort; var arraySlice = ArrayProto.slice; var arrayToString = ArrayProto.toString; var arrayToLocaleString = ArrayProto.toLocaleString; var ITERATOR = wks('iterator'); var TAG = wks('toStringTag'); var TYPED_CONSTRUCTOR = uid('typed_constructor'); var DEF_CONSTRUCTOR = uid('def_constructor'); var ALL_CONSTRUCTORS = $typed.CONSTR; var TYPED_ARRAY = $typed.TYPED; var VIEW = $typed.VIEW; var WRONG_LENGTH = 'Wrong length!'; var $map = createArrayMethod(1, function (O, length) { return allocate(speciesConstructor(O, O[DEF_CONSTRUCTOR]), length); }); var LITTLE_ENDIAN = fails(function () { // eslint-disable-next-line no-undef return new Uint8Array(new Uint16Array([1]).buffer)[0] === 1; }); var FORCED_SET = !!Uint8Array && !!Uint8Array[PROTOTYPE].set && fails(function () { new Uint8Array(1).set({}); }); var toOffset = function (it, BYTES) { var offset = toInteger(it); if (offset < 0 || offset % BYTES) throw RangeError('Wrong offset!'); return offset; }; var validate = function (it) { if (isObject(it) && TYPED_ARRAY in it) return it; throw TypeError(it + ' is not a typed array!'); }; var allocate = function (C, length) { if (!(isObject(C) && TYPED_CONSTRUCTOR in C)) { throw TypeError('It is not a typed array constructor!'); } return new C(length); }; var speciesFromList = function (O, list) { return fromList(speciesConstructor(O, O[DEF_CONSTRUCTOR]), list); }; var fromList = function (C, list) { var index = 0; var length = list.length; var result = allocate(C, length); while (length > index) result[index] = list[index++]; return result; }; var addGetter = function (it, key, internal) { dP(it, key, { get: function () { return this._d[internal]; } }); }; var $from = function from(source /* , mapfn, thisArg */) { var O = toObject(source); var aLen = arguments.length; var mapfn = aLen > 1 ? arguments[1] : undefined; var mapping = mapfn !== undefined; var iterFn = getIterFn(O); var i, length, values, result, step, iterator; if (iterFn != undefined && !isArrayIter(iterFn)) { for (iterator = iterFn.call(O), values = [], i = 0; !(step = iterator.next()).done; i++) { values.push(step.value); } O = values; } if (mapping && aLen > 2) mapfn = ctx(mapfn, arguments[2], 2); for (i = 0, length = toLength(O.length), result = allocate(this, length); length > i; i++) { result[i] = mapping ? mapfn(O[i], i) : O[i]; } return result; }; var $of = function of(/* ...items */) { var index = 0; var length = arguments.length; var result = allocate(this, length); while (length > index) result[index] = arguments[index++]; return result; }; // iOS Safari 6.x fails here var TO_LOCALE_BUG = !!Uint8Array && fails(function () { arrayToLocaleString.call(new Uint8Array(1)); }); var $toLocaleString = function toLocaleString() { return arrayToLocaleString.apply(TO_LOCALE_BUG ? arraySlice.call(validate(this)) : validate(this), arguments); }; var proto = { copyWithin: function copyWithin(target, start /* , end */) { return arrayCopyWithin.call(validate(this), target, start, arguments.length > 2 ? arguments[2] : undefined); }, every: function every(callbackfn /* , thisArg */) { return arrayEvery(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined); }, fill: function fill(value /* , start, end */) { // eslint-disable-line no-unused-vars return arrayFill.apply(validate(this), arguments); }, filter: function filter(callbackfn /* , thisArg */) { return speciesFromList(this, arrayFilter(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined)); }, find: function find(predicate /* , thisArg */) { return arrayFind(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined); }, findIndex: function findIndex(predicate /* , thisArg */) { return arrayFindIndex(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined); }, forEach: function forEach(callbackfn /* , thisArg */) { arrayForEach(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined); }, indexOf: function indexOf(searchElement /* , fromIndex */) { return arrayIndexOf(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined); }, includes: function includes(searchElement /* , fromIndex */) { return arrayIncludes(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined); }, join: function join(separator) { // eslint-disable-line no-unused-vars return arrayJoin.apply(validate(this), arguments); }, lastIndexOf: function lastIndexOf(searchElement /* , fromIndex */) { // eslint-disable-line no-unused-vars return arrayLastIndexOf.apply(validate(this), arguments); }, map: function map(mapfn /* , thisArg */) { return $map(validate(this), mapfn, arguments.length > 1 ? arguments[1] : undefined); }, reduce: function reduce(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars return arrayReduce.apply(validate(this), arguments); }, reduceRight: function reduceRight(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars return arrayReduceRight.apply(validate(this), arguments); }, reverse: function reverse() { var that = this; var length = validate(that).length; var middle = Math.floor(length / 2); var index = 0; var value; while (index < middle) { value = that[index]; that[index++] = that[--length]; that[length] = value; } return that; }, some: function some(callbackfn /* , thisArg */) { return arraySome(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined); }, sort: function sort(comparefn) { return arraySort.call(validate(this), comparefn); }, subarray: function subarray(begin, end) { var O = validate(this); var length = O.length; var $begin = toAbsoluteIndex(begin, length); return new (speciesConstructor(O, O[DEF_CONSTRUCTOR]))( O.buffer, O.byteOffset + $begin * O.BYTES_PER_ELEMENT, toLength((end === undefined ? length : toAbsoluteIndex(end, length)) - $begin) ); } }; var $slice = function slice(start, end) { return speciesFromList(this, arraySlice.call(validate(this), start, end)); }; var $set = function set(arrayLike /* , offset */) { validate(this); var offset = toOffset(arguments[1], 1); var length = this.length; var src = toObject(arrayLike); var len = toLength(src.length); var index = 0; if (len + offset > length) throw RangeError(WRONG_LENGTH); while (index < len) this[offset + index] = src[index++]; }; var $iterators = { entries: function entries() { return arrayEntries.call(validate(this)); }, keys: function keys() { return arrayKeys.call(validate(this)); }, values: function values() { return arrayValues.call(validate(this)); } }; var isTAIndex = function (target, key) { return isObject(target) && target[TYPED_ARRAY] && typeof key != 'symbol' && key in target && String(+key) == String(key); }; var $getDesc = function getOwnPropertyDescriptor(target, key) { return isTAIndex(target, key = toPrimitive(key, true)) ? propertyDesc(2, target[key]) : gOPD(target, key); }; var $setDesc = function defineProperty(target, key, desc) { if (isTAIndex(target, key = toPrimitive(key, true)) && isObject(desc) && has(desc, 'value') && !has(desc, 'get') && !has(desc, 'set') // TODO: add validation descriptor w/o calling accessors && !desc.configurable && (!has(desc, 'writable') || desc.writable) && (!has(desc, 'enumerable') || desc.enumerable) ) { target[key] = desc.value; return target; } return dP(target, key, desc); }; if (!ALL_CONSTRUCTORS) { $GOPD.f = $getDesc; $DP.f = $setDesc; } $export($export.S + $export.F * !ALL_CONSTRUCTORS, 'Object', { getOwnPropertyDescriptor: $getDesc, defineProperty: $setDesc }); if (fails(function () { arrayToString.call({}); })) { arrayToString = arrayToLocaleString = function toString() { return arrayJoin.call(this); }; } var $TypedArrayPrototype$ = redefineAll({}, proto); redefineAll($TypedArrayPrototype$, $iterators); hide($TypedArrayPrototype$, ITERATOR, $iterators.values); redefineAll($TypedArrayPrototype$, { slice: $slice, set: $set, constructor: function () { /* noop */ }, toString: arrayToString, toLocaleString: $toLocaleString }); addGetter($TypedArrayPrototype$, 'buffer', 'b'); addGetter($TypedArrayPrototype$, 'byteOffset', 'o'); addGetter($TypedArrayPrototype$, 'byteLength', 'l'); addGetter($TypedArrayPrototype$, 'length', 'e'); dP($TypedArrayPrototype$, TAG, { get: function () { return this[TYPED_ARRAY]; } }); // eslint-disable-next-line max-statements module.exports = function (KEY, BYTES, wrapper, CLAMPED) { CLAMPED = !!CLAMPED; var NAME = KEY + (CLAMPED ? 'Clamped' : '') + 'Array'; var GETTER = 'get' + KEY; var SETTER = 'set' + KEY; var TypedArray = global[NAME]; var Base = TypedArray || {}; var TAC = TypedArray && getPrototypeOf(TypedArray); var FORCED = !TypedArray || !$typed.ABV; var O = {}; var TypedArrayPrototype = TypedArray && TypedArray[PROTOTYPE]; var getter = function (that, index) { var data = that._d; return data.v[GETTER](index * BYTES + data.o, LITTLE_ENDIAN); }; var setter = function (that, index, value) { var data = that._d; if (CLAMPED) value = (value = Math.round(value)) < 0 ? 0 : value > 0xff ? 0xff : value & 0xff; data.v[SETTER](index * BYTES + data.o, value, LITTLE_ENDIAN); }; var addElement = function (that, index) { dP(that, index, { get: function () { return getter(this, index); }, set: function (value) { return setter(this, index, value); }, enumerable: true }); }; if (FORCED) { TypedArray = wrapper(function (that, data, $offset, $length) { anInstance(that, TypedArray, NAME, '_d'); var index = 0; var offset = 0; var buffer, byteLength, length, klass; if (!isObject(data)) { length = toIndex(data); byteLength = length * BYTES; buffer = new $ArrayBuffer(byteLength); } else if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) { buffer = data; offset = toOffset($offset, BYTES); var $len = data.byteLength; if ($length === undefined) { if ($len % BYTES) throw RangeError(WRONG_LENGTH); byteLength = $len - offset; if (byteLength < 0) throw RangeError(WRONG_LENGTH); } else { byteLength = toLength($length) * BYTES; if (byteLength + offset > $len) throw RangeError(WRONG_LENGTH); } length = byteLength / BYTES; } else if (TYPED_ARRAY in data) { return fromList(TypedArray, data); } else { return $from.call(TypedArray, data); } hide(that, '_d', { b: buffer, o: offset, l: byteLength, e: length, v: new $DataView(buffer) }); while (index < length) addElement(that, index++); }); TypedArrayPrototype = TypedArray[PROTOTYPE] = create($TypedArrayPrototype$); hide(TypedArrayPrototype, 'constructor', TypedArray); } else if (!fails(function () { TypedArray(1); }) || !fails(function () { new TypedArray(-1); // eslint-disable-line no-new }) || !$iterDetect(function (iter) { new TypedArray(); // eslint-disable-line no-new new TypedArray(null); // eslint-disable-line no-new new TypedArray(1.5); // eslint-disable-line no-new new TypedArray(iter); // eslint-disable-line no-new }, true)) { TypedArray = wrapper(function (that, data, $offset, $length) { anInstance(that, TypedArray, NAME); var klass; // `ws` module bug, temporarily remove validation length for Uint8Array // https://github.com/websockets/ws/pull/645 if (!isObject(data)) return new Base(toIndex(data)); if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) { return $length !== undefined ? new Base(data, toOffset($offset, BYTES), $length) : $offset !== undefined ? new Base(data, toOffset($offset, BYTES)) : new Base(data); } if (TYPED_ARRAY in data) return fromList(TypedArray, data); return $from.call(TypedArray, data); }); arrayForEach(TAC !== Function.prototype ? gOPN(Base).concat(gOPN(TAC)) : gOPN(Base), function (key) { if (!(key in TypedArray)) hide(TypedArray, key, Base[key]); }); TypedArray[PROTOTYPE] = TypedArrayPrototype; if (!LIBRARY) TypedArrayPrototype.constructor = TypedArray; } var $nativeIterator = TypedArrayPrototype[ITERATOR]; var CORRECT_ITER_NAME = !!$nativeIterator && ($nativeIterator.name == 'values' || $nativeIterator.name == undefined); var $iterator = $iterators.values; hide(TypedArray, TYPED_CONSTRUCTOR, true); hide(TypedArrayPrototype, TYPED_ARRAY, NAME); hide(TypedArrayPrototype, VIEW, true); hide(TypedArrayPrototype, DEF_CONSTRUCTOR, TypedArray); if (CLAMPED ? new TypedArray(1)[TAG] != NAME : !(TAG in TypedArrayPrototype)) { dP(TypedArrayPrototype, TAG, { get: function () { return NAME; } }); } O[NAME] = TypedArray; $export($export.G + $export.W + $export.F * (TypedArray != Base), O); $export($export.S, NAME, { BYTES_PER_ELEMENT: BYTES }); $export($export.S + $export.F * fails(function () { Base.of.call(TypedArray, 1); }), NAME, { from: $from, of: $of }); if (!(BYTES_PER_ELEMENT in TypedArrayPrototype)) hide(TypedArrayPrototype, BYTES_PER_ELEMENT, BYTES); $export($export.P, NAME, proto); setSpecies(NAME); $export($export.P + $export.F * FORCED_SET, NAME, { set: $set }); $export($export.P + $export.F * !CORRECT_ITER_NAME, NAME, $iterators); if (!LIBRARY && TypedArrayPrototype.toString != arrayToString) TypedArrayPrototype.toString = arrayToString; $export($export.P + $export.F * fails(function () { new TypedArray(1).slice(); }), NAME, { slice: $slice }); $export($export.P + $export.F * (fails(function () { return [1, 2].toLocaleString() != new TypedArray([1, 2]).toLocaleString(); }) || !fails(function () { TypedArrayPrototype.toLocaleString.call([1, 2]); })), NAME, { toLocaleString: $toLocaleString }); Iterators[NAME] = CORRECT_ITER_NAME ? $nativeIterator : $iterator; if (!LIBRARY && !CORRECT_ITER_NAME) hide(TypedArrayPrototype, ITERATOR, $iterator); }; } else module.exports = function () { /* empty */ }; /***/ }), /* 243 */ /***/ (function(module, exports, __webpack_require__) { __webpack_require__(242)('Uint8', 1, function (init) { return function Uint8Array(data, byteOffset, length) { return init(this, data, byteOffset, length); }; }); /***/ }), /* 244 */ /***/ (function(module, exports, __webpack_require__) { __webpack_require__(242)('Uint8', 1, function (init) { return function Uint8ClampedArray(data, byteOffset, length) { return init(this, data, byteOffset, length); }; }, true); /***/ }), /* 245 */ /***/ (function(module, exports, __webpack_require__) { __webpack_require__(242)('Int16', 2, function (init) { return function Int16Array(data, byteOffset, length) { return init(this, data, byteOffset, length); }; }); /***/ }), /* 246 */ /***/ (function(module, exports, __webpack_require__) { __webpack_require__(242)('Uint16', 2, function (init) { return function Uint16Array(data, byteOffset, length) { return init(this, data, byteOffset, length); }; }); /***/ }), /* 247 */ /***/ (function(module, exports, __webpack_require__) { __webpack_require__(242)('Int32', 4, function (init) { return function Int32Array(data, byteOffset, length) { return init(this, data, byteOffset, length); }; }); /***/ }), /* 248 */ /***/ (function(module, exports, __webpack_require__) { __webpack_require__(242)('Uint32', 4, function (init) { return function Uint32Array(data, byteOffset, length) { return init(this, data, byteOffset, length); }; }); /***/ }), /* 249 */ /***/ (function(module, exports, __webpack_require__) { __webpack_require__(242)('Float32', 4, function (init) { return function Float32Array(data, byteOffset, length) { return init(this, data, byteOffset, length); }; }); /***/ }), /* 250 */ /***/ (function(module, exports, __webpack_require__) { __webpack_require__(242)('Float64', 8, function (init) { return function Float64Array(data, byteOffset, length) { return init(this, data, byteOffset, length); }; }); /***/ }), /* 251 */ /***/ (function(module, exports, __webpack_require__) { // 26.1.1 Reflect.apply(target, thisArgument, argumentsList) var $export = __webpack_require__(15); var aFunction = __webpack_require__(31); var anObject = __webpack_require__(19); var rApply = (__webpack_require__(11).Reflect || {}).apply; var fApply = Function.apply; // MS Edge argumentsList argument is optional $export($export.S + $export.F * !__webpack_require__(14)(function () { rApply(function () { /* empty */ }); }), 'Reflect', { apply: function apply(target, thisArgument, argumentsList) { var T = aFunction(target); var L = anObject(argumentsList); return rApply ? rApply(T, thisArgument, L) : fApply.call(T, thisArgument, L); } }); /***/ }), /* 252 */ /***/ (function(module, exports, __webpack_require__) { // 26.1.2 Reflect.construct(target, argumentsList [, newTarget]) var $export = __webpack_require__(15); var create = __webpack_require__(53); var aFunction = __webpack_require__(31); var anObject = __webpack_require__(19); var isObject = __webpack_require__(20); var fails = __webpack_require__(14); var bind = __webpack_require__(84); var rConstruct = (__webpack_require__(11).Reflect || {}).construct; // MS Edge supports only 2 arguments and argumentsList argument is optional // FF Nightly sets third argument as `new.target`, but does not create `this` from it var NEW_TARGET_BUG = fails(function () { function F() { /* empty */ } return !(rConstruct(function () { /* empty */ }, [], F) instanceof F); }); var ARGS_BUG = !fails(function () { rConstruct(function () { /* empty */ }); }); $export($export.S + $export.F * (NEW_TARGET_BUG || ARGS_BUG), 'Reflect', { construct: function construct(Target, args /* , newTarget */) { aFunction(Target); anObject(args); var newTarget = arguments.length < 3 ? Target : aFunction(arguments[2]); if (ARGS_BUG && !NEW_TARGET_BUG) return rConstruct(Target, args, newTarget); if (Target == newTarget) { // w/o altered newTarget, optimization for 0-4 arguments switch (args.length) { case 0: return new Target(); case 1: return new Target(args[0]); case 2: return new Target(args[0], args[1]); case 3: return new Target(args[0], args[1], args[2]); case 4: return new Target(args[0], args[1], args[2], args[3]); } // w/o altered newTarget, lot of arguments case var $args = [null]; $args.push.apply($args, args); return new (bind.apply(Target, $args))(); } // with altered newTarget, not support built-in constructors var proto = newTarget.prototype; var instance = create(isObject(proto) ? proto : Object.prototype); var result = Function.apply.call(Target, instance, args); return isObject(result) ? result : instance; } }); /***/ }), /* 253 */ /***/ (function(module, exports, __webpack_require__) { // 26.1.3 Reflect.defineProperty(target, propertyKey, attributes) var dP = __webpack_require__(18); var $export = __webpack_require__(15); var anObject = __webpack_require__(19); var toPrimitive = __webpack_require__(23); // MS Edge has broken Reflect.defineProperty - throwing instead of returning false $export($export.S + $export.F * __webpack_require__(14)(function () { // eslint-disable-next-line no-undef Reflect.defineProperty(dP.f({}, 1, { value: 1 }), 1, { value: 2 }); }), 'Reflect', { defineProperty: function defineProperty(target, propertyKey, attributes) { anObject(target); propertyKey = toPrimitive(propertyKey, true); anObject(attributes); try { dP.f(target, propertyKey, attributes); return true; } catch (e) { return false; } } }); /***/ }), /* 254 */ /***/ (function(module, exports, __webpack_require__) { // 26.1.4 Reflect.deleteProperty(target, propertyKey) var $export = __webpack_require__(15); var gOPD = __webpack_require__(58).f; var anObject = __webpack_require__(19); $export($export.S, 'Reflect', { deleteProperty: function deleteProperty(target, propertyKey) { var desc = gOPD(anObject(target), propertyKey); return desc && !desc.configurable ? false : delete target[propertyKey]; } }); /***/ }), /* 255 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; // 26.1.5 Reflect.enumerate(target) var $export = __webpack_require__(15); var anObject = __webpack_require__(19); var Enumerate = function (iterated) { this._t = anObject(iterated); // target this._i = 0; // next index var keys = this._k = []; // keys var key; for (key in iterated) keys.push(key); }; __webpack_require__(138)(Enumerate, 'Object', function () { var that = this; var keys = that._k; var key; do { if (that._i >= keys.length) return { value: undefined, done: true }; } while (!((key = keys[that._i++]) in that._t)); return { value: key, done: false }; }); $export($export.S, 'Reflect', { enumerate: function enumerate(target) { return new Enumerate(target); } }); /***/ }), /* 256 */ /***/ (function(module, exports, __webpack_require__) { // 26.1.6 Reflect.get(target, propertyKey [, receiver]) var gOPD = __webpack_require__(58); var getPrototypeOf = __webpack_require__(66); var has = __webpack_require__(12); var $export = __webpack_require__(15); var isObject = __webpack_require__(20); var anObject = __webpack_require__(19); function get(target, propertyKey /* , receiver */) { var receiver = arguments.length < 3 ? target : arguments[2]; var desc, proto; if (anObject(target) === receiver) return target[propertyKey]; if (desc = gOPD.f(target, propertyKey)) return has(desc, 'value') ? desc.value : desc.get !== undefined ? desc.get.call(receiver) : undefined; if (isObject(proto = getPrototypeOf(target))) return get(proto, propertyKey, receiver); } $export($export.S, 'Reflect', { get: get }); /***/ }), /* 257 */ /***/ (function(module, exports, __webpack_require__) { // 26.1.7 Reflect.getOwnPropertyDescriptor(target, propertyKey) var gOPD = __webpack_require__(58); var $export = __webpack_require__(15); var anObject = __webpack_require__(19); $export($export.S, 'Reflect', { getOwnPropertyDescriptor: function getOwnPropertyDescriptor(target, propertyKey) { return gOPD.f(anObject(target), propertyKey); } }); /***/ }), /* 258 */ /***/ (function(module, exports, __webpack_require__) { // 26.1.8 Reflect.getPrototypeOf(target) var $export = __webpack_require__(15); var getProto = __webpack_require__(66); var anObject = __webpack_require__(19); $export($export.S, 'Reflect', { getPrototypeOf: function getPrototypeOf(target) { return getProto(anObject(target)); } }); /***/ }), /* 259 */ /***/ (function(module, exports, __webpack_require__) { // 26.1.9 Reflect.has(target, propertyKey) var $export = __webpack_require__(15); $export($export.S, 'Reflect', { has: function has(target, propertyKey) { return propertyKey in target; } }); /***/ }), /* 260 */ /***/ (function(module, exports, __webpack_require__) { // 26.1.10 Reflect.isExtensible(target) var $export = __webpack_require__(15); var anObject = __webpack_require__(19); var $isExtensible = Object.isExtensible; $export($export.S, 'Reflect', { isExtensible: function isExtensible(target) { anObject(target); return $isExtensible ? $isExtensible(target) : true; } }); /***/ }), /* 261 */ /***/ (function(module, exports, __webpack_require__) { // 26.1.11 Reflect.ownKeys(target) var $export = __webpack_require__(15); $export($export.S, 'Reflect', { ownKeys: __webpack_require__(262) }); /***/ }), /* 262 */ /***/ (function(module, exports, __webpack_require__) { // all object keys, includes non-enumerable and symbols var gOPN = __webpack_require__(57); var gOPS = __webpack_require__(50); var anObject = __webpack_require__(19); var Reflect = __webpack_require__(11).Reflect; module.exports = Reflect && Reflect.ownKeys || function ownKeys(it) { var keys = gOPN.f(anObject(it)); var getSymbols = gOPS.f; return getSymbols ? keys.concat(getSymbols(it)) : keys; }; /***/ }), /* 263 */ /***/ (function(module, exports, __webpack_require__) { // 26.1.12 Reflect.preventExtensions(target) var $export = __webpack_require__(15); var anObject = __webpack_require__(19); var $preventExtensions = Object.preventExtensions; $export($export.S, 'Reflect', { preventExtensions: function preventExtensions(target) { anObject(target); try { if ($preventExtensions) $preventExtensions(target); return true; } catch (e) { return false; } } }); /***/ }), /* 264 */ /***/ (function(module, exports, __webpack_require__) { // 26.1.13 Reflect.set(target, propertyKey, V [, receiver]) var dP = __webpack_require__(18); var gOPD = __webpack_require__(58); var getPrototypeOf = __webpack_require__(66); var has = __webpack_require__(12); var $export = __webpack_require__(15); var createDesc = __webpack_require__(24); var anObject = __webpack_require__(19); var isObject = __webpack_require__(20); function set(target, propertyKey, V /* , receiver */) { var receiver = arguments.length < 4 ? target : arguments[3]; var ownDesc = gOPD.f(anObject(target), propertyKey); var existingDescriptor, proto; if (!ownDesc) { if (isObject(proto = getPrototypeOf(target))) { return set(proto, propertyKey, V, receiver); } ownDesc = createDesc(0); } if (has(ownDesc, 'value')) { if (ownDesc.writable === false || !isObject(receiver)) return false; if (existingDescriptor = gOPD.f(receiver, propertyKey)) { if (existingDescriptor.get || existingDescriptor.set || existingDescriptor.writable === false) return false; existingDescriptor.value = V; dP.f(receiver, propertyKey, existingDescriptor); } else dP.f(receiver, propertyKey, createDesc(0, V)); return true; } return ownDesc.set === undefined ? false : (ownDesc.set.call(receiver, V), true); } $export($export.S, 'Reflect', { set: set }); /***/ }), /* 265 */ /***/ (function(module, exports, __webpack_require__) { // 26.1.14 Reflect.setPrototypeOf(target, proto) var $export = __webpack_require__(15); var setProto = __webpack_require__(80); if (setProto) $export($export.S, 'Reflect', { setPrototypeOf: function setPrototypeOf(target, proto) { setProto.check(target, proto); try { setProto.set(target, proto); return true; } catch (e) { return false; } } }); /***/ }), /* 266 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; // https://github.com/tc39/Array.prototype.includes var $export = __webpack_require__(15); var $includes = __webpack_require__(44)(true); $export($export.P, 'Array', { includes: function includes(el /* , fromIndex = 0 */) { return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined); } }); __webpack_require__(195)('includes'); /***/ }), /* 267 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; // https://tc39.github.io/proposal-flatMap/#sec-Array.prototype.flatMap var $export = __webpack_require__(15); var flattenIntoArray = __webpack_require__(268); var toObject = __webpack_require__(65); var toLength = __webpack_require__(45); var aFunction = __webpack_require__(31); var arraySpeciesCreate = __webpack_require__(182); $export($export.P, 'Array', { flatMap: function flatMap(callbackfn /* , thisArg */) { var O = toObject(this); var sourceLen, A; aFunction(callbackfn); sourceLen = toLength(O.length); A = arraySpeciesCreate(O, 0); flattenIntoArray(A, O, O, sourceLen, 0, 1, callbackfn, arguments[1]); return A; } }); __webpack_require__(195)('flatMap'); /***/ }), /* 268 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; // https://tc39.github.io/proposal-flatMap/#sec-FlattenIntoArray var isArray = __webpack_require__(52); var isObject = __webpack_require__(20); var toLength = __webpack_require__(45); var ctx = __webpack_require__(30); var IS_CONCAT_SPREADABLE = __webpack_require__(34)('isConcatSpreadable'); function flattenIntoArray(target, original, source, sourceLen, start, depth, mapper, thisArg) { var targetIndex = start; var sourceIndex = 0; var mapFn = mapper ? ctx(mapper, thisArg, 3) : false; var element, spreadable; while (sourceIndex < sourceLen) { if (sourceIndex in source) { element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex]; spreadable = false; if (isObject(element)) { spreadable = element[IS_CONCAT_SPREADABLE]; spreadable = spreadable !== undefined ? !!spreadable : isArray(element); } if (spreadable && depth > 0) { targetIndex = flattenIntoArray(target, original, element, toLength(element.length), targetIndex, depth - 1) - 1; } else { if (targetIndex >= 0x1fffffffffffff) throw TypeError(); target[targetIndex] = element; } targetIndex++; } sourceIndex++; } return targetIndex; } module.exports = flattenIntoArray; /***/ }), /* 269 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; // https://tc39.github.io/proposal-flatMap/#sec-Array.prototype.flatten var $export = __webpack_require__(15); var flattenIntoArray = __webpack_require__(268); var toObject = __webpack_require__(65); var toLength = __webpack_require__(45); var toInteger = __webpack_require__(46); var arraySpeciesCreate = __webpack_require__(182); $export($export.P, 'Array', { flatten: function flatten(/* depthArg = 1 */) { var depthArg = arguments[0]; var O = toObject(this); var sourceLen = toLength(O.length); var A = arraySpeciesCreate(O, 0); flattenIntoArray(A, O, O, sourceLen, 0, depthArg === undefined ? 1 : toInteger(depthArg)); return A; } }); __webpack_require__(195)('flatten'); /***/ }), /* 270 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; // https://github.com/mathiasbynens/String.prototype.at var $export = __webpack_require__(15); var $at = __webpack_require__(135)(true); $export($export.P, 'String', { at: function at(pos) { return $at(this, pos); } }); /***/ }), /* 271 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; // https://github.com/tc39/proposal-string-pad-start-end var $export = __webpack_require__(15); var $pad = __webpack_require__(272); var userAgent = __webpack_require__(225); // https://github.com/zloirock/core-js/issues/280 var WEBKIT_BUG = /Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(userAgent); $export($export.P + $export.F * WEBKIT_BUG, 'String', { padStart: function padStart(maxLength /* , fillString = ' ' */) { return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, true); } }); /***/ }), /* 272 */ /***/ (function(module, exports, __webpack_require__) { // https://github.com/tc39/proposal-string-pad-start-end var toLength = __webpack_require__(45); var repeat = __webpack_require__(98); var defined = __webpack_require__(43); module.exports = function (that, maxLength, fillString, left) { var S = String(defined(that)); var stringLength = S.length; var fillStr = fillString === undefined ? ' ' : String(fillString); var intMaxLength = toLength(maxLength); if (intMaxLength 0; var $y0 = y0 >>> 0; return $x1 + (y1 >>> 0) + (($x0 & $y0 | ($x0 | $y0) & ~($x0 + $y0 >>> 0)) >>> 31) | 0; } }); /***/ }), /* 311 */ /***/ (function(module, exports, __webpack_require__) { // https://gist.github.com/BrendanEich/4294d5c212a6d2254703 var $export = __webpack_require__(15); $export($export.S, 'Math', { isubh: function isubh(x0, x1, y0, y1) { var $x0 = x0 >>> 0; var $x1 = x1 >>> 0; var $y0 = y0 >>> 0; return $x1 - (y1 >>> 0) - ((~$x0 & $y0 | ~($x0 ^ $y0) & $x0 - $y0 >>> 0) >>> 31) | 0; } }); /***/ }), /* 312 */ /***/ (function(module, exports, __webpack_require__) { // https://gist.github.com/BrendanEich/4294d5c212a6d2254703 var $export = __webpack_require__(15); $export($export.S, 'Math', { imulh: function imulh(u, v) { var UINT16 = 0xffff; var $u = +u; var $v = +v; var u0 = $u & UINT16; var v0 = $v & UINT16; var u1 = $u >> 16; var v1 = $v >> 16; var t = (u1 * v0 >>> 0) + (u0 * v0 >>> 16); return u1 * v1 + (t >> 16) + ((u0 * v1 >>> 0) + (t & UINT16) >> 16); } }); /***/ }), /* 313 */ /***/ (function(module, exports, __webpack_require__) { // https://rwaldron.github.io/proposal-math-extensions/ var $export = __webpack_require__(15); $export($export.S, 'Math', { RAD_PER_DEG: 180 / Math.PI }); /***/ }), /* 314 */ /***/ (function(module, exports, __webpack_require__) { // https://rwaldron.github.io/proposal-math-extensions/ var $export = __webpack_require__(15); var DEG_PER_RAD = Math.PI / 180; $export($export.S, 'Math', { radians: function radians(degrees) { return degrees * DEG_PER_RAD; } }); /***/ }), /* 315 */ /***/ (function(module, exports, __webpack_require__) { // https://rwaldron.github.io/proposal-math-extensions/ var $export = __webpack_require__(15); $export($export.S, 'Math', { scale: __webpack_require__(309) }); /***/ }), /* 316 */ /***/ (function(module, exports, __webpack_require__) { // https://gist.github.com/BrendanEich/4294d5c212a6d2254703 var $export = __webpack_require__(15); $export($export.S, 'Math', { umulh: function umulh(u, v) { var UINT16 = 0xffff; var $u = +u; var $v = +v; var u0 = $u & UINT16; var v0 = $v & UINT16; var u1 = $u >>> 16; var v1 = $v >>> 16; var t = (u1 * v0 >>> 0) + (u0 * v0 >>> 16); return u1 * v1 + (t >>> 16) + ((u0 * v1 >>> 0) + (t & UINT16) >>> 16); } }); /***/ }), /* 317 */ /***/ (function(module, exports, __webpack_require__) { // http://jfbastien.github.io/papers/Math.signbit.html var $export = __webpack_require__(15); $export($export.S, 'Math', { signbit: function signbit(x) { // eslint-disable-next-line no-self-compare return (x = +x) != x ? x : x == 0 ? 1 / x == Infinity : x > 0; } }); /***/ }), /* 318 */ /***/ (function(module, exports, __webpack_require__) { // https://github.com/tc39/proposal-promise-finally 'use strict'; var $export = __webpack_require__(15); var core = __webpack_require__(16); var global = __webpack_require__(11); var speciesConstructor = __webpack_require__(217); var promiseResolve = __webpack_require__(226); $export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) { var C = speciesConstructor(this, core.Promise || global.Promise); var isFunction = typeof onFinally == 'function'; return this.then( isFunction ? function (x) { return promiseResolve(C, onFinally()).then(function () { return x; }); } : onFinally, isFunction ? function (e) { return promiseResolve(C, onFinally()).then(function () { throw e; }); } : onFinally ); } }); /***/ }), /* 319 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; // https://github.com/tc39/proposal-promise-try var $export = __webpack_require__(15); var newPromiseCapability = __webpack_require__(223); var perform = __webpack_require__(224); $export($export.S, 'Promise', { 'try': function (callbackfn) { var promiseCapability = newPromiseCapability.f(this); var result = perform(callbackfn); (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v); return promiseCapability.promise; } }); /***/ }), /* 320 */ /***/ (function(module, exports, __webpack_require__) { var metadata = __webpack_require__(321); var anObject = __webpack_require__(19); var toMetaKey = metadata.key; var ordinaryDefineOwnMetadata = metadata.set; metadata.exp({ defineMetadata: function defineMetadata(metadataKey, metadataValue, target, targetKey) { ordinaryDefineOwnMetadata(metadataKey, metadataValue, anObject(target), toMetaKey(targetKey)); } }); /***/ }), /* 321 */ /***/ (function(module, exports, __webpack_require__) { var Map = __webpack_require__(228); var $export = __webpack_require__(15); var shared = __webpack_require__(28)('metadata'); var store = shared.store || (shared.store = new (__webpack_require__(233))()); var getOrCreateMetadataMap = function (target, targetKey, create) { var targetMetadata = store.get(target); if (!targetMetadata) { if (!create) return undefined; store.set(target, targetMetadata = new Map()); } var keyMetadata = targetMetadata.get(targetKey); if (!keyMetadata) { if (!create) return undefined; targetMetadata.set(targetKey, keyMetadata = new Map()); } return keyMetadata; }; var ordinaryHasOwnMetadata = function (MetadataKey, O, P) { var metadataMap = getOrCreateMetadataMap(O, P, false); return metadataMap === undefined ? false : metadataMap.has(MetadataKey); }; var ordinaryGetOwnMetadata = function (MetadataKey, O, P) { var metadataMap = getOrCreateMetadataMap(O, P, false); return metadataMap === undefined ? undefined : metadataMap.get(MetadataKey); }; var ordinaryDefineOwnMetadata = function (MetadataKey, MetadataValue, O, P) { getOrCreateMetadataMap(O, P, true).set(MetadataKey, MetadataValue); }; var ordinaryOwnMetadataKeys = function (target, targetKey) { var metadataMap = getOrCreateMetadataMap(target, targetKey, false); var keys = []; if (metadataMap) metadataMap.forEach(function (_, key) { keys.push(key); }); return keys; }; var toMetaKey = function (it) { return it === undefined || typeof it == 'symbol' ? it : String(it); }; var exp = function (O) { $export($export.S, 'Reflect', O); }; module.exports = { store: store, map: getOrCreateMetadataMap, has: ordinaryHasOwnMetadata, get: ordinaryGetOwnMetadata, set: ordinaryDefineOwnMetadata, keys: ordinaryOwnMetadataKeys, key: toMetaKey, exp: exp }; /***/ }), /* 322 */ /***/ (function(module, exports, __webpack_require__) { var metadata = __webpack_require__(321); var anObject = __webpack_require__(19); var toMetaKey = metadata.key; var getOrCreateMetadataMap = metadata.map; var store = metadata.store; metadata.exp({ deleteMetadata: function deleteMetadata(metadataKey, target /* , targetKey */) { var targetKey = arguments.length < 3 ? undefined : toMetaKey(arguments[2]); var metadataMap = getOrCreateMetadataMap(anObject(target), targetKey, false); if (metadataMap === undefined || !metadataMap['delete'](metadataKey)) return false; if (metadataMap.size) return true; var targetMetadata = store.get(target); targetMetadata['delete'](targetKey); return !!targetMetadata.size || store['delete'](target); } }); /***/ }), /* 323 */ /***/ (function(module, exports, __webpack_require__) { var metadata = __webpack_require__(321); var anObject = __webpack_require__(19); var getPrototypeOf = __webpack_require__(66); var ordinaryHasOwnMetadata = metadata.has; var ordinaryGetOwnMetadata = metadata.get; var toMetaKey = metadata.key; var ordinaryGetMetadata = function (MetadataKey, O, P) { var hasOwn = ordinaryHasOwnMetadata(MetadataKey, O, P); if (hasOwn) return ordinaryGetOwnMetadata(MetadataKey, O, P); var parent = getPrototypeOf(O); return parent !== null ? ordinaryGetMetadata(MetadataKey, parent, P) : undefined; }; metadata.exp({ getMetadata: function getMetadata(metadataKey, target /* , targetKey */) { return ordinaryGetMetadata(metadataKey, anObject(target), arguments.length < 3 ? undefined : toMetaKey(arguments[2])); } }); /***/ }), /* 324 */ /***/ (function(module, exports, __webpack_require__) { var Set = __webpack_require__(232); var from = __webpack_require__(290); var metadata = __webpack_require__(321); var anObject = __webpack_require__(19); var getPrototypeOf = __webpack_require__(66); var ordinaryOwnMetadataKeys = metadata.keys; var toMetaKey = metadata.key; var ordinaryMetadataKeys = function (O, P) { var oKeys = ordinaryOwnMetadataKeys(O, P); var parent = getPrototypeOf(O); if (parent === null) return oKeys; var pKeys = ordinaryMetadataKeys(parent, P); return pKeys.length ? oKeys.length ? from(new Set(oKeys.concat(pKeys))) : pKeys : oKeys; }; metadata.exp({ getMetadataKeys: function getMetadataKeys(target /* , targetKey */) { return ordinaryMetadataKeys(anObject(target), arguments.length < 2 ? undefined : toMetaKey(arguments[1])); } }); /***/ }), /* 325 */ /***/ (function(module, exports, __webpack_require__) { var metadata = __webpack_require__(321); var anObject = __webpack_require__(19); var ordinaryGetOwnMetadata = metadata.get; var toMetaKey = metadata.key; metadata.exp({ getOwnMetadata: function getOwnMetadata(metadataKey, target /* , targetKey */) { return ordinaryGetOwnMetadata(metadataKey, anObject(target) , arguments.length < 3 ? undefined : toMetaKey(arguments[2])); } }); /***/ }), /* 326 */ /***/ (function(module, exports, __webpack_require__) { var metadata = __webpack_require__(321); var anObject = __webpack_require__(19); var ordinaryOwnMetadataKeys = metadata.keys; var toMetaKey = metadata.key; metadata.exp({ getOwnMetadataKeys: function getOwnMetadataKeys(target /* , targetKey */) { return ordinaryOwnMetadataKeys(anObject(target), arguments.length < 2 ? undefined : toMetaKey(arguments[1])); } }); /***/ }), /* 327 */ /***/ (function(module, exports, __webpack_require__) { var metadata = __webpack_require__(321); var anObject = __webpack_require__(19); var getPrototypeOf = __webpack_require__(66); var ordinaryHasOwnMetadata = metadata.has; var toMetaKey = metadata.key; var ordinaryHasMetadata = function (MetadataKey, O, P) { var hasOwn = ordinaryHasOwnMetadata(MetadataKey, O, P); if (hasOwn) return true; var parent = getPrototypeOf(O); return parent !== null ? ordinaryHasMetadata(MetadataKey, parent, P) : false; }; metadata.exp({ hasMetadata: function hasMetadata(metadataKey, target /* , targetKey */) { return ordinaryHasMetadata(metadataKey, anObject(target), arguments.length < 3 ? undefined : toMetaKey(arguments[2])); } }); /***/ }), /* 328 */ /***/ (function(module, exports, __webpack_require__) { var metadata = __webpack_require__(321); var anObject = __webpack_require__(19); var ordinaryHasOwnMetadata = metadata.has; var toMetaKey = metadata.key; metadata.exp({ hasOwnMetadata: function hasOwnMetadata(metadataKey, target /* , targetKey */) { return ordinaryHasOwnMetadata(metadataKey, anObject(target) , arguments.length < 3 ? undefined : toMetaKey(arguments[2])); } }); /***/ }), /* 329 */ /***/ (function(module, exports, __webpack_require__) { var $metadata = __webpack_require__(321); var anObject = __webpack_require__(19); var aFunction = __webpack_require__(31); var toMetaKey = $metadata.key; var ordinaryDefineOwnMetadata = $metadata.set; $metadata.exp({ metadata: function metadata(metadataKey, metadataValue) { return function decorator(target, targetKey) { ordinaryDefineOwnMetadata( metadataKey, metadataValue, (targetKey !== undefined ? anObject : aFunction)(target), toMetaKey(targetKey) ); }; } }); /***/ }), /* 330 */ /***/ (function(module, exports, __webpack_require__) { // https://github.com/rwaldron/tc39-notes/blob/master/es6/2014-09/sept-25.md#510-globalasap-for-enqueuing-a-microtask var $export = __webpack_require__(15); var microtask = __webpack_require__(222)(); var process = __webpack_require__(11).process; var isNode = __webpack_require__(42)(process) == 'process'; $export($export.G, { asap: function asap(fn) { var domain = isNode && process.domain; microtask(domain ? domain.bind(fn) : fn); } }); /***/ }), /* 331 */ /***/ (function(module, exports, __webpack_require__) { 'use strict'; // https://github.com/zenparsing/es-observable var $export = __webpack_require__(15); var global = __webpack_require__(11); var core = __webpack_require__(16); var microtask = __webpack_require__(222)(); var OBSERVABLE = __webpack_require__(34)('observable'); var aFunction = __webpack_require__(31); var anObject = __webpack_require__(19); var anInstance = __webpack_require__(219); var redefineAll = __webpack_require__(227); var hide = __webpack_require__(17); var forOf = __webpack_require__(220); var RETURN = forOf.RETURN; var getMethod = function (fn) { return fn == null ? undefined : aFunction(fn); }; var cleanupSubscription = function (subscription) { var cleanup = subscription._c; if (cleanup) { subscription._c = undefined; cleanup(); } }; var subscriptionClosed = function (subscription) { return subscription._o === undefined; }; var closeSubscription = function (subscription) { if (!subscriptionClosed(subscription)) { subscription._o = undefined; cleanupSubscription(subscription); } }; var Subscription = function (observer, subscriber) { anObject(observer); this._c = undefined; this._o = observer; observer = new SubscriptionObserver(this); try { var cleanup = subscriber(observer); var subscription = cleanup; if (cleanup != null) { if (typeof cleanup.unsubscribe === 'function') cleanup = function () { subscription.unsubscribe(); }; else aFunction(cleanup); this._c = cleanup; } } catch (e) { observer.error(e); return; } if (subscriptionClosed(this)) cleanupSubscription(this); }; Subscription.prototype = redefineAll({}, { unsubscribe: function unsubscribe() { closeSubscription(this); } }); var SubscriptionObserver = function (subscription) { this._s = subscription; }; SubscriptionObserver.prototype = redefineAll({}, { next: function next(value) { var subscription = this._s; if (!subscriptionClosed(subscription)) { var observer = subscription._o; try { var m = getMethod(observer.next); if (m) return m.call(observer, value); } catch (e) { try { closeSubscription(subscription); } finally { throw e; } } } }, error: function error(value) { var subscription = this._s; if (subscriptionClosed(subscription)) throw value; var observer = subscription._o; subscription._o = undefined; try { var m = getMethod(observer.error); if (!m) throw value; value = m.call(observer, value); } catch (e) { try { cleanupSubscription(subscription); } finally { throw e; } } cleanupSubscription(subscription); return value; }, complete: function complete(value) { var subscription = this._s; if (!subscriptionClosed(subscription)) { var observer = subscription._o; subscription._o = undefined; try { var m = getMethod(observer.complete); value = m ? m.call(observer, value) : undefined; } catch (e) { try { cleanupSubscription(subscription); } finally { throw e; } } cleanupSubscription(subscription); return value; } } }); var $Observable = function Observable(subscriber) { anInstance(this, $Observable, 'Observable', '_f')._f = aFunction(subscriber); }; redefineAll($Observable.prototype, { subscribe: function subscribe(observer) { return new Subscription(observer, this._f); }, forEach: function forEach(fn) { var that = this; return new (core.Promise || global.Promise)(function (resolve, reject) { aFunction(fn); var subscription = that.subscribe({ next: function (value) { try { return fn(value); } catch (e) { reject(e); subscription.unsubscribe(); } }, error: reject, complete: resolve }); }); } }); redefineAll($Observable, { from: function from(x) { var C = typeof this === 'function' ? this : $Observable; var method = getMethod(anObject(x)[OBSERVABLE]); if (method) { var observable = anObject(method.call(x)); return observable.constructor === C ? observable : new C(function (observer) { return observable.subscribe(observer); }); } return new C(function (observer) { var done = false; microtask(function () { if (!done) { try { if (forOf(x, false, function (it) { observer.next(it); if (done) return RETURN; }) === RETURN) return; } catch (e) { if (done) throw e; observer.error(e); return; } observer.complete(); } }); return function () { done = true; }; }); }, of: function of() { for (var i = 0, l = arguments.length, items = new Array(l); i < l;) items[i] = arguments[i++]; return new (typeof this === 'function' ? this : $Observable)(function (observer) { var done = false; microtask(function () { if (!done) { for (var j = 0; j < items.length; ++j) { observer.next(items[j]); if (done) return; } observer.complete(); } }); return function () { done = true; }; }); } }); hide($Observable.prototype, OBSERVABLE, function () { return this; }); $export($export.G, { Observable: $Observable }); __webpack_require__(201)('Observable'); /***/ }), /* 332 */ /***/ (function(module, exports, __webpack_require__) { // ie9- setTimeout & setInterval additional parameters fix var global = __webpack_require__(11); var $export = __webpack_require__(15); var userAgent = __webpack_require__(225); var slice = [].slice; var MSIE = /MSIE .\./.test(userAgent); // 2; var args = boundArgs ? slice.call(arguments, 2) : false; return set(boundArgs ? function () { // eslint-disable-next-line no-new-func (typeof fn == 'function' ? fn : Function(fn)).apply(this, args); } : fn, time); }; }; $export($export.G + $export.B + $export.F * MSIE, { setTimeout: wrap(global.setTimeout), setInterval: wrap(global.setInterval) }); /***/ }), /* 333 */ /***/ (function(module, exports, __webpack_require__) { var $export = __webpack_require__(15); var $task = __webpack_require__(221); $export($export.G + $export.B, { setImmediate: $task.set, clearImmediate: $task.clear }); /***/ }), /* 334 */ /***/ (function(module, exports, __webpack_require__) { var $iterators = __webpack_require__(202); var getKeys = __webpack_require__(38); var redefine = __webpack_require__(25); var global = __webpack_require__(11); var hide = __webpack_require__(17); var Iterators = __webpack_require__(137); var wks = __webpack_require__(34); var ITERATOR = wks('iterator'); var TO_STRING_TAG = wks('toStringTag'); var ArrayValues = Iterators.Array; var DOMIterables = { CSSRuleList: true, // TODO: Not spec compliant, should be false. CSSStyleDeclaration: false, CSSValueList: false, ClientRectList: false, DOMRectList: false, DOMStringList: false, DOMTokenList: true, DataTransferItemList: false, FileList: false, HTMLAllCollection: false, HTMLCollection: false, HTMLFormElement: false, HTMLSelectElement: false, MediaList: true, // TODO: Not spec compliant, should be false. MimeTypeArray: false, NamedNodeMap: false, NodeList: true, PaintRequestList: false, Plugin: false, PluginArray: false, SVGLengthList: false, SVGNumberList: false, SVGPathSegList: false, SVGPointList: false, SVGStringList: false, SVGTransformList: false, SourceBufferList: false, StyleSheetList: true, // TODO: Not spec compliant, should be false. TextTrackCueList: false, TextTrackList: false, TouchList: false }; for (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) { var NAME = collections[i]; var explicit = DOMIterables[NAME]; var Collection = global[NAME]; var proto = Collection && Collection.prototype; var key; if (proto) { if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues); if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME); Iterators[NAME] = ArrayValues; if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true); } } /***/ }), /* 335 */ /***/ (function(module, exports) { /* WEBPACK VAR INJECTION */(function(global) {/** * Copyright (c) 2014, Facebook, Inc. * All rights reserved. * * This source code is licensed under the BSD-style license found in the * https://raw.github.com/facebook/regenerator/master/LICENSE file. An * additional grant of patent rights can be found in the PATENTS file in * the same directory. */ !(function(global) { "use strict"; var Op = Object.prototype; var hasOwn = Op.hasOwnProperty; var undefined; // More compressible than void 0. var $Symbol = typeof Symbol === "function" ? Symbol : {}; var iteratorSymbol = $Symbol.iterator || "@@iterator"; var asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator"; var toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag"; var inModule = typeof module === "object"; var runtime = global.regeneratorRuntime; if (runtime) { if (inModule) { // If regeneratorRuntime is defined globally and we're in a module, // make the exports object identical to regeneratorRuntime. module.exports = runtime; } // Don't bother evaluating the rest of this file if the runtime was // already defined globally. return; } // Define the runtime globally (as expected by generated code) as either // module.exports (if we're in a module) or a new, empty object. runtime = global.regeneratorRuntime = inModule ? module.exports : {}; function wrap(innerFn, outerFn, self, tryLocsList) { // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator. var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator; var generator = Object.create(protoGenerator.prototype); var context = new Context(tryLocsList || []); // The ._invoke method unifies the implementations of the .next, // .throw, and .return methods. generator._invoke = makeInvokeMethod(innerFn, self, context); return generator; } runtime.wrap = wrap; // Try/catch helper to minimize deoptimizations. Returns a completion // record like context.tryEntries[i].completion. This interface could // have been (and was previously) designed to take a closure to be // invoked without arguments, but in all the cases we care about we // already have an existing method we want to call, so there's no need // to create a new function object. We can even get away with assuming // the method takes exactly one argument, since that happens to be true // in every case, so we don't have to touch the arguments object. The // only additional allocation required is the completion record, which // has a stable shape and so hopefully should be cheap to allocate. function tryCatch(fn, obj, arg) { try { return { type: "normal", arg: fn.call(obj, arg) }; } catch (err) { return { type: "throw", arg: err }; } } var GenStateSuspendedStart = "suspendedStart"; var GenStateSuspendedYield = "suspendedYield"; var GenStateExecuting = "executing"; var GenStateCompleted = "completed"; // Returning this object from the innerFn has the same effect as // breaking out of the dispatch switch statement. var ContinueSentinel = {}; // Dummy constructor functions that we use as the .constructor and // .constructor.prototype properties for functions that return Generator // objects. For full spec compliance, you may wish to configure your // minifier not to mangle the names of these two functions. function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} // This is a polyfill for %IteratorPrototype% for environments that // don't natively support it. var IteratorPrototype = {}; IteratorPrototype[iteratorSymbol] = function () { return this; }; var getProto = Object.getPrototypeOf; var NativeIteratorPrototype = getProto && getProto(getProto(values([]))); if (NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) { // This environment has a native %IteratorPrototype%; use it instead // of the polyfill. IteratorPrototype = NativeIteratorPrototype; } var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype; GeneratorFunctionPrototype.constructor = GeneratorFunction; GeneratorFunctionPrototype[toStringTagSymbol] = GeneratorFunction.displayName = "GeneratorFunction"; // Helper for defining the .next, .throw, and .return methods of the // Iterator interface in terms of a single ._invoke method. function defineIteratorMethods(prototype) { ["next", "throw", "return"].forEach(function(method) { prototype[method] = function(arg) { return this._invoke(method, arg); }; }); } runtime.isGeneratorFunction = function(genFun) { var ctor = typeof genFun === "function" && genFun.constructor; return ctor ? ctor === GeneratorFunction || // For the native GeneratorFunction constructor, the best we can // do is to check its .name property. (ctor.displayName || ctor.name) === "GeneratorFunction" : false; }; runtime.mark = function(genFun) { if (Object.setPrototypeOf) { Object.setPrototypeOf(genFun, GeneratorFunctionPrototype); } else { genFun.__proto__ = GeneratorFunctionPrototype; if (!(toStringTagSymbol in genFun)) { genFun[toStringTagSymbol] = "GeneratorFunction"; } } genFun.prototype = Object.create(Gp); return genFun; }; // Within the body of any async function, `await x` is transformed to // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test // `hasOwn.call(value, "__await")` to determine if the yielded value is // meant to be awaited. runtime.awrap = function(arg) { return { __await: arg }; }; function AsyncIterator(generator) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (record.type === "throw") { reject(record.arg); } else { var result = record.arg; var value = result.value; if (value && typeof value === "object" && hasOwn.call(value, "__await")) { return Promise.resolve(value.__await).then(function(value) { invoke("next", value, resolve, reject); }, function(err) { invoke("throw", err, resolve, reject); }); } return Promise.resolve(value).then(function(unwrapped) { // When a yielded Promise is resolved, its final value becomes // the .value of the Promise result for the // current iteration. If the Promise is rejected, however, the // result for this iteration will be rejected with the same // reason. Note that rejections of yielded Promises are not // thrown back into the generator function, as is the case // when an awaited Promise is rejected. This difference in // behavior between yield and await is important, because it // allows the consumer to decide what to do with the yielded // rejection (swallow it and continue, manually .throw it back // into the generator, abandon iteration, whatever). With // await, by contrast, there is no opportunity to examine the // rejection reason outside the generator function, so the // only option is to throw it from the await expression, and // let the generator function handle the exception. result.value = unwrapped; resolve(result); }, reject); } } if (typeof global.process === "object" && global.process.domain) { invoke = global.process.domain.bind(invoke); } var previousPromise; function enqueue(method, arg) { function callInvokeWithMethodAndArg() { return new Promise(function(resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = // If enqueue has been called before, then we want to wait until // all previous Promises have been resolved before calling invoke, // so that results are always delivered in the correct order. If // enqueue has not been called before, then it is important to // call invoke immediately, without waiting on a callback to fire, // so that the async generator function has the opportunity to do // any necessary setup in a predictable way. This predictability // is why the Promise constructor synchronously invokes its // executor callback, and why async functions synchronously // execute code before the first await. Since we implement simple // async functions in terms of async generators, it is especially // important to get this right, even though it requires care. previousPromise ? previousPromise.then( callInvokeWithMethodAndArg, // Avoid propagating failures to Promises returned by later // invocations of the iterator. callInvokeWithMethodAndArg ) : callInvokeWithMethodAndArg(); } // Define the unified helper method that is used to implement .next, // .throw, and .return (see defineIteratorMethods). this._invoke = enqueue; } defineIteratorMethods(AsyncIterator.prototype); AsyncIterator.prototype[asyncIteratorSymbol] = function () { return this; }; runtime.AsyncIterator = AsyncIterator; // Note that simple async functions are implemented on top of // AsyncIterator objects; they just return a Promise for the value of // the final result produced by the iterator. runtime.async = function(innerFn, outerFn, self, tryLocsList) { var iter = new AsyncIterator( wrap(innerFn, outerFn, self, tryLocsList) ); return runtime.isGeneratorFunction(outerFn) ? iter // If outerFn is a generator, return the full iterator. : iter.next().then(function(result) { return result.done ? result.value : iter.next(); }); }; function makeInvokeMethod(innerFn, self, context) { var state = GenStateSuspendedStart; return function invoke(method, arg) { if (state === GenStateExecuting) { throw new Error("Generator is already running"); } if (state === GenStateCompleted) { if (method === "throw") { throw arg; } // Be forgiving, per 25.3.3.3.3 of the spec: // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume return doneResult(); } context.method = method; context.arg = arg; while (true) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (context.method === "next") { // Setting context._sent for legacy support of Babel's // function.sent implementation. context.sent = context._sent = context.arg; } else if (context.method === "throw") { if (state === GenStateSuspendedStart) { state = GenStateCompleted; throw context.arg; } context.dispatchException(context.arg); } else if (context.method === "return") { context.abrupt("return", context.arg); } state = GenStateExecuting; var record = tryCatch(innerFn, self, context); if (record.type === "normal") { // If an exception is thrown from innerFn, we leave state === // GenStateExecuting and loop back for another invocation. state = context.done ? GenStateCompleted : GenStateSuspendedYield; if (record.arg === ContinueSentinel) { continue; } return { value: record.arg, done: context.done }; } else if (record.type === "throw") { state = GenStateCompleted; // Dispatch the exception by looping back around to the // context.dispatchException(context.arg) call above. context.method = "throw"; context.arg = record.arg; } } }; } // Call delegate.iterator[context.method](context.arg) and handle the // result, either by returning a { value, done } result from the // delegate iterator, or by modifying context.method and context.arg, // setting context.delegate to null, and returning the ContinueSentinel. function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (method === undefined) { // A .throw or .return when the delegate iterator has no .throw // method always terminates the yield* loop. context.delegate = null; if (context.method === "throw") { if (delegate.iterator.return) { // If the delegate iterator has a return method, give it a // chance to clean up. context.method = "return"; context.arg = undefined; maybeInvokeDelegate(delegate, context); if (context.method === "throw") { // If maybeInvokeDelegate(context) changed context.method from // "return" to "throw", let that override the TypeError below. return ContinueSentinel; } } context.method = "throw"; context.arg = new TypeError( "The iterator does not provide a 'throw' method"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (record.type === "throw") { context.method = "throw"; context.arg = record.arg; context.delegate = null; return ContinueSentinel; } var info = record.arg; if (! info) { context.method = "throw"; context.arg = new TypeError("iterator result is not an object"); context.delegate = null; return ContinueSentinel; } if (info.done) { // Assign the result of the finished delegate to the temporary // variable specified by delegate.resultName (see delegateYield). context[delegate.resultName] = info.value; // Resume execution at the desired location (see delegateYield). context.next = delegate.nextLoc; // If context.method was "throw" but the delegate handled the // exception, let the outer generator proceed normally. If // context.method was "next", forget context.arg since it has been // "consumed" by the delegate iterator. If context.method was // "return", allow the original .return call to continue in the // outer generator. if (context.method !== "return") { context.method = "next"; context.arg = undefined; } } else { // Re-yield the result returned by the delegate method. return info; } // The delegate iterator is finished, so forget it and continue with // the outer generator. context.delegate = null; return ContinueSentinel; } // Define Generator.prototype.{next,throw,return} in terms of the // unified ._invoke helper method. defineIteratorMethods(Gp); Gp[toStringTagSymbol] = "Generator"; // A Generator should always return itself as the iterator object when the // @@iterator function is called on it. Some browsers' implementations of the // iterator prototype chain incorrectly implement this, causing the Generator // object to not be returned from this call. This ensures that doesn't happen. // See https://github.com/facebook/regenerator/issues/274 for more details. Gp[iteratorSymbol] = function() { return this; }; Gp.toString = function() { return "[object Generator]"; }; function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; if (1 in locs) { entry.catchLoc = locs[1]; } if (2 in locs) { entry.finallyLoc = locs[2]; entry.afterLoc = locs[3]; } this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = "normal"; delete record.arg; entry.completion = record; } function Context(tryLocsList) { // The root entry object (effectively a try statement without a catch // or a finally block) gives us a place to store values thrown from // locations where there is no enclosing try statement. this.tryEntries = [{ tryLoc: "root" }]; tryLocsList.forEach(pushTryEntry, this); this.reset(true); } runtime.keys = function(object) { var keys = []; for (var key in object) { keys.push(key); } keys.reverse(); // Rather than returning an object with a next method, we keep // things simple and return the next function itself. return function next() { while (keys.length) { var key = keys.pop(); if (key in object) { next.value = key; next.done = false; return next; } } // To avoid creating an additional object, we just hang the .value // and .done properties off the next function object itself. This // also ensures that the minifier will not anonymize the function. next.done = true; return next; }; }; function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) { return iteratorMethod.call(iterable); } if (typeof iterable.next === "function") { return iterable; } if (!isNaN(iterable.length)) { var i = -1, next = function next() { while (++i < iterable.length) { if (hasOwn.call(iterable, i)) { next.value = iterable[i]; next.done = false; return next; } } next.value = undefined; next.done = true; return next; }; return next.next = next; } } // Return an iterator with no values. return { next: doneResult }; } runtime.values = values; function doneResult() { return { value: undefined, done: true }; } Context.prototype = { constructor: Context, reset: function(skipTempReset) { this.prev = 0; this.next = 0; // Resetting context._sent for legacy support of Babel's // function.sent implementation. this.sent = this._sent = undefined; this.done = false; this.delegate = null; this.method = "next"; this.arg = undefined; this.tryEntries.forEach(resetTryEntry); if (!skipTempReset) { for (var name in this) { // Not sure about the optimal order of these conditions: if (name.charAt(0) === "t" && hasOwn.call(this, name) && !isNaN(+name.slice(1))) { this[name] = undefined; } } } }, stop: function() { this.done = true; var rootEntry = this.tryEntries[0]; var rootRecord = rootEntry.completion; if (rootRecord.type === "throw") { throw rootRecord.arg; } return this.rval; }, dispatchException: function(exception) { if (this.done) { throw exception; } var context = this; function handle(loc, caught) { record.type = "throw"; record.arg = exception; context.next = loc; if (caught) { // If the dispatched exception was caught by a catch block, // then let that catch block handle the exception normally. context.method = "next"; context.arg = undefined; } return !! caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; var record = entry.completion; if (entry.tryLoc === "root") { // Exception thrown outside of any try block that could handle // it, so set the completion value of the entire function to // throw the exception. return handle("end"); } if (entry.tryLoc]]></content>
      <categories>
        <category>Project Experience</category>
      </categories>
      <tags>
        <tag>Project Experience</tag>
        <tag>Machine Learning</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‰‘æŒ‡offeré¢˜è§£ - å›žæº¯]]></title>
    <url>%2F2019%2F05%2F13%2F%E5%89%91%E6%8C%87offer-%E5%9B%9E%E6%BA%AF%2F</url>
    <content type="text"><![CDATA[æœ¬ç³»åˆ—ä¸ºå‰‘æŒ‡offeråˆ·é¢˜ç¬”è®°ï¼Œåˆ·é¢˜å¹³å°ä¸ºç‰›å®¢ç½‘ã€‚é¢˜é‡ä¸º66é“ï¼Œæœ¬ç³»åˆ—æ‰€æœ‰é¢˜è§£æ±‡æ€»å¦‚ä¸‹ï¼š å‰‘æŒ‡offeré¢˜è§£ - é“¾è¡¨å‰‘æŒ‡offeré¢˜è§£ - æ ‘å‰‘æŒ‡offeré¢˜è§£ - æ•°ç»„å‰‘æŒ‡offeré¢˜è§£ - å­—ç¬¦ä¸²å‰‘æŒ‡offeré¢˜è§£ - æ ˆå‰‘æŒ‡offeré¢˜è§£ - é€’å½’å‰‘æŒ‡offeré¢˜è§£ - å›žæº¯å‰‘æŒ‡offeré¢˜è§£ - å…¶ä»– æœ¬æ–‡ä¸»è¦æ˜¯å›žæº¯ç›¸å…³é¢˜ç›®é¢˜è§£æ€»ç»“ã€‚ [TOC] 65.çŸ©é˜µä¸­çš„è·¯å¾„é¢˜ç›®æè¿°è¯·è®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥åˆ¤æ–­åœ¨ä¸€ä¸ªçŸ©é˜µä¸­æ˜¯å¦å­˜åœ¨ä¸€æ¡åŒ…å«æŸå­—ç¬¦ä¸²æ‰€æœ‰å­—ç¬¦çš„è·¯å¾„ã€‚è·¯å¾„å¯ä»¥ä»ŽçŸ©é˜µä¸­çš„ä»»æ„ä¸€ä¸ªæ ¼å­å¼€å§‹ï¼Œæ¯ä¸€æ­¥å¯ä»¥åœ¨çŸ©é˜µä¸­å‘å·¦ï¼Œå‘å³ï¼Œå‘ä¸Šï¼Œå‘ä¸‹ç§»åŠ¨ä¸€ä¸ªæ ¼å­ã€‚å¦‚æžœä¸€æ¡è·¯å¾„ç»è¿‡äº†çŸ©é˜µä¸­çš„æŸä¸€ä¸ªæ ¼å­ï¼Œåˆ™ä¹‹åŽä¸èƒ½å†æ¬¡è¿›å…¥è¿™ä¸ªæ ¼å­ã€‚ ä¾‹å¦‚ a b c e s f c s a d e e è¿™æ ·çš„3 X 4 çŸ©é˜µä¸­åŒ…å«ä¸€æ¡å­—ç¬¦ä¸²â€bccedâ€çš„è·¯å¾„ï¼Œä½†æ˜¯çŸ©é˜µä¸­ä¸åŒ…å«â€abcbâ€è·¯å¾„ï¼Œå› ä¸ºå­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦bå æ®äº†çŸ©é˜µä¸­çš„ç¬¬ä¸€è¡Œç¬¬äºŒä¸ªæ ¼å­ä¹‹åŽï¼Œè·¯å¾„ä¸èƒ½å†æ¬¡è¿›å…¥è¯¥æ ¼å­ã€‚ è§£é¢˜æ€è·¯è¿™æ˜¯ä¸€ä¸ªå¯ä»¥ç”¨å›žæº¯æ³•è§£å†³çš„å…¸åž‹é—®é¢˜ã€‚ é¦–å…ˆï¼ŒéåŽ†è¿™ä¸ªçŸ©é˜µï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“å°±èƒ½æ‰¾åˆ°ä¸Žå­—ç¬¦ä¸²strä¸­ç¬¬ä¸€ä¸ªå­—ç¬¦ç›¸åŒçš„çŸ©é˜µå…ƒç´ chã€‚ç„¶åŽéåŽ†chçš„ä¸Šä¸‹å·¦å³å››ä¸ªå­—ç¬¦ï¼Œå¦‚æžœæœ‰å’Œå­—ç¬¦ä¸²strä¸­ä¸‹ä¸€ä¸ªå­—ç¬¦ç›¸åŒçš„ï¼Œå°±æŠŠé‚£ä¸ªå­—ç¬¦å½“ä½œä¸‹ä¸€ä¸ªå­—ç¬¦ï¼ˆä¸‹ä¸€æ¬¡éåŽ†çš„èµ·ç‚¹ï¼‰ï¼Œå¦‚æžœæ²¡æœ‰ï¼Œå°±éœ€è¦å›žé€€åˆ°ä¸Šä¸€ä¸ªå­—ç¬¦ï¼Œç„¶åŽé‡æ–°éåŽ†ã€‚ä¸ºäº†é¿å…è·¯å¾„é‡å ï¼Œéœ€è¦ä¸€ä¸ªè¾…åŠ©çŸ©é˜µæ¥è®°å½•è·¯å¾„æƒ…å†µã€‚ ä¸‹é¢ä»£ç ä¸­ï¼Œå½“çŸ©é˜µåæ ‡ä¸ºï¼ˆrowï¼Œcolï¼‰çš„æ ¼å­å’Œè·¯å¾„å­—ç¬¦ä¸²ä¸­ä¸‹æ ‡ä¸ºpathLengthçš„å­—ç¬¦ä¸€æ ·æ—¶ï¼Œä»Ž4ä¸ªç›¸é‚»çš„æ ¼å­ï¼ˆrowï¼Œcol-1ï¼‰ã€ï¼ˆrow-1ï¼Œcolï¼‰ã€ï¼ˆrowï¼Œcol+1ï¼‰ä»¥åŠï¼ˆrow+1ï¼Œcolï¼‰ä¸­åŽ»å®šä½è·¯å¾„å­—ç¬¦ä¸²ä¸­ä¸‹æ ‡ä¸ºpathLength+1çš„å­—ç¬¦ã€‚ å¦‚æžœ4ä¸ªç›¸é‚»çš„æ ¼å­éƒ½æ²¡æœ‰åŒ¹é…å­—ç¬¦ä¸²ä¸­ä¸‹æ ‡ä¸ºpathLength+1çš„å­—ç¬¦ï¼Œè¡¨æ˜Žå½“å‰è·¯å¾„å­—ç¬¦ä¸²ä¸­ä¸‹æ ‡ä¸ºpathLengthçš„å­—ç¬¦åœ¨çŸ©é˜µä¸­çš„å®šä½ä¸æ­£ç¡®ï¼Œæˆ‘ä»¬éœ€è¦å›žåˆ°å‰ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ˆpathLength-1ï¼‰ï¼Œç„¶åŽé‡æ–°å®šä½ã€‚ 123456789101112131415161718192021222324252627282930# -*- coding:utf-8 -*-class Solution: def hasPath(self, matrix, rows, cols, path): # write code here if len(matrix) == 0 or rows &lt;= 0 or cols &lt;= 0: return False if len(path) == 0: return True visited = [False]*(rows*cols) for i in range(rows): for j in range(cols): if self.HasPath(matrix, rows, cols, path, i, j, visited, 0): return True return False def HasPath(self, matrix, rows, cols, path, i, j, visited, pathLen): if pathLen == len(path): return True curHasPath = False if 0 &lt;= i &lt; rows and 0 &lt;= j &lt; cols and matrix[i*cols+j] == path[pathLen] and not visited[i*cols+j]: visited[i*cols+j] = True pathLen += 1 curHasPath = self.HasPath(matrix, rows, cols, path, i+1, j, visited, pathLen) or self.HasPath(matrix, rows, cols, path, i-1, j, visited, pathLen) or self.HasPath(matrix, rows, cols, path, i, j+1, visited, pathLen) or self.HasPath(matrix, rows, cols, path, i, j-1, visited, pathLen) if not curHasPath: pathLen -= 1 visited[i*cols+j] = False return curHasPath 66 æœºå™¨äººçš„è¿åŠ¨èŒƒå›´é¢˜ç›®æè¿°åœ°ä¸Šæœ‰ä¸€ä¸ªmè¡Œå’Œnåˆ—çš„æ–¹æ ¼ã€‚ä¸€ä¸ªæœºå™¨äººä»Žåæ ‡0,0çš„æ ¼å­å¼€å§‹ç§»åŠ¨ï¼Œæ¯ä¸€æ¬¡åªèƒ½å‘å·¦ï¼Œå³ï¼Œä¸Šï¼Œä¸‹å››ä¸ªæ–¹å‘ç§»åŠ¨ä¸€æ ¼ï¼Œä½†æ˜¯ä¸èƒ½è¿›å…¥è¡Œåæ ‡å’Œåˆ—åæ ‡çš„æ•°ä½ä¹‹å’Œå¤§äºŽkçš„æ ¼å­ã€‚ ä¾‹å¦‚ï¼Œå½“kä¸º18æ—¶ï¼Œæœºå™¨äººèƒ½å¤Ÿè¿›å…¥æ–¹æ ¼ï¼ˆ35,37ï¼‰ï¼Œå› ä¸º3+5+3+7 = 18ã€‚ä½†æ˜¯ï¼Œå®ƒä¸èƒ½è¿›å…¥æ–¹æ ¼ï¼ˆ35,38ï¼‰ï¼Œå› ä¸º3+5+3+8 = 19ã€‚è¯·é—®è¯¥æœºå™¨äººèƒ½å¤Ÿè¾¾åˆ°å¤šå°‘ä¸ªæ ¼å­ï¼Ÿ è§£é¢˜æ€è·¯å’Œä¸Šä¸€é“é¢˜ååˆ†ç›¸ä¼¼ï¼Œåªä¸è¿‡è¿™æ¬¡çš„é™åˆ¶æ¡ä»¶å˜æˆäº†åæ ‡ä½æ•°ä¹‹å’Œã€‚å¯¹äºŽæ±‚åæ ‡ä½æ•°ä¹‹å’Œï¼Œæˆ‘ä»¬å•ç‹¬ç”¨ä¸€ä¸ªå‡½æ•°å®žçŽ°ï¼Œç„¶åŽå¥—å…¥ä¸Šä¸€é“é¢˜çš„ä»£ç ä¸­å³å¯ã€‚ 12345678910111213141516171819202122232425# -*- coding:utf-8 -*-class Solution: def movingCount(self, threshold, rows, cols): # write code here if rows &lt;= 0 or cols &lt;= 0: return 0 visited = [False]*(rows*cols) return self.moving(threshold, rows, cols, 0, 0, visited) def moving(self, threshold, rows, cols, i, j, visited): count = 0 if 0 &lt;= i &lt; rows and 0 &lt;= j &lt; cols and self.getnum(i)+self.getnum(j) &lt;= threshold and not visited[i*cols+j]: visited[i*cols+j] = True count = 1 + self.moving(threshold, rows, cols, i+1, j, visited)+ \ self.moving(threshold, rows, cols, i-1, j, visited) + \ self.moving(threshold, rows, cols, i, j+1, visited) + \ self.moving(threshold, rows, cols, i, j-1, visited) return count def getnum(self, num): res = 0 while num: res += num%10 num //= 10 return res]]></content>
      <categories>
        <category>å‰‘æŒ‡offer</category>
      </categories>
      <tags>
        <tag>å‰‘æŒ‡offer</tag>
        <tag>ç®—æ³•é¢˜è§£</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‰‘æŒ‡offeré¢˜è§£ - æ ˆ]]></title>
    <url>%2F2019%2F05%2F13%2F%E5%89%91%E6%8C%87offer-%E6%A0%88%2F</url>
    <content type="text"><![CDATA[æœ¬ç³»åˆ—ä¸ºå‰‘æŒ‡offeråˆ·é¢˜ç¬”è®°ï¼Œåˆ·é¢˜å¹³å°ä¸ºç‰›å®¢ç½‘ã€‚é¢˜é‡ä¸º66é“ï¼Œæœ¬ç³»åˆ—æ‰€æœ‰é¢˜è§£æ±‡æ€»å¦‚ä¸‹ï¼š å‰‘æŒ‡offeré¢˜è§£ - é“¾è¡¨å‰‘æŒ‡offeré¢˜è§£ - æ ‘å‰‘æŒ‡offeré¢˜è§£ - æ•°ç»„å‰‘æŒ‡offeré¢˜è§£ - å­—ç¬¦ä¸²å‰‘æŒ‡offeré¢˜è§£ - æ ˆå‰‘æŒ‡offeré¢˜è§£ - é€’å½’å‰‘æŒ‡offeré¢˜è§£ - å›žæº¯å‰‘æŒ‡offeré¢˜è§£ - å…¶ä»– æœ¬æ–‡ä¸»è¦æ˜¯æ ˆç›¸å…³é¢˜ç›®é¢˜è§£æ€»ç»“ã€‚ [TOC] 5. ç”¨ä¸¤ä¸ªæ ˆå®žçŽ°é˜Ÿåˆ—é¢˜ç›®æè¿°ç”¨ä¸¤ä¸ªæ ˆæ¥å®žçŽ°ä¸€ä¸ªé˜Ÿåˆ—ï¼Œå®Œæˆé˜Ÿåˆ—çš„Pushå’ŒPopæ“ä½œã€‚ é˜Ÿåˆ—ä¸­çš„å…ƒç´ ä¸ºintç±»åž‹ã€‚ è§£é¢˜æ€è·¯å…¥æ ˆæ—¶æŠŠæ•°æ®åŽ‹å…¥stack1ï¼Œå‡ºæ ˆæ—¶è‹¥stack2ä¸ä¸ºç©ºï¼Œç›´æŽ¥å¼¹å‡ºï¼Œè‹¥stack2ä¸ºç©ºï¼Œåˆ™å°†stack1çš„å…¨éƒ¨å…ƒç´ åŽ‹å…¥stack2ï¼Œåœ¨å¼¹å‡ºstack2. 1234567891011121314151617181920212223242526# -*- coding:utf-8 -*-class Solution: def __init__(self): self.stack1 = [] self.stack2 = [] def push(self, node): # write code here self.stack1.append(node) def pop(self): # return xx if self.stack2: return self.stack2.pop() else: while self.stack1: self.stack2.append(self.stack1.pop()) return self.stack2.pop()if __name__ == '__main__': result = Solution() result.push(1) result.push(2) result.pop() result.push(4) result.pop() result.pop() 20 åŒ…å«minå‡½æ•°çš„æ ˆé¢˜ç›®æè¿°å®šä¹‰æ ˆçš„æ•°æ®ç»“æž„ï¼Œè¯·åœ¨è¯¥ç±»åž‹ä¸­å®žçŽ°ä¸€ä¸ªèƒ½å¤Ÿå¾—åˆ°æ ˆä¸­æ‰€å«æœ€å°å…ƒç´ çš„minå‡½æ•°ï¼ˆæ—¶é—´å¤æ‚åº¦åº”ä¸ºOï¼ˆ1ï¼‰ï¼‰ã€‚ è§£é¢˜æ€è·¯ä½¿ç”¨ä¸¤ä¸ªæ ˆï¼Œä¸€ä¸ªä¸ºæ•°æ®æ ˆï¼Œä¸€ä¸ªä¸ºè¾…åŠ©æ ˆã€‚æ•°æ®æ ˆç”¨äºŽå­˜å‚¨æ‰€æœ‰æ•°æ®ï¼Œè¾…åŠ©æ ˆç”¨äºŽå­˜å‚¨æœ€å°å€¼ã€‚ ä¸¾ä¸ªä¾‹å­ï¼šå…¥æ ˆæ—¶ï¼šé¦–å…ˆå¾€ç©ºçš„æ•°å­—æ ˆé‡ŒåŽ‹å…¥æ•°å­—3ï¼Œæ˜¾ç„¶çŽ°åœ¨3æ˜¯æœ€å°å€¼ï¼Œæˆ‘ä»¬ä¹ŸæŠŠæœ€å°å€¼åŽ‹å…¥è¾…åŠ©æ ˆã€‚æŽ¥ä¸‹æ¥åŽ‹å…¥æ•°å­—4ï¼Œç”±äºŽ4å¤§äºŽä¹‹å‰çš„æœ€å°å€¼ï¼Œå› æ­¤æˆ‘ä»¬åªè¦å…¥æ•°æ®æ ˆï¼Œä¸åŽ‹å…¥è¾…åŠ©æ ˆã€‚å‡ºæ ˆæ—¶ï¼šå½“æ•°æ®æ ˆå’Œè¾…åŠ©æ ˆç›¸åŒï¼Œè¾…åŠ©æ ˆå’Œæ•°æ®æ ˆçš„æ ˆé¡¶å…ƒç´ éƒ½è¦å‡ºæ ˆï¼Œå¦åˆ™ï¼Œä»…æ•°æ®æ ˆçš„æ ˆé¡¶å…ƒç´ å‡ºæ ˆã€‚èŽ·å–æ ˆé¡¶å…ƒç´ æ—¶ï¼šç›´æŽ¥è¿”å›žæ•°æ®æ ˆçš„æ ˆé¡¶å…ƒç´ æ ˆæœ€å°å…ƒç´ ï¼šç›´æŽ¥è¿”å›žè¾…åŠ©æ ˆçš„æ ˆé¡¶å…ƒç´ 1234567891011121314151617181920212223242526272829303132333435# -*- coding:utf-8 -*-class Solution: def __init__(self): self.dataStack = [] self.minStack = [] def push(self, node): # write code here self.dataStack.append(node) if len(self.minStack) &lt;= 0 or node &lt; self.minStack[-1]: self.minStack.append(node) def pop(self): # write code here val = self.dataStack.pop() if val == self.minStack[-1]: self.minStack.pop() return val def top(self): # write code here return self.dataStack[-1] def min(self): # write code here return self.minStack[-1]if __name__ == '__main__': result = Solution() result.push(2) result.push(4) result.push(1) result.push(3) result.pop() result.top() result.min() 21 æ ˆçš„åŽ‹å…¥ã€å¼¹å‡ºåºåˆ—é¢˜ç›®æè¿°è¾“å…¥ä¸¤ä¸ªæ•´æ•°åºåˆ—ï¼Œç¬¬ä¸€ä¸ªåºåˆ—è¡¨ç¤ºæ ˆçš„åŽ‹å…¥é¡ºåºï¼Œè¯·åˆ¤æ–­ç¬¬äºŒä¸ªåºåˆ—æ˜¯å¦å¯èƒ½ä¸ºè¯¥æ ˆçš„å¼¹å‡ºé¡ºåºã€‚å‡è®¾åŽ‹å…¥æ ˆçš„æ‰€æœ‰æ•°å­—å‡ä¸ç›¸ç­‰ã€‚ä¾‹å¦‚åºåˆ—1,2,3,4,5æ˜¯æŸæ ˆçš„åŽ‹å…¥é¡ºåºï¼Œåºåˆ—4,5,3,2,1æ˜¯è¯¥åŽ‹æ ˆåºåˆ—å¯¹åº”çš„ä¸€ä¸ªå¼¹å‡ºåºåˆ—ï¼Œä½†4,3,5,1,2å°±ä¸å¯èƒ½æ˜¯è¯¥åŽ‹æ ˆåºåˆ—çš„å¼¹å‡ºåºåˆ—ã€‚ï¼ˆæ³¨æ„ï¼šè¿™ä¸¤ä¸ªåºåˆ—çš„é•¿åº¦æ˜¯ç›¸ç­‰çš„ï¼‰ è§£é¢˜æ€è·¯å€Ÿç”¨ä¸€ä¸ªè¾…åŠ©çš„æ ˆï¼ŒéåŽ†åŽ‹æ ˆé¡ºåºï¼Œå…ˆè®²ç¬¬ä¸€ä¸ªæ”¾å…¥æ ˆä¸­ï¼Œè¿™é‡Œæ˜¯1ï¼Œç„¶åŽåˆ¤æ–­æ ˆé¡¶å…ƒç´ æ˜¯ä¸æ˜¯å‡ºæ ˆé¡ºåºçš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œè¿™é‡Œæ˜¯4ï¼Œå¾ˆæ˜¾ç„¶1ï¼=4ï¼Œæ‰€ä»¥æˆ‘ä»¬ç»§ç»­åŽ‹æ ˆï¼Œç›´åˆ°ç›¸ç­‰ä»¥åŽå¼€å§‹å‡ºæ ˆï¼Œå‡ºæ ˆä¸€ä¸ªå…ƒç´ ï¼Œåˆ™å°†å‡ºæ ˆé¡ºåºå‘åŽç§»åŠ¨ä¸€ä½ï¼Œç›´åˆ°ä¸ç›¸ç­‰ï¼Œè¿™æ ·å¾ªçŽ¯ç­‰åŽ‹æ ˆé¡ºåºéåŽ†å®Œæˆï¼Œå¦‚æžœè¾…åŠ©æ ˆè¿˜ä¸ä¸ºç©ºï¼Œè¯´æ˜Žå¼¹å‡ºåºåˆ—ä¸æ˜¯è¯¥æ ˆçš„å¼¹å‡ºé¡ºåºã€‚123456789101112131415161718# -*- coding:utf-8 -*-class Solution: def IsPopOrder(self, pushV, popV): # write code here stack = [] for x in pushV: stack.append(x) while stack and stack[-1] == popV[0]: stack.pop() popV.pop(0) return False if stack else Trueif __name__ == '__main__': # å…¥æ ˆï¼š1,2,3,4,5 # å¯èƒ½çš„å‡ºæ ˆï¼š4,5,3,2,1 # ä¸èƒ½çš„å‡ºæ ˆï¼š4,3,5,1,2 result = Solution().IsPopOrder([1,2,3,4,5],[4,3,5,1,2]) print(result)]]></content>
      <categories>
        <category>å‰‘æŒ‡offer</category>
      </categories>
      <tags>
        <tag>å‰‘æŒ‡offer</tag>
        <tag>ç®—æ³•é¢˜è§£</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‰‘æŒ‡offeré¢˜è§£ - é€’å½’]]></title>
    <url>%2F2019%2F05%2F13%2F%E5%89%91%E6%8C%87offer-%E9%80%92%E5%BD%92%2F</url>
    <content type="text"><![CDATA[æœ¬ç³»åˆ—ä¸ºå‰‘æŒ‡offeråˆ·é¢˜ç¬”è®°ï¼Œåˆ·é¢˜å¹³å°ä¸ºç‰›å®¢ç½‘ã€‚é¢˜é‡ä¸º66é“ï¼Œæœ¬ç³»åˆ—æ‰€æœ‰é¢˜è§£æ±‡æ€»å¦‚ä¸‹ï¼š å‰‘æŒ‡offeré¢˜è§£ - é“¾è¡¨å‰‘æŒ‡offeré¢˜è§£ - æ ‘å‰‘æŒ‡offeré¢˜è§£ - æ•°ç»„å‰‘æŒ‡offeré¢˜è§£ - å­—ç¬¦ä¸²å‰‘æŒ‡offeré¢˜è§£ - æ ˆå‰‘æŒ‡offeré¢˜è§£ - é€’å½’å‰‘æŒ‡offeré¢˜è§£ - å›žæº¯å‰‘æŒ‡offeré¢˜è§£ - å…¶ä»– æœ¬æ–‡ä¸»è¦æ˜¯é€’å½’ç›¸å…³é¢˜ç›®é¢˜è§£æ€»ç»“ã€‚ [TOC] 7.è£´æ³¢é‚£å¥‘æ•°åˆ—é¢˜ç›®æè¿°å¤§å®¶éƒ½çŸ¥é“æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼ŒçŽ°åœ¨è¦æ±‚è¾“å…¥ä¸€ä¸ªæ•´æ•°nï¼Œè¯·ä½ è¾“å‡ºæ–æ³¢é‚£å¥‘æ•°åˆ—çš„ç¬¬né¡¹ï¼ˆä»Ž0å¼€å§‹ï¼Œç¬¬0é¡¹ä¸º0ï¼‰ã€‚n&lt;=39 å¤§å®¶éƒ½çŸ¥é“æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼ŒçŽ°åœ¨è¦æ±‚è¾“å…¥ä¸€ä¸ªæ•´æ•°nï¼Œè¯·ä½ è¾“å‡ºæ–æ³¢é‚£å¥‘æ•°åˆ—çš„ç¬¬né¡¹ã€‚ï¼ˆn&lt;=39ï¼‰æ–æ³¢é‚£å¥‘æ•°åˆ—å…¬å¼ä¸ºï¼š è§£é¢˜æ€è·¯è¿™é“é¢˜é€’å½’å¾ˆå¥½å†™ï¼Œä½†æ˜¯å­˜åœ¨å¾ˆä¸¥é‡çš„æ•ˆçŽ‡é—®é¢˜ã€‚æˆ‘ä»¬ä»¥æ±‚è§£f(10)ä¸ºä¾‹ç±»åˆ†æžé€’å½’çš„æ±‚è§£è¿‡ç¨‹ã€‚æƒ³æ±‚f(10)ï¼Œéœ€è¦å…ˆæ±‚å¾—f(9)å’Œf(8)ã€‚åŒæ ·ï¼Œæƒ³æ±‚å¾—f(9)ï¼Œéœ€è¦å…ˆæ±‚çš„f(8)å’Œf(7)â€¦.æˆ‘ä»¬å¯ä»¥ç”¨æ ‘å½¢ç»“æž„æ¥è¡¨ç¤ºè¿™ç§ä¾èµ–å…³ç³»ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼šæˆ‘ä»¬ä¸éš¾å‘çŽ°åœ¨è¿™æ£µæ ‘ä¸­æœ‰å¾ˆå¤šç»“ç‚¹æ˜¯é‡å¤çš„ï¼Œè€Œä¸”é‡å¤çš„ç»“ç‚¹æ•°ä¼šéšç€nçš„å¢žåŠ è€Œæ€¥å‰§å¢žåŠ ï¼Œè¿™æ„å‘³è®¡ç®—é‡ä¼šéšç€nçš„å¢žåŠ è€Œæ€¥å‰§å¢žå¤§ã€‚äº‹å®žä¸Šï¼Œé€’å½’æ–¹æ³•è®¡ç®—çš„æ—¶é—´å¤æ‚åº¦æ˜¯ä»¥nçš„æŒ‡æ•°çš„æ–¹å¼é€’å¢žçš„ã€‚æ‰€ä»¥ï¼Œä½¿ç”¨ç®€å•çš„å¾ªçŽ¯æ–¹æ³•æ¥å®žçŽ°ã€‚ 123456789101112131415# -*- coding:utf-8 -*-class Solution: def Fibonacci(self, n): # write code here if n &lt;= 1: return n a, b = 0,1 for i in range(1,n): c = a + b a, b = b, c return c if __name__ == '__main__': result = Solution().Fibonacci(6) print(result) 8 è·³å°é˜¶é¢˜ç›®æè¿°ä¸€åªé’è›™ä¸€æ¬¡å¯ä»¥è·³ä¸Š1çº§å°é˜¶ï¼Œä¹Ÿå¯ä»¥è·³ä¸Š2çº§ã€‚æ±‚è¯¥é’è›™è·³ä¸Šä¸€ä¸ªnçº§çš„å°é˜¶æ€»å…±æœ‰å¤šå°‘ç§è·³æ³•ï¼ˆå…ˆåŽæ¬¡åºä¸åŒç®—ä¸åŒçš„ç»“æžœï¼‰ã€‚ è§£é¢˜æ€è·¯é¦–å…ˆæˆ‘ä»¬è€ƒè™‘æœ€ç®€å•çš„æƒ…å†µã€‚å¦‚æžœåªæœ‰1çº§å°é˜¶ï¼Œé‚£ä¹ˆæ˜¾ç„¶åªä¸€ç§è·³æ³•ã€‚å¦‚æžœæœ‰2çº§å°é˜¶ï¼Œé‚£å°±æœ‰ä¸¤ç§è·³æ³•ï¼šä¸€ç§æ˜¯åˆ†ä¸¤æ¬¡è·³ï¼Œæ¯æ¬¡è·³1çº§ï¼›å¦ä¸€ç§æ˜¯ä¸€æ¬¡è·³2çº§ã€‚ æŽ¥ç€ï¼Œæˆ‘ä»¬æ¥è®¨è®ºä¸€èˆ¬æƒ…å†µã€‚æˆ‘ä»¬æŠŠnçº§å°é˜¶æ—¶çš„è·³æ³•çœ‹æˆæ˜¯nçš„å‡½æ•°ï¼Œè®°ä¸ºf(n)ã€‚å½“n&gt;2æ—¶ï¼Œç¬¬ä¸€æ¬¡è·³çš„æ—¶å€™å°±æœ‰ä¸¤ç§ä¸åŒçš„é€‰æ‹©ï¼šä¸€æ˜¯ç¬¬ä¸€æ¬¡åªè·³1çº§ï¼Œæ­¤æ—¶è·³æ³•æ•°ç›®ç­‰äºŽåŽé¢å‰©ä¸‹çš„n-1çº§å°é˜¶çš„è·³æ³•æ•°ç›®ï¼Œå³ä¸ºf(n-1)ï¼›å¦å¤–ä¸€ç§é€‰æ‹©æ˜¯è·³ä¸€æ¬¡è·³2çº§ï¼Œæ­¤æ—¶è·³æ³•æ•°ç›®ç­‰äºŽåŽé¢å‰©ä¸‹çš„n-2çº§å°é˜¶çš„è·³æ³•æ•°ç›®ï¼Œå³ä¸ºf(n-2)ã€‚å› æ­¤nçº§å°é˜¶çš„ä¸åŒè·³æ³•çš„æ€»æ•°f(n)=f(n-1)+f(n-2)ã€‚åˆ†æžåˆ°è¿™é‡Œï¼Œæˆ‘ä»¬ä¸éš¾çœ‹å‡ºè¿™å®žé™…ä¸Šå°±æ˜¯æ–æ³¢é‚£å¥‘æ•°åˆ—äº†ã€‚12345678910111213141516# -*- coding:utf-8 -*-class Solution: def jumpFloor(self, number): # write code here if number &lt;= 3: return number a, b = 1, 2 for i in range(2, number): c = a + b a, b = b, c return cif __name__ == '__main__': result = Solution().jumpFloor(5) print(result) 9 å˜æ€è·³å°é˜¶é¢˜ç›®æè¿°ä¸€åªé’è›™ä¸€æ¬¡å¯ä»¥è·³ä¸Š1çº§å°é˜¶ï¼Œä¹Ÿå¯ä»¥è·³ä¸Š2çº§â€¦â€¦å®ƒä¹Ÿå¯ä»¥è·³ä¸Šnçº§ã€‚æ±‚è¯¥é’è›™è·³ä¸Šä¸€ä¸ªnçº§çš„å°é˜¶æ€»å…±æœ‰å¤šå°‘ç§è·³æ³•ã€‚ è§£é¢˜æ€è·¯å½“n=1æ—¶ï¼Œç»“æžœä¸º1ï¼›å½“n=2æ—¶ï¼Œç»“æžœä¸º2ï¼›å½“n=3æ—¶ï¼Œç»“æžœä¸º4ï¼›ä»¥æ­¤ç±»æŽ¨ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•°å­¦å½’çº³æ³•ä¸éš¾å‘çŽ°ï¼Œè·³æ³•f(n)=2^(n-1)ã€‚1234567891011# -*- coding:utf-8 -*-class Solution: def jumpFloorII(self, number): # write code here if number &lt;= 2: return number return 2**(number-1)if __name__ == '__main__': result = Solution().jumpFloorII(4) print(result) 10 çŸ©å½¢è¦†ç›–é¢˜ç›®æè¿°æˆ‘ä»¬å¯ä»¥ç”¨21çš„å°çŸ©å½¢æ¨ªç€æˆ–è€…ç«–ç€åŽ»è¦†ç›–æ›´å¤§çš„çŸ©å½¢ã€‚è¯·é—®ç”¨nä¸ª21çš„å°çŸ©å½¢æ— é‡å åœ°è¦†ç›–ä¸€ä¸ª2*nçš„å¤§çŸ©å½¢ï¼Œæ€»å…±æœ‰å¤šå°‘ç§æ–¹æ³•ï¼Ÿ è§£é¢˜æ€è·¯ä»¥2x8çš„çŸ©å½¢ä¸ºä¾‹ã€‚ç¤ºæ„å›¾å¦‚ä¸‹ï¼šæˆ‘ä»¬å…ˆæŠŠ2x8çš„è¦†ç›–æ–¹æ³•è®°ä¸ºf(8)ã€‚ç”¨ç¬¬ä¸€ä¸ª1x2å°çŸ©é˜µè¦†ç›–å¤§çŸ©å½¢çš„æœ€å·¦è¾¹æ—¶æœ‰ä¸¤ä¸ªé€‰æ‹©ï¼Œç«–ç€æ”¾æˆ–è€…æ¨ªç€æ”¾ã€‚å½“ç«–ç€æ”¾çš„æ—¶å€™ï¼Œå³è¾¹è¿˜å‰©ä¸‹2x7çš„åŒºåŸŸï¼Œè¿™ç§æƒ…å†µä¸‹çš„è¦†ç›–æ–¹æ³•è®°ä¸ºf(7)ã€‚æŽ¥ä¸‹æ¥è€ƒè™‘æ¨ªç€æ”¾çš„æƒ…å†µã€‚å½“1x2çš„å°çŸ©å½¢æ¨ªç€æ”¾åœ¨å·¦ä¸Šè§’çš„æ—¶å€™ï¼Œå·¦ä¸‹è§’å’Œæ¨ªç€æ”¾ä¸€ä¸ª1x2çš„å°çŸ©å½¢ï¼Œè€Œåœ¨å³è¾¹è¿˜å‰©ä¸‹2x6çš„åŒºåŸŸï¼Œè¿™ç§æƒ…å†µä¸‹çš„è¦†ç›–æ–¹æ³•è®°ä¸ºf(6)ã€‚å› æ­¤f(8)=f(7)+f(6)ã€‚æ­¤æ—¶æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œè¿™ä»ç„¶æ˜¯æ–æ³¢é‚£å¥‘æ•°åˆ—ã€‚123456789101112131415# -*- coding:utf-8 -*-class Solution: def rectCover(self, number): # write code here if number &lt;= 3: return number a, b = 1, 2 for i in range(2,number): c = a+b a,b = b,c return cif __name__ == '__main__': result = Solution().rectCover(4) print(result)]]></content>
      <categories>
        <category>å‰‘æŒ‡offer</category>
      </categories>
      <tags>
        <tag>å‰‘æŒ‡offer</tag>
        <tag>ç®—æ³•é¢˜è§£</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‰‘æŒ‡offeré¢˜è§£ - å­—ç¬¦ä¸²]]></title>
    <url>%2F2019%2F05%2F13%2F%E5%89%91%E6%8C%87offer-%E5%AD%97%E7%AC%A6%E4%B8%B2%2F</url>
    <content type="text"><![CDATA[æœ¬ç³»åˆ—ä¸ºå‰‘æŒ‡offeråˆ·é¢˜ç¬”è®°ï¼Œåˆ·é¢˜å¹³å°ä¸ºç‰›å®¢ç½‘ã€‚é¢˜é‡ä¸º66é“ï¼Œæœ¬ç³»åˆ—æ‰€æœ‰é¢˜è§£æ±‡æ€»å¦‚ä¸‹ï¼š å‰‘æŒ‡offeré¢˜è§£ - é“¾è¡¨å‰‘æŒ‡offeré¢˜è§£ - æ ‘å‰‘æŒ‡offeré¢˜è§£ - æ•°ç»„å‰‘æŒ‡offeré¢˜è§£ - å­—ç¬¦ä¸²å‰‘æŒ‡offeré¢˜è§£ - æ ˆå‰‘æŒ‡offeré¢˜è§£ - é€’å½’å‰‘æŒ‡offeré¢˜è§£ - å›žæº¯å‰‘æŒ‡offeré¢˜è§£ - å…¶ä»– æœ¬æ–‡ä¸»è¦æ˜¯å­—ç¬¦ä¸²ç›¸å…³é¢˜ç›®é¢˜è§£æ€»ç»“ã€‚ 2.æ›¿æ¢ç©ºæ ¼é¢˜ç›®æè¿°è¯·å®žçŽ°ä¸€ä¸ªå‡½æ•°ï¼Œå°†ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªç©ºæ ¼æ›¿æ¢æˆâ€œ%20â€ã€‚ä¾‹å¦‚ï¼Œå½“å­—ç¬¦ä¸²ä¸ºWe Are Happy.åˆ™ç»è¿‡æ›¿æ¢ä¹‹åŽçš„å­—ç¬¦ä¸²ä¸ºWe%20Are%20Happyã€‚ è§£é¢˜æ€è·¯ æ€è·¯1ï¼šå¼€è¾Ÿä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼ŒéåŽ†ç»™å®šå­—ç¬¦ä¸²ï¼Œå½“å­—ç¬¦ä¸ºç©ºæ ¼æ—¶ï¼Œåœ¨æ–°å­—ç¬¦ä¸²åŽæ·»åŠ %20ï¼Œå¦åˆ™ï¼Œæ·»åŠ åŽŸå­—ç¬¦ æ€è·¯2ï¼šå°†å­—ç¬¦ä¸²è½¬æ¢æˆåˆ—è¡¨ï¼ŒéåŽ†å­—ç¬¦ä¸²ï¼Œå½“å­—ç¬¦ä¸ºç©ºæ ¼æ—¶ï¼Œä¾æ¬¡åœ¨åˆ—è¡¨åŽé¢æ·»åŠ â€™%â€™ï¼Œâ€™2â€™ï¼Œâ€™0â€™ï¼›å¦åˆ™ï¼Œæ·»åŠ åŽŸå­—ç¬¦ æ€è·¯3ï¼šå¦‚æžœç›´æŽ¥æ¯æ¬¡é‡åˆ°ç©ºæ ¼æ·»åŠ â€™%20â€™ï¼Œé‚£ä¹ˆç©ºæ ¼åŽé¢çš„æ•°å­—å°±éœ€è¦é¢‘ç¹å‘åŽç§»åŠ¨ã€‚é‡åˆ°è¿™ç§ç§»åŠ¨é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•å…ˆç»™å‡ºæœ€ç»ˆéœ€è¦çš„é•¿åº¦ï¼Œç„¶åŽä»ŽåŽå‘å‰æ‰«æï¼ŒåŒæ—¶ç»™å®šä¸¤ä¸ªæŒ‡é’ˆæ¥ä¿è¯å®šä½ã€‚123456789101112131415161718192021222324252627282930313233343536373839404142434445464748# -*- coding:utf-8 -*-class Solution: # s æºå­—ç¬¦ä¸² def replaceSpace(self, s): # write code here if len(s) == 0: return '' # æ€è·¯1 # newString = '' # for i in s: # if i == ' ': # newString += '%20' # else: # newString += i # return newString # æ€è·¯2ï¼š # lis = list(s) # newLis = [] # for i in lis: # if i == ' ': # newLis.append('%') # newLis.append('2') # newLis.append('0') # else: # newLis.append(i) # return "".join(newLis) # æ€è·¯3 count = 0 for i in s: if i == ' ': count += 1 newLen = len(s) + count * 2 newStr = newLen * [None] indexOfNew, indexOfOri = len(newStr)-1, len(s)-1 while indexOfNew &gt;= 0 and indexOfNew &gt;= indexOfOri: if s[indexOfOri] == ' ': newStr[indexOfNew-2:indexOfNew+1] = ['%','2','0'] indexOfNew -= 3 indexOfOri -= 1 else: newStr[indexOfNew] = s[indexOfOri] indexOfNew -= 1 indexOfOri -= 1 return "".join(newStr)if __name__ == '__main__': result = Solution().replaceSpace('We are happy.') print(result) 27 å­—ç¬¦ä¸²çš„æŽ’åˆ—é¢˜ç›®æè¿°è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²,æŒ‰å­—å…¸åºæ‰“å°å‡ºè¯¥å­—ç¬¦ä¸²ä¸­å­—ç¬¦çš„æ‰€æœ‰æŽ’åˆ—ã€‚ä¾‹å¦‚è¾“å…¥å­—ç¬¦ä¸²abc,åˆ™æ‰“å°å‡ºç”±å­—ç¬¦a,b,cæ‰€èƒ½æŽ’åˆ—å‡ºæ¥çš„æ‰€æœ‰å­—ç¬¦ä¸²abc,acb,bac,bca,cabå’Œcbaã€‚è¾“å…¥æè¿°:è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²,é•¿åº¦ä¸è¶…è¿‡9(å¯èƒ½æœ‰å­—ç¬¦é‡å¤),å­—ç¬¦åªåŒ…æ‹¬å¤§å°å†™å­—æ¯ã€‚ è§£é¢˜æ€è·¯æˆ‘ä»¬æ±‚æ•´ä¸ªå­—ç¬¦ä¸²çš„æŽ’åˆ—ï¼Œå¯ä»¥çœ‹æˆä¸¤æ­¥ï¼šé¦–å…ˆæ±‚æ‰€æœ‰å¯èƒ½å‡ºçŽ°åœ¨ç¬¬ä¸€ä¸ªä½ç½®çš„å­—ç¬¦ï¼Œå³æŠŠç¬¬ä¸€ä¸ªå­—ç¬¦å’ŒåŽé¢æ‰€æœ‰å­—ç¬¦äº¤æ¢ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ä¸Šå›¾å°±æ˜¯åˆ†åˆ«æŠŠç¬¬ä¸€ä¸ªå­—ç¬¦aå’ŒåŽé¢çš„bã€cç­‰å­—ç¬¦äº¤æ¢çš„æƒ…å½¢ã€‚é¦–å…ˆå›ºå®šç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œæ±‚åŽé¢æ‰€æœ‰å­—ç¬¦çš„æŽ’åˆ—ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬ä»æŠŠåŽé¢çš„æ‰€æœ‰å­—ç¬¦åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šåŽé¢çš„å­—ç¬¦çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œä»¥åŠè¿™ä¸ªå­—ç¬¦ä¹‹åŽçš„æ‰€æœ‰å­—ç¬¦ã€‚ç„¶åŽæŠŠç¬¬ä¸€ä¸ªå­—ç¬¦é€ä¸€å’Œå®ƒåŽé¢çš„å­—ç¬¦äº¤æ¢ã€‚æ˜¯å…¸åž‹çš„é€’å½’æ€è·¯ã€‚1234567891011121314151617181920212223242526272829303132# -*- coding:utf-8 -*-class Solution: def Permutation(self, ss): # write code here if len(ss) == 0: return [] if len(ss) == 1: return [ss] # å†™æ³•1 # res = [] # self.perm(ss, res, '') # uniq = list(set(res)) # return sorted(res) # def perm(self, ss, res, path): # if ss == '': # res.append(path) # else: # for i in range(len(ss)): # self.perm(ss[:i] + ss[i + 1:], res, path + ss[i]) # å†™æ³•2: res = [] for i in range(len(ss)): if i &gt; 1 and ss[i] == ss[i-1]: continue temp = self.Permutation(ss[:i]+ss[i+1:]) for x in temp: res.append(ss[i]+x) return sorted(list(set(res)))if __name__ == '__main__': result = Solution().Permutation('aba') print(result) 34 ç¬¬ä¸€ä¸ªåªå‡ºçŽ°ä¸€æ¬¡çš„å­—ç¬¦é¢˜ç›®æè¿°åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²(0&lt;=å­—ç¬¦ä¸²é•¿åº¦&lt;=10000ï¼Œå…¨éƒ¨ç”±å­—æ¯ç»„æˆ)ä¸­æ‰¾åˆ°ç¬¬ä¸€ä¸ªåªå‡ºçŽ°ä¸€æ¬¡çš„å­—ç¬¦,å¹¶è¿”å›žå®ƒçš„ä½ç½®, å¦‚æžœæ²¡æœ‰åˆ™è¿”å›ž -1ï¼ˆéœ€è¦åŒºåˆ†å¤§å°å†™ï¼‰. è§£é¢˜æ€è·¯æ€è·¯ï¼šä¸¤è½®éåŽ†ç¬¬ä¸€è½®ï¼Œä½¿ç”¨hashè¡¨ï¼Œè®°å½•å„å­—ç¬¦å‡ºçŽ°çš„æ¬¡æ•°ç¬¬äºŒè½®ï¼Œå½“æ¬¡æ•°ä¸º1æ—¶ï¼Œè¿”å›žä½ç½®123456789101112131415161718192021# -*- coding:utf-8 -*-class Solution: def FirstNotRepeatingChar(self, s): # write code here if not s: return -1 if len(s) == 1: return 0 hash = &#123;&#125; for i in range(len(s)): if s[i] not in hash: hash[s[i]] = 1 else: hash[s[i]] += 1 for i in range(len(s)): if hash[s[i]] == 1: return i return -1if __name__ == '__main__': result = Solution().FirstNotRepeatingChar('abcabcdef') print(result) 43 å·¦æ—‹è½¬å­—ç¬¦ä¸²é¢˜ç›®æè¿°æ±‡ç¼–è¯­è¨€ä¸­æœ‰ä¸€ç§ç§»ä½æŒ‡ä»¤å«åšå¾ªçŽ¯å·¦ç§»ï¼ˆROLï¼‰ï¼ŒçŽ°åœ¨æœ‰ä¸ªç®€å•çš„ä»»åŠ¡ï¼Œå°±æ˜¯ç”¨å­—ç¬¦ä¸²æ¨¡æ‹Ÿè¿™ä¸ªæŒ‡ä»¤çš„è¿ç®—ç»“æžœã€‚å¯¹äºŽä¸€ä¸ªç»™å®šçš„å­—ç¬¦åºåˆ—Sï¼Œè¯·ä½ æŠŠå…¶å¾ªçŽ¯å·¦ç§»Kä½åŽçš„åºåˆ—è¾“å‡ºã€‚ä¾‹å¦‚ï¼Œå­—ç¬¦åºåˆ—S=â€abcXYZdefâ€,è¦æ±‚è¾“å‡ºå¾ªçŽ¯å·¦ç§»3ä½åŽçš„ç»“æžœï¼Œå³â€œXYZdefabcâ€ã€‚æ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼ŸOKï¼Œæžå®šå®ƒï¼ è§£é¢˜æ€è·¯æ€è·¯1ï¼šåˆ©ç”¨å­—ç¬¦ä¸²åˆ‡ç‰‡æ€è·¯2ï¼šå¤šæ¬¡ç¿»è½¬ï¼Œå…ˆå°†0~n-1ç¿»è½¬ï¼Œn~len(s)-1ç¿»è½¬ï¼Œæœ€åŽå°†æ•´ä¸ªå­—ç¬¦ä¸²ç¿»è½¬12345678910111213141516171819202122232425# -*- coding:utf-8 -*-class Solution: def LeftRotateString(self, s, n): # write code here if len(s) &lt;= 1: return s n = n % len(s) # å¤„ç†n&gt;len(s)çš„æƒ…å†µ # æ€è·¯1 # return s[k:] + s[:k] # æ€è·¯2 # return (s[:n][::-1]+s[n:][::-1])[::-1] # æ€è·¯2 s = list(s) self.reverse(s,0,n-1) self.reverse(s,n,len(s)-1) self.reverse(s,0,len(s)-1) return "".join(s) def reverse(self, s,start,end): while start &lt; end: s[start],s[end] = s[end],s[start] start += 1 end -= 1if __name__ == '__main__': result = Solution().LeftRotateString('abcXYZdef',4) print(result) 44 ç¿»è½¬å•è¯é¡ºåºåºåˆ—é¢˜ç›®æè¿°ç‰›å®¢æœ€è¿‘æ¥äº†ä¸€ä¸ªæ–°å‘˜å·¥Fishï¼Œæ¯å¤©æ—©æ™¨æ€»æ˜¯ä¼šæ‹¿ç€ä¸€æœ¬è‹±æ–‡æ‚å¿—ï¼Œå†™äº›å¥å­åœ¨æœ¬å­ä¸Šã€‚åŒäº‹Catå¯¹Fishå†™çš„å†…å®¹é¢‡æ„Ÿå…´è¶£ï¼Œæœ‰ä¸€å¤©ä»–å‘Fishå€Ÿæ¥ç¿»çœ‹ï¼Œä½†å´è¯»ä¸æ‡‚å®ƒçš„æ„æ€ã€‚ä¾‹å¦‚ï¼Œâ€œstudent. a am Iâ€ã€‚åŽæ¥æ‰æ„è¯†åˆ°ï¼Œè¿™å®¶ä¼™åŽŸæ¥æŠŠå¥å­å•è¯çš„é¡ºåºç¿»è½¬äº†ï¼Œæ­£ç¡®çš„å¥å­åº”è¯¥æ˜¯â€œI am a student.â€ã€‚Catå¯¹ä¸€ä¸€çš„ç¿»è½¬è¿™äº›å•è¯é¡ºåºå¯ä¸åœ¨è¡Œï¼Œä½ èƒ½å¸®åŠ©ä»–ä¹ˆï¼Ÿ è§£é¢˜æ€è·¯æ€è·¯1ï¼šåˆ†å‰²æˆåˆ—è¡¨ï¼Œç„¶åŽå¯¹åˆ—è¡¨ç¿»è½¬ï¼Œè¿”å›žåˆå¹¶çš„å­—ç¬¦ä¸²ã€‚æ€è·¯2ï¼šå…ˆç¿»è½¬æ•´ä¸ªå­—ç¬¦ä¸²ï¼Œç„¶åŽç¿»è½¬æ¯ä¸ªå•è¯ï¼Œç”¨ä¸¤ä¸ªæŒ‡é’ˆè®°å½•æ¯ä¸ªå•è¯çš„å¼€å§‹å’Œç»“å°¾çš„ä½ç½®ã€‚é‡åˆ° â€˜ â€˜ è¯´æ˜Žå•è¯çš„ç»“å°¾ï¼Œéœ€è¦è°ƒèŠ‚æŒ‡é’ˆã€‚å¦å¤–éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå­—ç¬¦ä¸²ä¸èƒ½ç›´æŽ¥ä¿®æ”¹ï¼Œéœ€è¦è½¬æˆlistä¹‹åŽæ‰èƒ½ç›´æŽ¥å¯¹æ¯ä¸€ä½è¿›è¡Œä¿®æ”¹ã€‚ 123456789101112131415161718192021222324252627282930313233# -*- coding:utf-8 -*-class Solution: def ReverseSentence(self, s): # write code here if not s: return s # æ€è·¯1 # s = s.split(' ') # s.reverse() # return " ".join(s) # æ€è·¯2: if len(s) == 0: return s s = list(s) self.reverse(s, 0, len(s)-1) start, end = 0, 0 while end &lt;= len(s)-1: while end &lt;= len(s)-1 and s[end] != ' ': end += 1 self.reverse(s, start, end-1) start = end+1 end = start return ''.join(s) def reverse(self, s, left, right): i, j = left, right while i &lt;= j: s[i], s[j] = s[j], s[i] i, j = i+1, j-1if __name__ == '__main__': result = Solution().ReverseSentence('student. a am I') print(result) 49 æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆæ•´æ•°é¢˜ç›®æè¿°å°†ä¸€ä¸ªå­—ç¬¦ä¸²è½¬æ¢æˆä¸€ä¸ªæ•´æ•°(å®žçŽ°Integer.valueOf(string)çš„åŠŸèƒ½ï¼Œä½†æ˜¯stringä¸ç¬¦åˆæ•°å­—è¦æ±‚æ—¶è¿”å›ž0)ï¼Œè¦æ±‚ä¸èƒ½ä½¿ç”¨å­—ç¬¦ä¸²è½¬æ¢æ•´æ•°çš„åº“å‡½æ•°ã€‚ æ•°å€¼ä¸º0æˆ–è€…å­—ç¬¦ä¸²ä¸æ˜¯ä¸€ä¸ªåˆæ³•çš„æ•°å€¼åˆ™è¿”å›ž0ã€‚1234è¾“å…¥æè¿°:è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²,åŒ…æ‹¬æ•°å­—å­—æ¯ç¬¦å·,å¯ä»¥ä¸ºç©ºè¾“å‡ºæè¿°:å¦‚æžœæ˜¯åˆæ³•çš„æ•°å€¼è¡¨è¾¾åˆ™è¿”å›žè¯¥æ•°å­—ï¼Œå¦åˆ™è¿”å›ž0 ç¤ºä¾‹1123456è¾“å…¥+2147483647 1a33è¾“å‡º2147483647 0 è§£é¢˜æ€è·¯æ€è·¯1ï¼š ä½¿ç”¨äº†ordå‡½æ•°è€ƒè™‘é¦–ä½æ˜¯å¦æœ‰ç¬¦å·ä½éåŽ†å­—ç¬¦ä¸²ï¼Œå¦‚æžœå­—ç¬¦ä¸²ä¸ºå­—æ¯ï¼Œè·³å‡ºå¾ªçŽ¯å­—ç¬¦0å¯¹åº”çš„ASCIIç ä¸º48ï¼Œå¯¹äºŽæ¯ä¸ªå­—ç¬¦ï¼Œæ±‚å…¶ASCII-48 æ€è·¯2ï¼šä½¿ç”¨hashå°†â€™0â€™~â€™9â€™å’Œæ•°å­—0~9æ˜ å°„ï¼Œåœ¨éåŽ†1234567891011121314151617181920212223242526272829# -*- coding:utf-8 -*-class Solution: def StrToInt(self, s): # write code here if not s: return 0 sign = 1 if s[0] == '+' or s[0] == '-': if s[0] == '-': sign = -1 s = s[1:] # æ€è·¯1 # res = 0 # for x in s: # if x &gt; '9' or x &lt; '0': # return 0 # res = res * 10 + ord(x)- 48 # return res * sign # æ€è·¯2ï¼š dict = &#123;'0':0,'1':1,'2':2,'3':3,'4':4,'5':5,'6':6,'7':7,'8':8,'9':9&#125; res = 0 for x in s: if x &gt; '9' or x &lt; '0': return 0 res = res * 10 + dict[x] return res * signif __name__ == '__main__': result = Solution().StrToInt('-123') print(result) 52 æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…é¢˜ç›®æè¿°è¯·å®žçŽ°ä¸€ä¸ªå‡½æ•°ç”¨æ¥åŒ¹é…åŒ…æ‹¬â€™.â€™å’Œâ€™â€˜çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚æ¨¡å¼ä¸­çš„å­—ç¬¦â€™.â€™è¡¨ç¤ºä»»æ„ä¸€ä¸ªå­—ç¬¦ï¼Œè€Œâ€™â€˜è¡¨ç¤ºå®ƒå‰é¢çš„å­—ç¬¦å¯ä»¥å‡ºçŽ°ä»»æ„æ¬¡ï¼ˆåŒ…å«0æ¬¡ï¼‰ã€‚ åœ¨æœ¬é¢˜ä¸­ï¼ŒåŒ¹é…æ˜¯æŒ‡å­—ç¬¦ä¸²çš„æ‰€æœ‰å­—ç¬¦åŒ¹é…æ•´ä¸ªæ¨¡å¼ã€‚ä¾‹å¦‚ï¼Œå­—ç¬¦ä¸²â€aaaâ€ä¸Žæ¨¡å¼â€a.aâ€å’Œâ€abacaâ€åŒ¹é…ï¼Œä½†æ˜¯ä¸Žâ€aa.aâ€å’Œâ€ab*aâ€å‡ä¸åŒ¹é… è§£é¢˜æ€è·¯æˆ‘ä»¬å…ˆæ¥åˆ†æžå¦‚ä½•åŒ¹é…ä¸€ä¸ªå­—ç¬¦ï¼ŒçŽ°åœ¨åªè€ƒè™‘â€™.â€™ï¼Œä¸è€ƒè™‘â€™*â€™ï¼š å¦‚æžœå­—ç¬¦ä¸²å’Œæ¨¡å¼ä¸²çš„å½“å‰å­—ç¬¦ç›¸ç­‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç»§ç»­åŒ¹é…å®ƒä»¬çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼›å¦‚æžœæ¨¡å¼ä¸²ä¸­çš„å­—ç¬¦æ˜¯â€™.â€™ï¼Œé‚£ä¹ˆå®ƒå¯ä»¥åŒ¹é…å­—ç¬¦ä¸²ä¸­çš„ä»»æ„å­—ç¬¦ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç»§ç»­åŒ¹é…å®ƒä»¬çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ã€‚ æŽ¥ä¸‹æ¥ï¼ŒæŠŠå­—ç¬¦â€™â€˜è€ƒè™‘è¿›åŽ»ï¼Œå®ƒå¯ä»¥åŒ¹é…ä»»æ„æ¬¡çš„å­—ç¬¦ï¼Œå½“ç„¶å‡ºçŽ°0æ¬¡ä¹Ÿå¯ä»¥ï¼š è€Œå½“æ¨¡å¼ä¸­çš„ç¬¬äºŒä¸ªå­—ç¬¦æ˜¯æ—¶ï¼š å¦‚æžœå­—ç¬¦ä¸²ç¬¬ä¸€ä¸ªå­—ç¬¦è·Ÿæ¨¡å¼ç¬¬ä¸€ä¸ªå­—ç¬¦åŒ¹é…ï¼ˆåŒ…æ‹¬æ¨¡å¼ä¸²ä¸ºâ€™.â€™çš„æƒ…å†µï¼‰ï¼Œå¯ä»¥æœ‰3ç§åŒ¹é…æ–¹å¼ï¼š 1. æ¨¡å¼åŽç§»2å­—ç¬¦ï¼Œç›¸å½“äºŽx*è¢«å¿½ç•¥ï¼› 2. å­—ç¬¦ä¸²åŽç§»1å­—ç¬¦ï¼Œæ¨¡å¼åŽç§»2å­—ç¬¦ï¼Œæ­£å¥½åŒ¹é…x*ä¸­çš„&#39;x&#39;ä½ï¼› 3. å­—ç¬¦ä¸²åŽç§»1å­—ç¬¦ï¼Œæ¨¡å¼ä¸å˜ï¼Œå³ç»§ç»­åŒ¹é…å­—ç¬¦ä¸‹ä¸€ä½ï¼Œå› ä¸º*å¯ä»¥åŒ¹é…å¤šä½ï¼› å¦‚æžœå­—ç¬¦ä¸²ç¬¬ä¸€ä¸ªå­—ç¬¦è·Ÿæ¨¡å¼ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸åŒ¹é…ï¼Œåˆ™æ¨¡å¼åŽç§»2ä¸ªå­—ç¬¦ï¼Œç»§ç»­åŒ¹é…ï¼Œç›¸å½“äºŽæŠŠæ¨¡å¼ä¸²ä¸­çš„å½“å‰å­—ç¬¦å’Œ&#39;*&#39;å¿½ç•¥æŽ‰ã€‚ å½“æ¨¡å¼ä¸­çš„ç¬¬äºŒä¸ªå­—ç¬¦ä¸æ˜¯*æ—¶ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢è¯´çš„åªæœ‰å­—ç¬¦&#39;.&#39;çš„æƒ…å†µã€‚ 1. å¦‚æžœå­—ç¬¦ä¸²ç¬¬ä¸€ä¸ªå­—ç¬¦å’Œæ¨¡å¼ä¸­çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ç›¸åŒ¹é…ï¼ˆåŒ…æ‹¬æ¨¡å¼ä¸²ä¸º&#39;.&#39;çš„æƒ…å†µï¼‰ï¼Œé‚£ä¹ˆå­—ç¬¦ä¸²å’Œæ¨¡å¼éƒ½åŽç§»ä¸€ä¸ªå­—ç¬¦ï¼Œç„¶åŽåŒ¹é…å‰©ä½™çš„ã€‚ 2. å¦‚æžœå­—ç¬¦ä¸²ç¬¬ä¸€ä¸ªå­—ç¬¦å’Œæ¨¡å¼ä¸­çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ç›¸ä¸åŒ¹é…ï¼Œç›´æŽ¥è¿”å›žfalseã€‚ 12345678910111213141516171819# -*- coding:utf-8 -*-class Solution: # s, patternéƒ½æ˜¯å­—ç¬¦ä¸² def match(self, s, pattern): if s == pattern: return True if not pattern: return False if len(pattern) &gt; 1 and pattern[1] == '*': if s and (s[0] == pattern[0] or pattern[0] == '.'): return self.match(s,pattern[2:]) or self.match(s[1:],pattern[2:]) or self.match(s[1:],pattern) else: return self.match(s,pattern[2:]) elif s and (s[0] == pattern[0] or pattern[0] == '.'): return self.match(s[1:],pattern[1:]) return Falseif __name__ == '__main__': result = Solution().match('a','.') print(result) 53 è¡¨ç¤ºæ•°å€¼çš„å­—ç¬¦ä¸²é¢˜ç›®æè¿°è¯·å®žçŽ°ä¸€ä¸ªå‡½æ•°ç”¨æ¥åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦è¡¨ç¤ºæ•°å€¼ï¼ˆåŒ…æ‹¬æ•´æ•°å’Œå°æ•°ï¼‰ã€‚ä¾‹å¦‚ï¼Œå­—ç¬¦ä¸²â€+100â€,â€5e2â€,â€-123â€,â€3.1416â€å’Œâ€-1E-16â€éƒ½è¡¨ç¤ºæ•°å€¼ã€‚ ä½†æ˜¯â€12eâ€,â€1a3.14â€,â€1.2.3â€,â€+-5â€å’Œâ€12e+4.3â€éƒ½ä¸æ˜¯ã€‚ è§£é¢˜æ€è·¯å®šä¹‰ä¸¤ä¸ªæ ‡å¿—ä½ï¼Œåˆ†åˆ«è¡¨ç¤ºEæˆ–è€…eæ˜¯å¦å‡ºçŽ°è¿‡ï¼Œä»¥åŠå°æ•°ç‚¹.æ˜¯å¦å‡ºçŽ°è¿‡ã€‚ ä»¥eï¼ˆæˆ–Eï¼‰ä¸ºåˆ†éš”ï¼ŒèŽ·å¾—ä¸¤ä¸ªå­å­—ç¬¦ä¸²ï¼›eä¹‹å‰çš„å­—ç¬¦ä¸²å°æ•°ç‚¹åªèƒ½å‡ºçŽ°ä¸€æ¬¡ï¼›eä¹‹åŽçš„å­—ç¬¦ä¸²ä¸å…è®¸å‡ºçŽ°å°æ•°ç‚¹ï¼› ç¬¦å·ä½+æˆ–-åªå¯èƒ½å‡ºçŽ°åœ¨ä¸¤ä¸ªå­å­—ç¬¦ä¸²çš„é¦–ä½ï¼› eï¼ˆæˆ–Eï¼‰ã€å°æ•°ç‚¹.ä¸èƒ½å‡ºçŽ°åœ¨æœ«å°¾12345678910111213141516171819202122# -*- coding:utf-8 -*-class Solution: # så­—ç¬¦ä¸² def isNumeric(self, s): # write code here isAllowDot = True isAllowE = True for i in range(len(s)): if (i==0 or s[i-1] in 'eE') and s[i] in '+-' and i &lt; len(s)-1: continue elif isAllowDot and s[i]=='.': isAllowDot = False if i &gt;= len(s)-1 or s[i+1] not in '0123456789': return False elif isAllowE and s[i] in 'eE': isAllowDot = False isAllowE = False if i&gt;=len(s)-1 or s[i+1] not in '0123456789+-': return False elif s[i] not in '0123456789': return False return True]]></content>
      <categories>
        <category>å‰‘æŒ‡offer</category>
      </categories>
      <tags>
        <tag>å‰‘æŒ‡offer</tag>
        <tag>ç®—æ³•é¢˜è§£</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‰‘æŒ‡offeré¢˜è§£ - æ ‘]]></title>
    <url>%2F2019%2F05%2F13%2F%E5%89%91%E6%8C%87offer-%E6%A0%91%2F</url>
    <content type="text"><![CDATA[æœ¬ç³»åˆ—ä¸ºå‰‘æŒ‡offeråˆ·é¢˜ç¬”è®°ï¼Œåˆ·é¢˜å¹³å°ä¸ºç‰›å®¢ç½‘ã€‚é¢˜é‡ä¸º66é“ï¼Œæœ¬ç³»åˆ—æ‰€æœ‰é¢˜è§£æ±‡æ€»å¦‚ä¸‹ï¼š å‰‘æŒ‡offeré¢˜è§£ - é“¾è¡¨å‰‘æŒ‡offeré¢˜è§£ - æ ‘å‰‘æŒ‡offeré¢˜è§£ - æ•°ç»„å‰‘æŒ‡offeré¢˜è§£ - å­—ç¬¦ä¸²å‰‘æŒ‡offeré¢˜è§£ - æ ˆå‰‘æŒ‡offeré¢˜è§£ - é€’å½’å‰‘æŒ‡offeré¢˜è§£ - å›žæº¯å‰‘æŒ‡offeré¢˜è§£ - å…¶ä»– æœ¬æ–‡ä¸»è¦æ˜¯æ ‘ç›¸å…³é¢˜ç›®é¢˜è§£æ€»ç»“ã€‚ 4 é‡å»ºäºŒå‰æ ‘é¢˜ç›®æè¿°è¾“å…¥æŸäºŒå‰æ ‘çš„å‰åºéåŽ†å’Œä¸­åºéåŽ†çš„ç»“æžœï¼Œè¯·é‡å»ºå‡ºè¯¥äºŒå‰æ ‘ã€‚å‡è®¾è¾“å…¥çš„å‰åºéåŽ†å’Œä¸­åºéåŽ†çš„ç»“æžœä¸­éƒ½ä¸å«é‡å¤çš„æ•°å­—ã€‚ä¾‹å¦‚è¾“å…¥å‰åºéåŽ†åºåˆ—{1,2,4,7,3,5,6,8}å’Œä¸­åºéåŽ†åºåˆ—{4,7,2,1,5,3,8,6}ï¼Œåˆ™é‡å»ºäºŒå‰æ ‘å¹¶è¿”å›žã€‚ è§£é¢˜æ€è·¯å‰åºéåŽ†å…ˆæ ¹èŠ‚ç‚¹å†å·¦å­æ ‘æœ€åŽå³å­æ ‘ï¼Œç¬¬ä¸€ä¸ªå…ƒç´ è‚¯å®šæ˜¯æ ¹èŠ‚ç‚¹ï¼Œç„¶åŽåœ¨ä¸­åºéåŽ†ä¸­å¯»æ‰¾æ ¹èŠ‚ç‚¹çš„ç´¢å¼•ï¼ŒæŒ‰ç…§ä¸­åºéåŽ†çš„è§„åˆ™ï¼šå…ˆå·¦å­æ ‘å†æ ¹èŠ‚ç‚¹æœ€åŽå³å­æ ‘ï¼Œæ ¹èŠ‚ç‚¹å‰çš„ä¸€å®šæ˜¯å·¦å­æ ‘çš„ä¸­åºæ•°ç»„ï¼Œæ ¹èŠ‚ç‚¹åŽçš„ä¸€å®šæ˜¯å³å­æ ‘çš„ä¸­åºæ•°ç»„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æ¯æ¬¡éƒ½éœ€è¦åœ¨å‰åºéåŽ†ä¸­æ‰¾æ ¹ç»“ç‚¹å¹¶åˆ›å»ºä¸€ä¸ªæ ¹ç»“ç‚¹ï¼Œç„¶åŽåœ¨ä¸­åºéåŽ†ä¸­ç¡®å®šæ ¹ç»“ç‚¹ä½ç½®ï¼Œå¹¶ç¡®å®šå½“å‰æ ¹ç»“ç‚¹çš„å·¦å³å­æ ‘ï¼Œç„¶åŽä»¥åŒæ ·çš„æ–¹æ³•åŽ»æž„å»ºå·¦å³å­æ ‘ã€‚è¿™æ•´ä¸ªè¿‡ç¨‹æ˜¯ä¸€ä¸ªé€’å½’çš„è¿‡ç¨‹ã€‚ 123456789101112131415161718192021# -*- coding:utf-8 -*-# class TreeNode:# def __init__(self, x):# self.val = x# self.left = None# self.right = Noneclass Solution: # è¿”å›žæž„é€ çš„TreeNodeæ ¹èŠ‚ç‚¹ def reConstructBinaryTree(self, pre, tin): # write code here if len(pre) == 0 or len(pre) != len(tin): return None rootval = pre[0] index = tin.index(rootval) root = TreeNode(rootval) root.left = self.reConstructBinaryTree(pre[1:index+1], tin[:index]) root.right = self.reConstructBinaryTree(pre[index+1:], tin[index+1:]) return root 17 æ ‘çš„å­ç»“æž„é¢˜ç›®æè¿°è¾“å…¥ä¸¤æ£µäºŒå‰æ ‘Aï¼ŒBï¼Œåˆ¤æ–­Bæ˜¯ä¸æ˜¯Açš„å­ç»“æž„ã€‚ï¼ˆpsï¼šæˆ‘ä»¬çº¦å®šç©ºæ ‘ä¸æ˜¯ä»»æ„ä¸€ä¸ªæ ‘çš„å­ç»“æž„ï¼‰ è§£é¢˜æ€è·¯å¦‚æžœæ ‘1æˆ–æ ‘2ä¸ºç©ºæ—¶ï¼Œè¿”å›žFalseåœ¨æ ‘1ä¸­æ‰¾åˆ°å’Œæ ‘2ä¸€æ ·çš„æ ¹ç»“ç‚¹Rï¼Œç„¶åŽåœ¨åˆ¤æ–­æ ‘1ä¸­ä»¥Rä¸ºæ ¹ç»“ç‚¹çš„å­æ ‘æ˜¯å¦ä¸Žæ ‘2æœ‰ä¸€æ ·çš„ç»“æž„ã€‚å…ˆä»¥æ ‘1 çš„æ ¹ç»“ç‚¹ä¸ºèµ·ç‚¹å¯»æ‰¾æ˜¯å¦åŒ…å«æ ‘Bï¼Œå¦‚æžœæ‰¾ä¸åˆ°å°±ä»¥æ ‘Açš„å·¦ç»“ç‚¹ä¸ºèµ·ç‚¹å¯»æ‰¾ï¼Œè‹¥è¿˜æ‰¾ä¸åˆ°ï¼Œä»¥æ ‘Açš„å³ç»“ç‚¹ä¸ºèµ·ç‚¹å¯»æ‰¾ï¼Œé€’å½’è¿›è¡Œ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546# -*- coding:utf-8 -*-class TreeNode: def __init__(self,x): self.val = x self.left = None self.right = Nonenode1 = TreeNode(1)node2 = TreeNode(2)node3 = TreeNode(3)node4 = TreeNode(4)node5 = TreeNode(5)node1.left = node2node2.right = node3node3.left = node4node3.right = node5class Solution: def HasSubtree(self, pRoot1, pRoot2): # write code here if not pRoot1 or not pRoot2: return False result = False if pRoot1.val == pRoot2.val: # æ‰¾åˆ°æ ¹ç»“ç‚¹ç›¸åŒçš„ç»“ç‚¹ result = self.isSubTree(pRoot1, pRoot2) if not result: # æ²¡æ‰¾åˆ°ï¼Œåœ¨å·¦å­æ ‘å¯»æ‰¾ result = self.HasSubtree(pRoot1.left, pRoot2) if not result: # è¿˜æ²¡æ‰¾åˆ°ï¼Œåœ¨å³å­æ ‘å¯»æ‰¾ result = self.HasSubtree(pRoot1.right, pRoot2) return result def isSubTree(self,tree1, tree2): if not tree2: return True if not tree1: return False if tree1.val != tree2.val: return False return self.isSubTree(tree1.left,tree2.left) and self.isSubTree(tree1.right,tree2.right)if __name__ == '__main__': result = Solution().HasSubtree(node1, node3) print(result) 123456789101112131415161718192021222324# -*- coding:utf-8 -*-# class TreeNode:# def __init__(self, x):# self.val = x# self.left = None# self.right = Noneclass Solution: def HasSubtree(self, pRoot1, pRoot2): # write code here if not pRoot1 or not pRoot2: return False result = False if pRoot1.val == pRoot2.val: result = self.judge(pRoot1, pRoot2) return result or self.HasSubtree(pRoot1.left, pRoot2) or self.HasSubtree(pRoot1.right, pRoot2) def judge(self, pRoot1, pRoot2): if not pRoot2: return True if not pRoot1 or pRoot1.val != pRoot2.val: return False return self.judge(pRoot1.left, pRoot2.left) and self.judge(pRoot1.right, pRoot2.right) 18 äºŒå‰æ ‘çš„é•œåƒé¢˜ç›®æè¿°æ“ä½œç»™å®šçš„äºŒå‰æ ‘ï¼Œå°†å…¶å˜æ¢ä¸ºæºäºŒå‰æ ‘çš„é•œåƒã€‚è¾“å…¥æè¿°:123456789101112äºŒå‰æ ‘çš„é•œåƒå®šä¹‰ï¼šæºäºŒå‰æ ‘ 8 / \ 6 10 / \ / \ 5 7 9 11 é•œåƒäºŒå‰æ ‘ 8 / \ 10 6 / \ / \ 11 9 7 5 è§£é¢˜æ€è·¯é€’å½’ï¼Œåˆ¤æ–­æ ¹èŠ‚ç‚¹æ˜¯å¦ä¸ºç©ºï¼Œä¸ºç©ºæ—¶ï¼Œæ— éœ€äº¤æ¢ï¼Œä¸ä¸ºç©ºæ—¶ï¼Œäº¤æ¢å…¶å·¦å³èŠ‚ç‚¹ã€‚å¯¹å·¦å³å­æ ‘è¿›è¡Œé€’å½’ã€‚12345678910111213141516171819202122232425262728293031323334353637383940# -*- coding:utf-8 -*-class TreeNode: def __init__(self,x): self.val = x self.left = None self.right = Nonenode1 = TreeNode(8)node2 = TreeNode(6)node3 = TreeNode(10)node4 = TreeNode(5)node5 = TreeNode(7)node6 = TreeNode(9)node7 = TreeNode(11)node1.left = node2node1.right = node3node2.left = node4node2.right = node5node3.left = node6node3.right = node7class Solution: # è¿”å›žé•œåƒæ ‘çš„æ ¹èŠ‚ç‚¹ def Mirror(self, root): # é€’å½’ if not root: return temp = root.left root.left = root.right root.right = temp # if root.left: self.Mirror(root.left) # if root.right: self.Mirror(root.right) return rootif __name__ == '__main__': result = Solution().Mirror(node1) print(result) è¿­ä»£ã€‚ä½¿ç”¨æ ˆ123456789101112131415161718192021222324# -*- coding:utf-8 -*-# class TreeNode:# def __init__(self, x):# self.val = x# self.left = None# self.right = Noneclass Solution: # è¿”å›žé•œåƒæ ‘çš„æ ¹èŠ‚ç‚¹ def Mirror(self, root): # write code here if not root: return None stack = [root] while stack: node = stack.pop(0) temp = node.left node.left = node.right node.right = temp if node.left: stack.append(node.left) if node.right: stack.append(node.right) return root 22 ä»Žä¸Šå¾€ä¸‹æ‰“å°äºŒå‰æ ‘é¢˜ç›®æè¿°ä»Žä¸Šå¾€ä¸‹æ‰“å°å‡ºäºŒå‰æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹ï¼ŒåŒå±‚èŠ‚ç‚¹ä»Žå·¦è‡³å³æ‰“å°ã€‚ è§£é¢˜æ€è·¯æ€è·¯:ä½¿ç”¨é˜Ÿåˆ— å› ä¸ºæŒ‰å±‚æ‰“å°çš„é¡ºåºå†³å®šåº”è¯¥å…ˆæ‰“å°æ ¹ç»“ç‚¹ï¼Œæ‰€ä»¥æˆ‘ä»¬ä»Žæ ‘çš„æ ¹ç»“ç‚¹8å¼€å§‹åˆ†æžã€‚ä¸ºäº†æŽ¥ä¸‹æ¥èƒ½å¤Ÿæ‰“å°å€¼ä¸º8çš„ä¸¤ä¸ªå­ç»“ç‚¹ï¼Œæˆ‘ä»¬åº”è¯¥éåŽ†è¯¥ç»“ç‚¹æ—¶æŠŠå€¼ä¸º6å’Œ10çš„ä¸¤ä¸ªç»“ç‚¹ä¿å­˜åˆ°ä¸€ä¸ªå®¹å™¨é‡Œï¼ŒçŽ°åœ¨å®¹å™¨å†…å°±æœ‰ä¸¤ä¸ªç»“ç‚¹äº†ã€‚æŒ‰ç…§ä»Žå·¦åˆ°å³æ‰“å°çš„è¦æ±‚ï¼Œæˆ‘ä»¬å…ˆå–å‡ºä¸º6çš„ç»“ç‚¹ã€‚æ‰“å°å‡ºå€¼6ä¹‹åŽæŠŠå®ƒçš„å€¼åˆ†åˆ«ä¸º5å’Œ7çš„ä¸¤ä¸ªç»“ç‚¹æ”¾å…¥æ•°æ®å®¹å™¨ã€‚æ­¤æ—¶æ•°æ®å®¹å™¨ä¸­æœ‰ä¸‰ä¸ªç»“ç‚¹ï¼Œå€¼ä¸º10,5å’Œ7ã€‚æŽ¥ä¸‹æ¥æˆ‘ä»¬ä»Žå®¹å™¨ä¸­å–å‡ºå€¼ä¸º10çš„ç»“ç‚¹ï¼Œæ³¨æ„åˆ°å€¼ä¸º10çš„ç»“ç‚¹æ¯”å€¼ä¸º5,7çš„ç»“ç‚¹å…ˆæ”¾å…¥å®¹å™¨ï¼Œæ­¤æ—¶åˆæ¯”è¿™ä¸¤ä¸ªç»“ç‚¹å…ˆå–å‡ºï¼ŒåŒæ—¶å°†9å’Œ11æ”¾å…¥æ•°æ®å®¹å™¨ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬é€šå¸¸è¯´çš„å…ˆå…¥å…ˆå‡ºï¼Œå› æ­¤æ•°æ®å®¹å™¨ä¸ºä¸€ä¸ªé˜Ÿåˆ—ã€‚ç”±äºŽå€¼ä¸º5,7,9,11çš„ç»“ç‚¹éƒ½æ²¡æœ‰å­ç»“ç‚¹ï¼Œå› æ­¤åªè¦ä¾æ¬¡æ‰“å°å³å¯ã€‚ é€šè¿‡ä¾‹å­ï¼Œæˆ‘ä»¬æ‰¾åˆ°ä»Žä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘çš„è§„å¾‹ï¼šæ¯ä¸€æ¬¡æ‰“å°ä¸€ä¸ªç»“ç‚¹çš„æ—¶å€™ï¼Œå¦‚æžœè¯¥ç»“ç‚¹æœ‰å­ç»“ç‚¹ï¼Œåˆ™æŠŠè¯¥ç»“ç‚¹çš„å·¦å³ç»“ç‚¹ä¾æ¬¡æ”¾åˆ°ä¸€ä¸ªé˜Ÿåˆ—çš„æœ«å°¾ã€‚æŽ¥ä¸‹æ¥åˆ°é˜Ÿåˆ—çš„å¤´éƒ¨å–å‡ºæœ€æ—©è¿›å…¥é˜Ÿåˆ—çš„ç»“ç‚¹ï¼Œé‡å¤å‰é¢çš„æ‰“å°æ“ä½œï¼Œç›´åˆ°é˜Ÿåˆ—ä¸­æ‰€æœ‰ç»“ç‚¹éƒ½æ‰“å°å‡ºæ¥ä¸ºæ­¢ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041# -*- coding:utf-8 -*-class TreeNode: def __init__(self, x): self.val = x self.left = None self.right = Nonenode1 = TreeNode(8)node2 = TreeNode(6)node3 = TreeNode(10)node4 = TreeNode(5)node5 = TreeNode(7)node6 = TreeNode(9)node7 = TreeNode(11)node1.left = node2node1.right = node3node2.left = node4node2.right = node5node3.left = node6node3.right = node7class Solution: # è¿”å›žä»Žä¸Šåˆ°ä¸‹æ¯ä¸ªèŠ‚ç‚¹å€¼åˆ—è¡¨ï¼Œä¾‹ï¼š[1,2,3] def PrintFromTopToBottom(self, root): # write code here ans = [] if not root: return ans queue = [] queue.append(root) while queue: cur = queue.pop(0) ans.append(cur.val) if cur.left: queue.append(cur.left) if cur.right: queue.append(cur.right) return ansif __name__ == '__main__': result = Solution().PrintFromTopToBottom(node1) print(result) é€’å½’123456789101112131415161718192021222324252627282930# -*- coding:utf-8 -*-# class TreeNode:# def __init__(self, x):# self.val = x# self.left = None# self.right = Noneclass Solution: # è¿”å›žä»Žä¸Šåˆ°ä¸‹æ¯ä¸ªèŠ‚ç‚¹å€¼åˆ—è¡¨ï¼Œä¾‹ï¼š[1,2,3] def PrintFromTopToBottom(self, root): # write code here if not root: return [] res = [] self.level(root, 0, res) ans = [] for x in res: ans += x return ans def level(self, root, level, res): if not root: return if level == len(res): res.append([]) res[level].append(root.val) self.level(root.left, level+1, res) self.level(root.right, level+1, res) 23 äºŒå‰æœç´¢æ ‘çš„åŽåºéåŽ†åºåˆ—é¢˜ç›®æè¿°è¾“å…¥ä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œåˆ¤æ–­è¯¥æ•°ç»„æ˜¯ä¸æ˜¯æŸäºŒå‰æœç´¢æ ‘çš„åŽåºéåŽ†çš„ç»“æžœã€‚å¦‚æžœæ˜¯åˆ™è¾“å‡ºYes,å¦åˆ™è¾“å‡ºNoã€‚å‡è®¾è¾“å…¥çš„æ•°ç»„çš„ä»»æ„ä¸¤ä¸ªæ•°å­—éƒ½äº’ä¸ç›¸åŒã€‚ è§£é¢˜æ€è·¯ ä»¥[5,7,6,9,11,10,8]ä¸ºä¾‹ï¼ŒåŽåºéåŽ†ç»“æžœçš„æœ€åŽä¸€ä¸ªæ•°å­—8 å°±æ˜¯æ ¹ç»“ç‚¹çš„å€¼ï¼Œåœ¨è¿™ä¸ªæ•°ç»„ä¸­ï¼Œå‰ä¸‰ä¸ªæ•°å­—5ã€7å’Œ6éƒ½æ¯”8å°ï¼Œæ˜¯å€¼ä¸º8çš„ç»“ç‚¹çš„å·¦å­æ ‘ç»“ç‚¹ï¼›åŽä¸‰ä¸ªæ•°å­—9ã€11å’Œ10éƒ½æ¯”8å¤§ï¼Œæ˜¯å€¼ä¸º8çš„ç»“ç‚¹çš„å³å­æ ‘ã€‚ ç”¨åŒæ ·çš„æ–¹æ³•ç¡®å®šä¸Žæ•°ç»„æ¯ä¸€éƒ¨åˆ†å¯¹åº”çš„å­æ ‘çš„ç»“æž„ï¼Œè¿™å…¶å®žå°±æ˜¯ä¸€ä¸ªé€’å½’çš„è¿‡ç¨‹ï¼Œå¯¹äºŽåºåˆ—5,7,6ï¼Œæœ€åŽä¸€ä¸ªæ•°å­—6æ˜¯å·¦å­æ ‘çš„æ ¹ç»“ç‚¹çš„å€¼ï¼Œæ•°å­—5æ¯”6å°ï¼Œæ˜¯å€¼ä¸º6çš„ç»“ç‚¹çš„å·¦å­ç»“ç‚¹ï¼Œè€Œ7åˆ™æ˜¯å®ƒçš„å³å­ç»“ç‚¹ã€‚åŒæ ·ï¼Œåœ¨åºåˆ—9ã€11ã€10ä¸­ï¼Œæœ€åŽä¸€ä¸ªæ•°å­—10æ˜¯å³å­æ ‘çš„æ ¹ç»“ç‚¹ï¼Œæ•°å­—9æ¯”10å°ï¼Œæ˜¯å€¼ä¸º10çš„ç»“ç‚¹çš„å·¦å­ç»“ç‚¹ï¼Œè€Œ11åˆ™æ˜¯å®ƒçš„å³å­ç»“ç‚¹ã€‚ ä½¿ç”¨é€’å½’çš„æ–¹æ³•ï¼Œå…ˆåˆ¤æ–­æ•°ç»„çš„å·¦å­æ ‘å’Œå³å­æ ‘çš„ä½ç½®ï¼Œæ‰¾å‡ºå·¦å­æ ‘åŽã€‚åˆ¤æ–­å³å­æ ‘æ˜¯ä¸æ˜¯äºŒå‰æœç´¢æ ‘ã€‚ 12345678910111213141516171819202122232425# -*- coding:utf-8 -*-class Solution: def VerifySquenceOfBST(self, sequence): # write code here if len(sequence) == 0: return False if len(sequence) &lt;= 2: return True rootval = sequence[-1] k = 0 while k &lt; len(sequence)-1 and sequence[k] &lt; rootval: k += 1 for i in range(k, len(sequence)-1): if sequence[i] &lt;= rootval: return False left = right = True if sequence[:k]: left = self.VerifySquenceOfBST(sequence[:k]) if sequence[k:-1]: right = self.VerifySquenceOfBST(sequence[k:-1]) return left and right 24 äºŒå‰æ ‘ä¸­å’Œä¸ºæŸä¸€å€¼çš„è·¯å¾„é¢˜ç›®æè¿°è¾“å…¥ä¸€é¢—äºŒå‰æ ‘çš„è·ŸèŠ‚ç‚¹å’Œä¸€ä¸ªæ•´æ•°ï¼Œæ‰“å°å‡ºäºŒå‰æ ‘ä¸­ç»“ç‚¹å€¼çš„å’Œä¸ºè¾“å…¥æ•´æ•°çš„æ‰€æœ‰è·¯å¾„ã€‚è·¯å¾„å®šä¹‰ä¸ºä»Žæ ‘çš„æ ¹ç»“ç‚¹å¼€å§‹å¾€ä¸‹ä¸€ç›´åˆ°å¶ç»“ç‚¹æ‰€ç»è¿‡çš„ç»“ç‚¹å½¢æˆä¸€æ¡è·¯å¾„ã€‚(æ³¨æ„: åœ¨è¿”å›žå€¼çš„listä¸­ï¼Œæ•°ç»„é•¿åº¦å¤§çš„æ•°ç»„é å‰) è§£é¢˜æ€è·¯é€’å½’ï¼Œæ·±åº¦ä¼˜å…ˆæœç´¢ï¼Œä½¿ç”¨å‰åºéåŽ†ã€‚æ¯æ¬¡éåŽ†ï¼Œåˆ¤æ–­å½“å‰rootæ˜¯å¦åŒæ—¶æ»¡è¶³ï¼š ä¸Žç»™å®šæ•°å€¼ç›¸ç­‰ å·¦å­æ ‘ä¸ºç©º å³å­æ ‘ä¸ºç©º å¦‚æžœæ»¡è¶³æ¡ä»¶ï¼Œè¿”å›žvalå€¼ã€‚å¦‚æžœä¸æ˜¯å¶å­ç»“ç‚¹ï¼Œæˆ‘ä»¬åˆ†åˆ«å¯¹æ ¹ç»“ç‚¹çš„å·¦å­æ ‘å³å­æ ‘è¿›è¡Œé€’å½’ï¼Œç›´åˆ°æ‰¾åˆ°å¶å­ç»“ç‚¹ï¼Œç„¶åŽéåŽ†æŠŠå¶å­ç»“ç‚¹å’Œçˆ¶èŠ‚ç‚¹å¯¹åº”çš„valç»„æˆçš„åºåˆ—è¿”å›žä¸Šä¸€å±‚ï¼›å¦‚æžœå¶å­ç»“ç‚¹ä¸æ»¡è¶³ä¸Žç»™å®šå€¼ç›¸ç­‰ï¼Œå…¶å®žä¹Ÿè¿”å›žäº†åºåˆ—ï¼Œåªä¸è¿‡æ˜¯ç©ºåºåˆ—ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950# -*- coding:utf-8 -*-class TreeNode: def __init__(self, x): self.val = x self.left = None self.right = Nonenode1 = TreeNode(8)node2 = TreeNode(6)node3 = TreeNode(10)node4 = TreeNode(5)node5 = TreeNode(7)node6 = TreeNode(9)node7 = TreeNode(1)node1.left = node2node1.right = node3node2.left = node4node2.right = node5node3.left = node6node3.right = node7# -*- coding:utf-8 -*-# class TreeNode:# def __init__(self, x):# self.val = x# self.left = None# self.right = Noneclass Solution: # è¿”å›žäºŒç»´åˆ—è¡¨ï¼Œå†…éƒ¨æ¯ä¸ªåˆ—è¡¨è¡¨ç¤ºæ‰¾åˆ°çš„è·¯å¾„ def FindPath(self, root, expectNumber): # write code here if not root: return [] res = [] self.dfs(root, expectNumber, [root.val], res) return res def dfs(self, root, expectNumber, path, res): if not root: return if not root.left and not root.right and sum(path) == expectNumber: res.append(path) return if root.left: self.dfs(root.left, expectNumber, path+[root.left.val], res) if root.right: self.dfs(root.right, expectNumber, path+[root.right.val], res)if __name__ == '__main__': result = Solution().FindPath(node1, 19) print(result) 26äºŒå‰æœç´¢æ ‘ä¸ŽåŒå‘é“¾è¡¨é¢˜ç›®æè¿°è¾“å…¥ä¸€æ£µäºŒå‰æœç´¢æ ‘ï¼Œå°†è¯¥äºŒå‰æœç´¢æ ‘è½¬æ¢æˆä¸€ä¸ªæŽ’åºçš„åŒå‘é“¾è¡¨ã€‚è¦æ±‚ä¸èƒ½åˆ›å»ºä»»ä½•æ–°çš„ç»“ç‚¹ï¼Œåªèƒ½è°ƒæ•´æ ‘ä¸­ç»“ç‚¹æŒ‡é’ˆçš„æŒ‡å‘ã€‚ è§£é¢˜æ€è·¯ äºŒå‰æœç´¢æ ‘å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬å°†å…¶è½¬æ¢ä¸ºæŽ’åºåŒå‘é“¾è¡¨æ ¹æ®äºŒå‰æœç´¢æ ‘çš„ç‰¹ç‚¹ï¼šå·¦ç»“ç‚¹çš„å€¼&lt;æ ¹ç»“ç‚¹çš„å€¼&lt;å³ç»“ç‚¹çš„å€¼ï¼Œæˆ‘ä»¬ä¸éš¾å‘çŽ°ï¼Œä½¿ç”¨äºŒå‰æ ‘çš„ä¸­åºéåŽ†å‡ºæ¥çš„æ•°æ®çš„æŽ’åºï¼Œå°±æ˜¯æŽ’åºçš„é¡ºåºã€‚å› æ­¤ï¼Œç¡®å®šäº†äºŒå‰æœç´¢æ ‘çš„éåŽ†æ–¹æ³•ã€‚æŽ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæ ‘åˆ†æˆä¸‰éƒ¨åˆ†ï¼Œå€¼ä¸º10çš„ç»“ç‚¹ï¼Œæ ¹èŠ‚ç‚¹ä¸º6çš„å·¦å­æ ‘ï¼Œæ ¹ç»“ç‚¹ä¸º14çš„å³å­æ ‘ã€‚æ ¹æ®æŽ’åºåŒå‘é“¾è¡¨çš„å®šä¹‰ï¼Œå€¼ä¸º10çš„ç»“ç‚¹å°†å’Œå®ƒçš„å·¦å­æ ‘çš„æœ€å¤§ä¸€ä¸ªç»“ç‚¹é“¾æŽ¥èµ·æ¥ï¼ŒåŒæ—¶å®ƒè¿˜å°†å’Œå³å­æ ‘æœ€å°çš„ç»“ç‚¹é“¾æŽ¥èµ·æ¥ã€‚ æ ¹æ®ä¸­åºéåŽ†çš„é¡ºåºï¼Œå½“æˆ‘ä»¬éåŽ†åˆ°æ ¹ç»“ç‚¹æ—¶ï¼Œå®ƒçš„å·¦å­æ ‘å·²ç»è½¬æ¢æˆä¸€ä¸ªæŽ’åºçš„å¥½çš„åŒå‘é“¾è¡¨äº†ï¼Œå¹¶ä¸”å¤„åœ¨é“¾è¡¨ä¸­æœ€åŽä¸€ä¸ªçš„ç»“ç‚¹æ˜¯å½“å‰å€¼æœ€å¤§çš„ç»“ç‚¹ã€‚æˆ‘ä»¬æŠŠå€¼ä¸º8çš„ç»“ç‚¹å’Œæ ¹ç»“ç‚¹é“¾æŽ¥èµ·æ¥ï¼Œ10å°±æˆäº†æœ€åŽä¸€ä¸ªç»“ç‚¹ï¼›æŽ¥ç€æˆ‘ä»¬å°±åŽ»éåŽ†å³å­æ ‘ï¼Œå¹¶æŠŠæ ¹ç»“ç‚¹å’Œå³å­æ ‘ä¸­æœ€å°çš„ç»“ç‚¹é“¾æŽ¥èµ·æ¥ã€‚æœ€åŽï¼Œè®¾ç½®ä»Žæœ€å·¦è¾¹çš„ç»“ç‚¹å¼€å§‹123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051# -*- coding:utf-8 -*-class TreeNode: def __init__(self,x): self.val = x self.left = None self.right = Nonenode1 = TreeNode(8)node2 = TreeNode(6)node3 = TreeNode(14)node4 = TreeNode(4)node5 = TreeNode(8)node6 = TreeNode(12)node7 = TreeNode(16)node1.left = node2node1.right = node3node2.left = node4node2.right = node5node3.left = node6node3.right = node7class Solution: def Convert(self, pRootOfTree): # write code here if not pRootOfTree or (not pRootOfTree.left and not pRootOfTree.right): return pRootOfTree #å¤„ç†å·¦å­æ ‘ self.Convert(pRootOfTree.left) left = pRootOfTree.left #å·¦å­æ ‘æœ€å³èŠ‚ç‚¹ä¸Žæ ¹èŠ‚ç‚¹é“¾æŽ¥ if left: while left.right: left = left.right left.right = pRootOfTree pRootOfTree.left = left #å¤„ç†å³å­æ ‘ self.Convert(pRootOfTree.right) right = pRootOfTree.right #å³å­æ ‘æœ€å·¦èŠ‚ç‚¹ä¸Žæ ¹èŠ‚ç‚¹é“¾æŽ¥ if right: while right.left: right = right.left right.left = pRootOfTree pRootOfTree.right = right while pRootOfTree.left: pRootOfTree = pRootOfTree.left return pRootOfTreeif __name__ == '__main__': result = Solution().Convert(node1) 38 äºŒå‰æ ‘çš„æ·±åº¦é¢˜ç›®æè¿°è¾“å…¥ä¸€æ£µäºŒå‰æ ‘ï¼Œæ±‚è¯¥æ ‘çš„æ·±åº¦ã€‚ä»Žæ ¹ç»“ç‚¹åˆ°å¶ç»“ç‚¹ä¾æ¬¡ç»è¿‡çš„ç»“ç‚¹ï¼ˆå«æ ¹ã€å¶ç»“ç‚¹ï¼‰å½¢æˆæ ‘çš„ä¸€æ¡è·¯å¾„ï¼Œæœ€é•¿è·¯å¾„çš„é•¿åº¦ä¸ºæ ‘çš„æ·±åº¦ã€‚ è§£é¢˜æ€è·¯ æ€è·¯1ï¼š é€’å½’ï¼Œç»“ç‚¹ä¸ºç©ºæ—¶ï¼Œè¿”å›ž0 ä¸ä¸º0æ—¶ï¼ŒéåŽ†å·¦å³å­æ ‘ï¼Œåœ¨è¾ƒæ·±çš„å­æ ‘ä¸ŠåŠ 1 æ€è·¯2ï¼šbfs å±‚æ¬¡éåŽ† æ¯éåŽ†å®Œä¸€å±‚ï¼Œå±‚æ•°åŠ 1qä¸ºå½“å‰å±‚çš„ç»“ç‚¹ï¼ŒéåŽ†qä¸­çš„æ¯ä¸ªç»“ç‚¹ï¼Œç„¶åŽç”¨tmpä¿å­˜å½“å‰æ¯ä¸ªç»“ç‚¹å¯èƒ½æœ‰çš„å·¦ç»“ç‚¹å’Œå³ç»“ç‚¹ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354# -*- coding:utf-8 -*-class TreeNode: def __init__(self,x): self.val = x self.left = None self.right = Nonenode1 = TreeNode(8)node2 = TreeNode(6)node3 = TreeNode(10)node4 = TreeNode(5)node5 = TreeNode(7)node6 = TreeNode(9)node1.left = node2node1.right = node3node2.left = node4node2.right = node5node3.left = node6class Solution: def TreeDepth(self, pRoot): # write code here # æ€è·¯1 # if not pRoot: # return 0 # return max(self.TreeDepth(pRoot.left),self.TreeDepth(pRoot.right))+1 # æ€è·¯2 if not pRoot: return 0 count = self.levelOrder(pRoot) return count def levelOrder(self,pRoot): count = 0 if not pRoot: return count queue = [] queue.append(pRoot) while queue: temp = [] for i in range(len(queue)): r = queue.pop(0) if r.left: queue.append(r.left) if r.right: queue.append(r.right) temp.append(r.val) if temp: count += 1 return countif __name__ == '__main__': result = Solution().TreeDepth(node1) print(result) 39 å¹³è¡¡äºŒå‰æ ‘é¢˜ç›®æè¿°è¾“å…¥ä¸€æ£µäºŒå‰æ ‘ï¼Œåˆ¤æ–­è¯¥äºŒå‰æ ‘æ˜¯å¦æ˜¯å¹³è¡¡äºŒå‰æ ‘ã€‚ è§£é¢˜æ€è·¯å¹³è¡¡äºŒå‰æ ‘ï¼šå®ƒæ˜¯ä¸€æ£µç©ºæ ‘ï¼Œæˆ–è€…å®ƒçš„ä¸¤ä¸ªå­æ ‘çš„é«˜åº¦å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡1ï¼Œå¹¶ä¸”å·¦å³ä¸¤æ£µå­æ ‘éƒ½æ˜¯ä¸€æ£µå¹³è¡¡äºŒå‰æ ‘ã€‚ é‡å¤éåŽ†å¤šæ¬¡ï¼šBSTçš„å®šä¹‰ä¸º|height(lefttree)âˆ’height(righttree)|&lt;=1ï¼ŒåŽŸé—®é¢˜æ‹†åˆ†ä¸ºè®¡ç®—æ ‘é«˜åº¦å’Œåˆ¤æ–­é«˜åº¦å·®ä½†æ˜¯ï¼Œåœ¨éåŽ†æ¯ä¸ªç»“ç‚¹æ—¶ï¼Œè°ƒç”¨å‡½æ•°TreeDepthå¾—åˆ°å®ƒçš„å·¦å³å­æ ‘çš„æ·±åº¦ï¼Œå¦‚æžœæ¯ä¸ªç»“ç‚¹çš„å·¦å³å­æ ‘çš„æ·±åº¦ç›¸å·®ä¸è¶…è¿‡1ï¼Œåˆ™è¿™æ˜¯ä¸€é¢—å¹³è¡¡çš„äºŒå‰æ ‘ã€‚è¿™ç§æ–¹æ³•çš„ç¼ºç‚¹æ˜¯ï¼Œé¦–å…ˆåˆ¤æ–­æ ¹ç»“ç‚¹æ˜¯ä¸æ˜¯å¹³è¡¡çš„ï¼Œéœ€è¦ä½¿ç”¨TreeDepthèŽ·å¾—å·¦å³å­æ ‘çš„æ·±åº¦ï¼Œç„¶åŽè¿˜éœ€è¦ç»§ç»­åˆ¤æ–­å­æ ‘æ˜¯ä¸æ˜¯å¹³è¡¡çš„ï¼Œè¿˜æ˜¯éœ€è¦ä½¿ç”¨TreeDepthèŽ·å¾—å­æ ‘çš„å·¦å³å­æ ‘çš„æ·±åº¦ï¼Œè¿™å¯¼è‡´äº†å¤§é‡çš„é‡å¤éåŽ†ã€‚ 12345678910111213141516171819202122# -*- coding:utf-8 -*-# class TreeNode:# def __init__(self, x):# self.val = x# self.left = None# self.right = Noneclass Solution: def IsBalanced_Solution(self, pRoot): # write code here if not pRoot: return True if abs(self.depth(pRoot.left) - self.depth(pRoot.right)) &lt;= 1: return True return False def depth(self, pRoot): if not pRoot: return 0 return max(self.depth(pRoot.left), self.depth(pRoot.right)) + 1 57 äºŒå‰æ ‘çš„ä¸‹ä¸€ä¸ªç»“ç‚¹é¢˜ç›®æè¿°ç»™å®šä¸€ä¸ªäºŒå‰æ ‘å’Œå…¶ä¸­çš„ä¸€ä¸ªç»“ç‚¹ï¼Œè¯·æ‰¾å‡ºä¸­åºéåŽ†é¡ºåºçš„ä¸‹ä¸€ä¸ªç»“ç‚¹å¹¶ä¸”è¿”å›žã€‚æ³¨æ„ï¼Œæ ‘ä¸­çš„ç»“ç‚¹ä¸ä»…åŒ…å«å·¦å³å­ç»“ç‚¹ï¼ŒåŒæ—¶åŒ…å«æŒ‡å‘çˆ¶ç»“ç‚¹çš„æŒ‡é’ˆã€‚ è§£é¢˜æ€è·¯ä¸‰ç§æƒ…å†µ å½“å‰ç»“ç‚¹æœ‰å³å­æ ‘ã€‚å½“å‰ç»“ç‚¹çš„ä¸‹ä¸€ç»“ç‚¹æ˜¯å³å­æ ‘ä¸­çš„æœ€å·¦å­ç»“ç‚¹ï¼Œå¦‚node=8ï¼Œå®ƒçš„ä¸‹ä¸€ç»“ç‚¹ä¸º12. å½“å‰ç»“ç‚¹æ— å³å­æ ‘ï¼Œä¸”å½“å‰ç»“ç‚¹æ˜¯å…¶çˆ¶ç»“ç‚¹çš„å·¦å­©å­ã€‚ä¸‹ä¸€ç»“ç‚¹ä¸ºå½“å‰ç»“ç‚¹çš„çˆ¶ç»“ç‚¹ï¼Œå¦‚node=8ï¼Œå®ƒçš„ä¸‹ä¸€ä¸ªç»“ç‚¹ä¸º12ã€‚ å½“å‰ç»“ç‚¹æ— å³å­æ ‘ï¼Œä¸”å½“å‰ç»“ç‚¹æ˜¯å…¶çˆ¶ç»“ç‚¹çš„å³å­©å­ã€‚åˆ™ä¸€ç›´å‘ä¸ŠéåŽ†ï¼Œç›´åˆ°æ‰¾åˆ°æœ€é è¿‘çš„ä¸€ä¸ªç¥–å…ˆèŠ‚ç‚¹pNodeä¸”pNodeæ˜¯å…¶çˆ¶èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆè¾“å…¥èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªç»“ç‚¹å°±æ˜¯pNodeçš„çˆ¶èŠ‚ç‚¹ã€‚å¦‚node=14ï¼Œå®ƒçš„ä¸‹ä¸€ä¸ªç»“ç‚¹ä¸º16. 123456789101112131415161718192021222324252627# -*- coding:utf-8 -*-# class TreeLinkNode:# def __init__(self, x):# self.val = x# self.left = None# self.right = None# self.next = Noneclass Solution: def GetNext(self, pNode): # write code here if not pNode: return None if pNode.right: pNode = pNode.right while pNode.left: pNode = pNode.left return pNode if pNode.next and pNode == pNode.next.left: return pNode.next if pNode.next and pNode == pNode.next.right: pNode = pNode.next while pNode.next and pNode == pNode.next.right: pNode = pNode.next return pNode.next return None 58 å¯¹ç§°çš„äºŒå‰æ ‘é¢˜ç›®æè¿°è¯·å®žçŽ°ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥åˆ¤æ–­ä¸€é¢—äºŒå‰æ ‘æ˜¯ä¸æ˜¯å¯¹ç§°çš„ã€‚æ³¨æ„ï¼Œå¦‚æžœä¸€ä¸ªäºŒå‰æ ‘åŒæ­¤äºŒå‰æ ‘çš„é•œåƒæ˜¯åŒæ ·çš„ï¼Œå®šä¹‰å…¶ä¸ºå¯¹ç§°çš„ã€‚ è§£é¢˜æ€è·¯åˆ¤æ–­ä¸€æ£µäºŒå‰æ ‘æ˜¯ä¸æ˜¯å¯¹ç§°çš„ï¼Œç­‰ä»·äºŽåˆ¤æ–­å…¶å·¦å³å­æ ‘æ˜¯ä¸æ˜¯é•œåƒå¯¹ç§°çš„ã€‚åˆ¤æ–­é•œåƒå¯¹ç§°å³åˆ¤æ–­å¯¹ç§°ä½ç½®ä¸Šçš„å…ƒç´ æ˜¯ä¸æ˜¯ç›¸ç­‰çš„ã€‚ä¸¤ä¸ªç»“ç‚¹ABå¯¹ç§°ç­‰ä»·äºŽï¼š ä¸¤ä¸ªç»“ç‚¹å€¼ç›¸ç­‰ ç»“ç‚¹Açš„å·¦å­æ ‘å’Œç»“ç‚¹Bçš„å³å­æ ‘å¯¹ç§° ç»“ç‚¹Açš„å³å­æ ‘å’Œç»“ç‚¹Bçš„å·¦å­æ ‘å¯¹ç§° 12345678910111213141516171819202122# -*- coding:utf-8 -*-# class TreeNode:# def __init__(self, x):# self.val = x# self.left = None# self.right = Noneclass Solution: def isSymmetrical(self, pRoot): # write code here if not pRoot: return True return self.judge(pRoot.left, pRoot.right) def judge(self, pRoot1, pRoot2): if not pRoot1 and not pRoot2: return True if not pRoot1 or not pRoot2: return False if pRoot1.val != pRoot2.val: return False return self.judge(pRoot1.left,pRoot2.right) and self.judge(pRoot1.right,pRoot2.left) 59 æŒ‰ä¹‹å­—é¡ºåºæ‰“å°äºŒå‰æ ‘é¢˜ç›®æè¿°è¯·å®žçŽ°ä¸€ä¸ªå‡½æ•°æŒ‰ç…§ä¹‹å­—å½¢æ‰“å°äºŒå‰æ ‘ï¼Œå³ç¬¬ä¸€è¡ŒæŒ‰ç…§ä»Žå·¦åˆ°å³çš„é¡ºåºæ‰“å°ï¼Œç¬¬äºŒå±‚æŒ‰ç…§ä»Žå³è‡³å·¦çš„é¡ºåºæ‰“å°ï¼Œç¬¬ä¸‰è¡ŒæŒ‰ç…§ä»Žå·¦åˆ°å³çš„é¡ºåºæ‰“å°ï¼Œå…¶ä»–è¡Œä»¥æ­¤ç±»æŽ¨ã€‚ è§£é¢˜æ€è·¯ å±‚æ¬¡éåŽ†ä¿å­˜ç»“ç‚¹ï¼Œæœ€åŽå¥‡æ•°å±‚ç¿»è½¬ 123456789101112131415161718192021222324252627282930313233343536373839404142# -*- coding:utf-8 -*-class TreeNode: def __init__(self, x): self.val = x self.left = None self.right = Nonenode1 = TreeNode(1)node2 = TreeNode(2)node3 = TreeNode(3)node4 = TreeNode(4)node5 = TreeNode(5)node1.left = node2node1.right = node3node2.left = node4node3.right = node5class Solution: def Print(self, pRoot): # write code here # å±‚æ¬¡éåŽ†ä¿å­˜ç»“ç‚¹ï¼Œæœ€åŽå¥‡æ•°å±‚ç¿»è½¬ ans = [] if not pRoot: return ans queue = [] queue.append(pRoot) while queue: temp = [] for i in range(len(queue)): r = queue.pop(0) temp.append(r.val) if r.left: queue.append(r.left) if r.right: queue.append(r.right) ans.append(temp) for i in range(1,len(ans),2): ans[i] = ans[i][::-1] return ansif __name__ == '__main__': # [[1] [3 2] [4 5]] result = Solution().Print(node1) print(result) é€’å½’12345678910111213141516171819202122232425262728# -*- coding:utf-8 -*-# class TreeNode:# def __init__(self, x):# self.val = x# self.left = None# self.right = Noneclass Solution: def Print(self, pRoot): # write code here if not pRoot: return [] res = [] self.level(pRoot, 0, res) for i in range(1, len(res), 2): res[i] = res[i][::-1] return res def level(self, pRoot, level, res): if not pRoot: return if level == len(res): res.append([]) res[level].append(pRoot.val) self.level(pRoot.left, level+1, res) self.level(pRoot.right, level+1, res) 60 æŠŠäºŒå‰æ ‘æ‰“å°æˆå¤šè¡Œé¢˜ç›®æè¿°ä»Žä¸Šåˆ°ä¸‹æŒ‰å±‚æ‰“å°äºŒå‰æ ‘ï¼ŒåŒä¸€å±‚ç»“ç‚¹ä»Žå·¦è‡³å³è¾“å‡ºã€‚æ¯ä¸€å±‚è¾“å‡ºä¸€è¡Œã€‚ è§£é¢˜æ€è·¯æ¯”ä¸Šé¢˜ç®€å•ï¼Œç›´æŽ¥å±‚æ¬¡éåŽ† 1234567891011121314151617181920212223242526# -*- coding:utf-8 -*-# class TreeNode:# def __init__(self, x):# self.val = x# self.left = None# self.right = Noneclass Solution: # è¿”å›žäºŒç»´åˆ—è¡¨[[1,2],[4,5]] def Print(self, pRoot): # write code here if not pRoot: return [] res = [] stack = [pRoot] while stack: temp = [] for i in range(len(stack)): node = stack.pop(0) temp.append(node.val) if node.left: stack.append(node.left) if node.right: stack.append(node.right) res.append(temp) return res é€’å½’123456789101112131415161718192021222324# -*- coding:utf-8 -*-# class TreeNode:# def __init__(self, x):# self.val = x# self.left = None# self.right = Noneclass Solution: # è¿”å›žäºŒç»´åˆ—è¡¨[[1,2],[4,5]] def Print(self, pRoot): # write code here if not pRoot: return [] res = [] self.level(pRoot, 0, res) return res def level(self, pRoot, level, res): if not pRoot: return if level == len(res): res.append([]) res[level].append(pRoot.val) self.level(pRoot.left, level+1, res) self.level(pRoot.right, level+1, res) 61 åºåˆ—åŒ–äºŒå‰æ ‘é¢˜ç›®æè¿°è¯·å®žçŽ°ä¸¤ä¸ªå‡½æ•°ï¼Œåˆ†åˆ«ç”¨æ¥åºåˆ—åŒ–å’Œååºåˆ—åŒ–äºŒå‰æ ‘ è§£é¢˜æ€è·¯åºåˆ—åŒ–äºŒå‰æ ‘ï¼šæŠŠä¸€æ£µäºŒå‰æ ‘æŒ‰ç…§æŸç§éåŽ†æ–¹å¼çš„ç»“æžœä»¥æŸç§æ ¼å¼ä¿å­˜ä¸ºå­—ç¬¦ä¸²ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåºåˆ—åŒ–äºŒå‰æ ‘çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æžœé‡åˆ°ç©ºèŠ‚ç‚¹ï¼Œéœ€è¦ä»¥æŸç§ç¬¦å·ï¼ˆè¿™é‡Œç”¨#ï¼‰è¡¨ç¤ºã€‚ä»¥ä¸‹å›¾äºŒå‰æ ‘ä¸ºä¾‹ï¼Œåºåˆ—åŒ–äºŒå‰æ ‘æ—¶ï¼Œéœ€è¦å°†ç©ºèŠ‚ç‚¹ä¹Ÿå­˜å…¥å­—ç¬¦ä¸²ä¸­ã€‚ åºåˆ—åŒ–å¯ä»¥åŸºäºŽå…ˆåº/ä¸­åº/åŽåº/æŒ‰å±‚ç­‰éåŽ†æ–¹å¼è¿›è¡Œï¼Œè¿™é‡Œé‡‡ç”¨å…ˆåºéåŽ†çš„æ–¹å¼å®žçŽ°ï¼Œå­—ç¬¦ä¸²ä¹‹é—´ç”¨ â€œï¼Œâ€éš”å¼€ã€‚ ååºåˆ—åŒ–äºŒå‰æ ‘ï¼šæ ¹æ®æŸç§éåŽ†é¡ºåºå¾—åˆ°çš„åºåˆ—åŒ–å­—ç¬¦ä¸²ï¼Œé‡æž„äºŒå‰æ ‘ã€‚å…·ä½“æ€è·¯æ˜¯æŒ‰å‰åºéåŽ†â€œæ ¹å·¦å³â€çš„é¡ºåºï¼Œæ ¹èŠ‚ç‚¹ä½äºŽå…¶å·¦å³å­èŠ‚ç‚¹çš„å‰é¢ï¼Œå³éžç©ºï¼ˆ#ï¼‰çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹æ˜¯æŸå­æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œå·¦å³å­èŠ‚ç‚¹åœ¨è¯¥æ ¹èŠ‚ç‚¹åŽï¼Œä»¥ç©ºèŠ‚ç‚¹#ä¸ºåˆ†éš”ç¬¦ã€‚ 12345678910111213141516171819202122232425262728# -*- coding:utf-8 -*-# class TreeNode:# def __init__(self, x):# self.val = x# self.left = None# self.right = Noneclass Solution: def Serialize(self, root): # write code here if not root: return '#' return str(root.val)+','+self.Serialize(root.left)+','+self.Serialize(root.right) def Deserialize(self, s): # write code here s = s.split(',') return self.Tree(s) def Tree(self, s): if not s: return None val = s.pop(0) root = None if val != '#': root = TreeNode(int(val)) root.left = self.Tree(s) root.right = self.Tree(s) return root 62äºŒå‰æœç´¢æ ‘çš„ç¬¬kä¸ªç»“ç‚¹é¢˜ç›®æè¿°ç»™å®šä¸€æ£µäºŒå‰æœç´¢æ ‘ï¼Œè¯·æ‰¾å‡ºå…¶ä¸­çš„ç¬¬kå°çš„ç»“ç‚¹ã€‚ä¾‹å¦‚ï¼Œ ï¼ˆ5ï¼Œ3ï¼Œ7ï¼Œ2ï¼Œ4ï¼Œ6ï¼Œ8ï¼‰ ä¸­ï¼ŒæŒ‰ç»“ç‚¹æ•°å€¼å¤§å°é¡ºåºç¬¬ä¸‰å°ç»“ç‚¹çš„å€¼ä¸º4ã€‚ ç»™å®šä¸€é¢—äºŒå‰æœç´¢æ ‘ï¼Œè¯·æ‰¾å‡ºå…¶ä¸­çš„ç¬¬kå¤§çš„ç»“ç‚¹ã€‚ä¾‹å¦‚ï¼Œ123456 5 / \ 3 7 / \ / \ 2 4 6 8 ä¸­ï¼ŒæŒ‰ç»“ç‚¹æ•°å€¼å¤§å°é¡ºåºç¬¬ä¸‰ä¸ªç»“ç‚¹çš„å€¼ä¸º4ã€‚ è§£é¢˜æ€è·¯æ€è·¯1: è¿™æ£µæ ‘æ˜¯äºŒå‰æœç´¢æ ‘ï¼Œé¦–å…ˆæƒ³åˆ°çš„æ˜¯äºŒå‰æœç´¢æ ‘çš„ä¸€ä¸ªç‰¹ç‚¹ï¼šå·¦å­ç»“ç‚¹çš„å€¼ &lt; æ ¹ç»“ç‚¹çš„å€¼ &lt; å³å­ç»“ç‚¹çš„å€¼ã€‚é‡åˆ°bstï¼ˆäºŒå‰æœç´¢æ ‘ï¼‰æƒ³åˆ°ä¸­åºéåŽ†ï¼Œå…ˆä¸­åºéåŽ†ï¼Œç„¶åŽæ‰¾å‡ºç¬¬kä¸ªç»“ç‚¹ã€‚12345678910111213141516171819202122232425262728# -*- coding:utf-8 -*-# class TreeNode:# def __init__(self, x):# self.val = x# self.left = None# self.right = Noneclass Solution: # è¿”å›žå¯¹åº”èŠ‚ç‚¹TreeNode def KthNode(self, pRoot, k): # write code here if not pRoot or k &lt;= 0: return None res = [] self.inorder(pRoot, res) return res[k-1] if k &lt;= len(res) else None def inorder(self, pRoot, res): if not pRoot: return self.inorder(pRoot.left, res) res.append(pRoot) self.inorder(pRoot.right, res) if __name__ == '__main__': result = Solution().KthNode(node1,3) print(result.val) æ€è·¯2. å…ˆå°†å…¨éƒ¨å·¦å­æ ‘å…¥æ ˆï¼Œç„¶åŽä¾æ¬¡å‡ºæ ˆï¼Œå‡ºæ ˆè¿‡ç¨‹ä¸­ï¼Œå¦‚æžœå³å­æ ‘å­˜åœ¨ï¼Œåˆ™å°†å…¶å…¨éƒ¨å·¦å­æ ‘å…¥æ ˆã€‚12345678910111213141516171819202122232425262728# -*- coding:utf-8 -*-# class TreeNode:# def __init__(self, x):# self.val = x# self.left = None# self.right = Noneclass Solution: # è¿”å›žå¯¹åº”èŠ‚ç‚¹TreeNode def KthNode(self, pRoot, k): # write code here if not pRoot or k &lt;= 0: return None res = [] stack = [] self.allLeftinStack(pRoot, stack) while stack: node = stack.pop() res.append(node) if node.right: self.allLeftinStack(node.right, stack) return res[k-1] if k &lt;= len(res) else None def allLeftinStack(self, root, stack): while root: stack.append(root) root = root.left 1234567891011121314151617181920212223242526272829# -*- coding:utf-8 -*-# class TreeNode:# def __init__(self, x):# self.val = x# self.left = None# self.right = Noneclass Solution: # è¿”å›žå¯¹åº”èŠ‚ç‚¹TreeNode def KthNode(self, pRoot, k): # write code here if not pRoot or k &lt;= 0: return None res = [] stack = [pRoot] while pRoot.left: stack.append(pRoot.left) pRoot = pRoot.left while stack: node = stack.pop() res.append(node) if node.right: stack.append(node.right) temp = node.right while temp.left: stack.append(temp.left) temp = temp.left return res[k-1] if k &lt;= len(res) else None]]></content>
      <categories>
        <category>å‰‘æŒ‡offer</category>
      </categories>
      <tags>
        <tag>å‰‘æŒ‡offer</tag>
        <tag>ç®—æ³•é¢˜è§£</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‰‘æŒ‡offeré¢˜è§£ - æ•°ç»„]]></title>
    <url>%2F2019%2F05%2F13%2F%E5%89%91%E6%8C%87offer-%E6%95%B0%E7%BB%84%2F</url>
    <content type="text"><![CDATA[æœ¬ç³»åˆ—ä¸ºå‰‘æŒ‡offeråˆ·é¢˜ç¬”è®°ï¼Œåˆ·é¢˜å¹³å°ä¸ºç‰›å®¢ç½‘ã€‚é¢˜é‡ä¸º66é“ï¼Œæœ¬ç³»åˆ—æ‰€æœ‰é¢˜è§£æ±‡æ€»å¦‚ä¸‹ï¼š å‰‘æŒ‡offeré¢˜è§£ - é“¾è¡¨å‰‘æŒ‡offeré¢˜è§£ - æ ‘å‰‘æŒ‡offeré¢˜è§£ - æ•°ç»„å‰‘æŒ‡offeré¢˜è§£ - å­—ç¬¦ä¸²å‰‘æŒ‡offeré¢˜è§£ - æ ˆå‰‘æŒ‡offeré¢˜è§£ - é€’å½’å‰‘æŒ‡offeré¢˜è§£ - å›žæº¯å‰‘æŒ‡offeré¢˜è§£ - å…¶ä»– æœ¬æ–‡ä¸»è¦æ˜¯æ•°ç»„ç›¸å…³é¢˜ç›®é¢˜è§£æ€»ç»“ã€‚ 1 äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾é¢˜ç›®æè¿°åœ¨ä¸€ä¸ªäºŒç»´æ•°ç»„ä¸­ï¼ˆæ¯ä¸ªä¸€ç»´æ•°ç»„çš„é•¿åº¦ç›¸åŒï¼‰ï¼Œæ¯ä¸€è¡Œéƒ½æŒ‰ç…§ä»Žå·¦åˆ°å³é€’å¢žçš„é¡ºåºæŽ’åºï¼Œæ¯ä¸€åˆ—éƒ½æŒ‰ç…§ä»Žä¸Šåˆ°ä¸‹é€’å¢žçš„é¡ºåºæŽ’åºã€‚è¯·å®Œæˆä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥è¿™æ ·çš„ä¸€ä¸ªäºŒç»´æ•°ç»„å’Œä¸€ä¸ªæ•´æ•°ï¼Œåˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦å«æœ‰è¯¥æ•´æ•°ã€‚ è§£é¢˜æ€è·¯æ€è·¯ï¼šç”±äºŽæ•°ç»„æ˜¯æœ‰åºçš„ï¼Œä»Žå·¦ä¸‹è§’çœ‹ï¼Œå‘ä¸Šä¸ºé€’å‡ï¼Œå‘å³ä¸ºé€’å¢žï¼Œå› æ­¤å¯ä»¥ä»Žå·¦ä¸‹è§’å¼€å§‹æŸ¥æ‰¾ï¼Œå½“å·¦ä¸‹è§’å…ƒç´ æ¯”æ•´æ•°å¤§æ—¶ï¼Œä¸Šç§»ï¼Œå½“å·¦ä¸‹è§’å…ƒç´ æ¯”æ•´æ•°å°æ—¶ï¼Œå³ç§»ã€‚1234567891011121314151617181920# -*- coding:utf-8 -*-class Solution: # array äºŒç»´åˆ—è¡¨ def Find(self, target, array): # write code here if len(array) == 0: return False rows, cols = len(array), len(array[0]) row, col = rows-1, 0 while row &gt;= 0 and col &lt;= cols-1: if array[row][col] == target: return True elif array[row][col] &gt; target: row -= 1 else: col += 1 return False 6 æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—é¢˜ç›®æè¿°æŠŠä¸€ä¸ªæ•°ç»„æœ€å¼€å§‹çš„è‹¥å¹²ä¸ªå…ƒç´ æ¬åˆ°æ•°ç»„çš„æœ«å°¾ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºæ•°ç»„çš„æ—‹è½¬ã€‚ è¾“å…¥ä¸€ä¸ªéžå‡æŽ’åºçš„æ•°ç»„çš„ä¸€ä¸ªæ—‹è½¬ï¼Œè¾“å‡ºæ—‹è½¬æ•°ç»„çš„æœ€å°å…ƒç´ ã€‚ ä¾‹å¦‚æ•°ç»„{3,4,5,1,2}ä¸º{1,2,3,4,5}çš„ä¸€ä¸ªæ—‹è½¬ï¼Œè¯¥æ•°ç»„çš„æœ€å°å€¼ä¸º1ã€‚ NOTEï¼šç»™å‡ºçš„æ‰€æœ‰å…ƒç´ éƒ½å¤§äºŽ0ï¼Œè‹¥æ•°ç»„å¤§å°ä¸º0ï¼Œè¯·è¿”å›ž0ã€‚ è§£é¢˜æ€è·¯æ—‹è½¬ä¹‹åŽçš„æ•°ç»„å¯ä»¥åˆ’åˆ†æˆä¸¤ä¸ªæœ‰åºçš„å­æ•°ç»„ï¼Œå‰é¢å­æ•°ç»„çš„å…ƒç´ éƒ½å¤§äºŽåŽé¢å­æ•°ç»„çš„å…ƒç´ ï¼Œå¹¶ä¸”ç¬¬ä¸€ä¸ªå…ƒç´ å¤§äºŽæœ€åŽä¸€ä¸ªå…ƒç´  æœ€å°çš„å…ƒç´ å°±æ˜¯ä¸¤ä¸ªå­æ•°ç»„çš„åˆ†ç•Œçº¿ ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼ŒO(logn) ä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆåˆ†åˆ«æŒ‡å‘æ•°ç»„çš„ç¬¬ä¸€ä¸ªå’Œæœ€åŽä¸€ä¸ªå…ƒç´  è‹¥ä¸­é—´å…ƒç´ å°äºŽå®ƒå‰ä¸€ä¸ªå…ƒç´ ï¼Œåˆ™ä¸­é—´å…ƒç´ ä¸ºæœ€å° è‹¥ä¸­é—´å…ƒç´ å¤§äºŽå³è¾¹ç•Œï¼Œæ­¤æ—¶æœ€å°å€¼ä½äºŽä¸­é—´å…ƒç´ ä¹‹åŽï¼ˆmid+1,rï¼‰ï¼Œå·¦æŒ‡é’ˆæŒ‡å‘ä¸­é—´å…ƒç´ åŠ 1 è‹¥ä¸­é—´å…ƒç´ å°äºŽå³è¾¹ç•Œï¼Œæ­¤æ—¶æœ€å°å…ƒç´ ä½äºŽä¸­é—´å…ƒç´ çš„å‰é¢(l, mid-1)ï¼Œå³æŒ‡é’ˆæŒ‡å‘ä¸­é—´å…ƒç´ å‡1.1234567891011121314151617# -*- coding:utf-8 -*-class Solution: def minNumberInRotateArray(self, rotateArray): # write code here if len(rotateArray) == 0: return 0 left, right = 0, len(rotateArray)-1 while left &lt;= right: mid = left + (right-left)//2 if rotateArray[mid] &lt; rotateArray[mid-1]: return rotateArray[mid] if rotateArray[mid] &gt; rotateArray[right]: left = mid + 1 else: right = mid - 1 13 è°ƒæ•´æ•°ç»„é¡ºåºä½¿å¥‡æ•°ä½äºŽå¶æ•°å‰é¢é¢˜ç›®æè¿°è¾“å…¥ä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œå®žçŽ°ä¸€ä¸ªå‡½æ•°æ¥è°ƒæ•´è¯¥æ•°ç»„ä¸­æ•°å­—çš„é¡ºåºï¼Œä½¿å¾—æ‰€æœ‰çš„å¥‡æ•°ä½äºŽæ•°ç»„çš„å‰åŠéƒ¨åˆ†ï¼Œæ‰€æœ‰çš„å¶æ•°ä½äºŽæ•°ç»„çš„åŽåŠéƒ¨åˆ†ï¼Œå¹¶ä¿è¯å¥‡æ•°å’Œå¥‡æ•°ï¼Œå¶æ•°å’Œå¶æ•°ä¹‹é—´çš„ç›¸å¯¹ä½ç½®ä¸å˜ã€‚ è§£é¢˜æ€è·¯å¯¹äºŽä¸éœ€è¦è€ƒè™‘å¥‡æ•°ä¸Žå¥‡æ•°ï¼Œå¶æ•°ä¸Žå¶æ•°ä¹‹é—´çš„ç›¸å¯¹ä½ç½®ä¸å˜çš„è¯ï¼Œåªéœ€è¦è®¾ç½®å·¦å³ä¸¤ä¸ªæŒ‡é’ˆï¼Œç„¶åŽäº¤æ¢å°±è¡Œã€‚ ä½†è€ƒè™‘ç›¸å¯¹ä½ç½®ä¸å˜çš„è¯æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯æ–°å»ºä¸¤ä¸ªæ•°ç»„ã€‚1234567891011121314# -*- coding:utf-8 -*-class Solution: def reOrderArray(self, array): # write code here if len(array) == 0 or len(array) == 1: return array odd, even = [], [] for x in array: if x % 2 == 1: odd.append(x) else: even.append(x) return odd + even 28 æ•°ç»„ä¸­å‡ºçŽ°æ¬¡æ•°è¶…è¿‡ä¸€åŠçš„æ•°å­—é¢˜ç›®æè¿°æ•°ç»„ä¸­æœ‰ä¸€ä¸ªæ•°å­—å‡ºçŽ°çš„æ¬¡æ•°è¶…è¿‡æ•°ç»„é•¿åº¦çš„ä¸€åŠï¼Œè¯·æ‰¾å‡ºè¿™ä¸ªæ•°å­—ã€‚ä¾‹å¦‚è¾“å…¥ä¸€ä¸ªé•¿åº¦ä¸º9çš„æ•°ç»„{1,2,3,2,2,2,5,4,2}ã€‚ç”±äºŽæ•°å­—2åœ¨æ•°ç»„ä¸­å‡ºçŽ°äº†5æ¬¡ï¼Œè¶…è¿‡æ•°ç»„é•¿åº¦çš„ä¸€åŠï¼Œå› æ­¤è¾“å‡º2ã€‚å¦‚æžœä¸å­˜åœ¨åˆ™è¾“å‡º0ã€‚ è§£é¢˜æ€è·¯æ€è·¯1ï¼šä½¿ç”¨hashå‡½æ•°ï¼Œç¬¬ä¸€æ¬¡éåŽ†å°†æ¯ä¸ªæ•°å­—å‡ºçŽ°æ¬¡æ•°ä¿å­˜ä¸‹æ¥ï¼Œç¬¬äºŒæ¬¡éåŽ†å¯»æ‰¾æ¬¡æ•°è¶…è¿‡æ•°ç»„é•¿åº¦ä¸€åŠçš„æ•°å­—ã€‚ æ€è·¯2ï¼šå¦‚æžœæœ‰ç¬¦åˆæ¡ä»¶çš„æ•°å­—ï¼Œåˆ™å®ƒå‡ºçŽ°çš„æ¬¡æ•°æ¯”å…¶ä»–æ‰€æœ‰æ•°å­—å‡ºçŽ°çš„æ¬¡æ•°å’Œè¿˜è¦å¤šã€‚ åœ¨éåŽ†æ•°ç»„æ—¶ä¿å­˜ä¸¤ä¸ªå€¼ï¼šä¸€æ˜¯æ•°ç»„ä¸­ä¸€ä¸ªæ•°å­—ï¼Œä¸€æ˜¯æ¬¡æ•°ã€‚éåŽ†ä¸‹ä¸€ä¸ªæ•°å­—æ—¶ï¼Œè‹¥å®ƒä¸Žä¹‹å‰ä¿å­˜çš„æ•°å­—ç›¸åŒï¼Œåˆ™æ¬¡æ•°åŠ 1ï¼Œå¦åˆ™æ¬¡æ•°å‡1ï¼›è‹¥æ¬¡æ•°ä¸º0ï¼Œåˆ™ä¿å­˜ä¸‹ä¸€ä¸ªæ•°å­—ï¼Œå¹¶å°†æ¬¡æ•°ç½®ä¸º1ã€‚éåŽ†ç»“æŸåŽï¼Œæ‰€ä¿å­˜çš„æ•°å­—å³ä¸ºæ‰€æ±‚ã€‚ç„¶åŽå†åˆ¤æ–­å®ƒæ˜¯å¦ç¬¦åˆæ¡ä»¶å³å¯ã€‚ 123456789101112131415161718# -*- coding:utf-8 -*-class Solution: def MoreThanHalfNum_Solution(self, numbers): # write code here if len(numbers) == 0: return 0 Dict = &#123;&#125; for x in numbers: if x not in Dict: Dict[x] = 1 else: Dict[x] += 1 for key, val in Dict.items(): if val &gt; len(numbers)//2: return key return 0 30 è¿žç»­å­æ•°ç»„çš„æœ€å¤§å’Œé¢˜ç›®æè¿°HZå¶å°”ä¼šæ‹¿äº›ä¸“ä¸šé—®é¢˜æ¥å¿½æ‚ é‚£äº›éžè®¡ç®—æœºä¸“ä¸šçš„åŒå­¦ã€‚ä»Šå¤©æµ‹è¯•ç»„å¼€å®Œä¼šåŽ,ä»–åˆå‘è¯äº†:åœ¨å¤è€çš„ä¸€ç»´æ¨¡å¼è¯†åˆ«ä¸­,å¸¸å¸¸éœ€è¦è®¡ç®—è¿žç»­å­å‘é‡çš„æœ€å¤§å’Œ,å½“å‘é‡å…¨ä¸ºæ­£æ•°çš„æ—¶å€™,é—®é¢˜å¾ˆå¥½è§£å†³ã€‚ä½†æ˜¯,å¦‚æžœå‘é‡ä¸­åŒ…å«è´Ÿæ•°,æ˜¯å¦åº”è¯¥åŒ…å«æŸä¸ªè´Ÿæ•°,å¹¶æœŸæœ›æ—è¾¹çš„æ­£æ•°ä¼šå¼¥è¡¥å®ƒå‘¢ï¼Ÿä¾‹å¦‚:{6,-3,-2,7,-15,1,2,2},è¿žç»­å­å‘é‡çš„æœ€å¤§å’Œä¸º8(ä»Žç¬¬0ä¸ªå¼€å§‹,åˆ°ç¬¬3ä¸ªä¸ºæ­¢)ã€‚ç»™ä¸€ä¸ªæ•°ç»„ï¼Œè¿”å›žå®ƒçš„æœ€å¤§è¿žç»­å­åºåˆ—çš„å’Œï¼Œä½ ä¼šä¸ä¼šè¢«ä»–å¿½æ‚ ä½ï¼Ÿ(å­å‘é‡çš„é•¿åº¦è‡³å°‘æ˜¯1) è§£é¢˜æ€è·¯æ€è·¯ï¼š æ•°ç»„åˆ†æžï¼šä¸‹å›¾æ˜¯æˆ‘ä»¬è®¡ç®—æ•°ç»„ï¼ˆ1ï¼Œ-2ï¼Œ3ï¼Œ10ï¼Œ-4ï¼Œ7ï¼Œ2ï¼Œ-5ï¼‰ä¸­å­æ•°ç»„çš„æœ€å¤§å’Œçš„è¿‡ç¨‹ã€‚é€šè¿‡åˆ†æžæˆ‘ä»¬å‘çŽ°ï¼Œç´¯åŠ çš„å­æ•°ç»„å’Œï¼Œå¦‚æžœå¤§äºŽé›¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç»§ç»­ç´¯åŠ å°±è¡Œï¼›å¦åˆ™ï¼Œåˆ™éœ€è¦å‰”é™¤åŽŸæ¥çš„ç´¯åŠ å’Œé‡æ–°å¼€å§‹ã€‚ 1234567891011121314151617# -*- coding:utf-8 -*-class Solution: def FindGreatestSumOfSubArray(self, array): # write code here if len(array) == 0: return 0 maxsum = array[0] temp = 0 for x in array: temp += x if temp &gt; maxsum: maxsum = temp if temp &lt; 0: temp = 0 return maxsum 32 æŠŠæ•°ç»„æŽ’æˆæœ€å°çš„æ•°é¢˜ç›®æè¿°è¾“å…¥ä¸€ä¸ªæ­£æ•´æ•°æ•°ç»„ï¼ŒæŠŠæ•°ç»„é‡Œæ‰€æœ‰æ•°å­—æ‹¼æŽ¥èµ·æ¥æŽ’æˆä¸€ä¸ªæ•°ï¼Œæ‰“å°èƒ½æ‹¼æŽ¥å‡ºçš„æ‰€æœ‰æ•°å­—ä¸­æœ€å°çš„ä¸€ä¸ªã€‚ä¾‹å¦‚è¾“å…¥æ•°ç»„{3ï¼Œ32ï¼Œ321}ï¼Œåˆ™æ‰“å°å‡ºè¿™ä¸‰ä¸ªæ•°å­—èƒ½æŽ’æˆçš„æœ€å°æ•°å­—ä¸º321323ã€‚ è§£é¢˜æ€è·¯é¦–å…ˆå°†æ•°ç»„ä¸­çš„æ•°å­—å…¨éƒ¨è½¬æ¢ä¸ºå­—ç¬¦ä¸²å­˜å‚¨åœ¨ä¸€ä¸ªæ–°çš„æ•°ç»„ä¸­ï¼Œç„¶åŽæ¯”è¾ƒæ¯ä¸¤ä¸ªæ•°å­—ä¸²çš„æ‹¼æŽ¥çš„mnå’Œnmçš„å¤§å°ï¼Œè‹¥mn&lt;nmï¼Œåˆ™mæ›´å°ï¼Œåä¹‹næ›´å°ï¼Œç„¶åŽæŠŠæ›´å°çš„æ•°æ”¾å…¥ä¸€ä¸ªæ–°çš„Listä¸­ï¼Œæœ€åŽè¾“å‡ºå³å¯ã€‚ä½¿ç”¨å†’æ³¡æŽ’åºå¾ˆæ–¹ä¾¿ã€‚ 1234567891011121314151617# -*- coding:utf-8 -*-class Solution: def PrintMinNumber(self, numbers): # write code here if len(numbers) == 0: return '' if len(numbers) == 1: return str(numbers[0]) numbers = [str(num) for num in numbers] for i in range(len(numbers)-1): for j in range(i+1, len(numbers)): if numbers[i]+numbers[j] &gt; numbers[j] + numbers[i]: numbers[i], numbers[j] = numbers[j], numbers[i] return ''.join(numbers) 35 æ•°ç»„ä¸­çš„é€†åºå¯¹é¢˜ç›®æè¿°åœ¨æ•°ç»„ä¸­çš„ä¸¤ä¸ªæ•°å­—ï¼Œå¦‚æžœå‰é¢ä¸€ä¸ªæ•°å­—å¤§äºŽåŽé¢çš„æ•°å­—ï¼Œåˆ™è¿™ä¸¤ä¸ªæ•°å­—ç»„æˆä¸€ä¸ªé€†åºå¯¹ã€‚è¾“å…¥ä¸€ä¸ªæ•°ç»„,æ±‚å‡ºè¿™ä¸ªæ•°ç»„ä¸­çš„é€†åºå¯¹çš„æ€»æ•°Pã€‚å¹¶å°†På¯¹1000000007å–æ¨¡çš„ç»“æžœè¾“å‡ºã€‚ å³è¾“å‡ºP%1000000007 è¾“å…¥æè¿°: é¢˜ç›®ä¿è¯è¾“å…¥çš„æ•°ç»„ä¸­æ²¡æœ‰çš„ç›¸åŒçš„æ•°å­—1234æ•°æ®èŒƒå›´ï¼š å¯¹äºŽ%50çš„æ•°æ®,size&lt;=10^4 å¯¹äºŽ%75çš„æ•°æ®,size&lt;=10^5 å¯¹äºŽ%100çš„æ•°æ®,size&lt;=2*10^5 ç¤ºä¾‹112è¾“å…¥ 1,2,3,4,5,6,7,0è¾“å‡º 7 è§£é¢˜æ€è·¯æ€è·¯1ï¼šæš´åŠ›è§£æ³•ï¼Œé¡ºåºæ‰«ææ•´ä¸ªæ•°ç»„ï¼Œæ¯æ‰«æåˆ°ä¸€ä¸ªæ•°å­—çš„æ—¶å€™ï¼Œé€ä¸ªæ¯”è¾ƒè¯¥æ•°å­—å’Œå®ƒåŽé¢çš„æ•°å­—çš„å¤§å°ã€‚å¦‚æžœåŽé¢çš„æ•°å­—æ¯”å®ƒå°ï¼Œåˆ™è¿™ä¸¤ä¸ªæ•°å­—å°±ç»„æˆä¸€ä¸ªé€†åºå¯¹ã€‚å‡è®¾æ•°ç»„ä¸­å«æœ‰nä¸ªæ•°å­—ï¼Œç”±äºŽæ¯ä¸ªæ•°å­—éƒ½è¦å’ŒO(n)ä¸ªæ•°å­—ä½œæ¯”è¾ƒï¼Œå› æ­¤è¿™ä¸ªç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(n^2)ã€‚ æ€è·¯2ï¼šåˆ†æ²»æ€æƒ³ï¼Œé‡‡ç”¨å½’å¹¶æŽ’åºçš„æ€è·¯æ¥å¤„ç†ï¼Œå…ˆåˆ†åŽæ²»,å¦‚æ•°ç»„{7,5,6,4}ï¼Œé€†åºå¯¹æ€»å…±æœ‰5å¯¹ï¼Œ{7,5}ï¼Œ{7,6}ï¼Œ{7,4}ï¼Œ{5,4}ï¼Œ{6,4}ï¼›å…ˆæŠŠæ•°ç»„åˆ†è§£æˆä¸¤ä¸ªé•¿åº¦ä¸º2çš„å­æ•°ç»„ï¼Œå†æŠŠè¿™ä¸¤ä¸ªå­æ•°ç»„åˆ†è§£æˆä¸¤ä¸ªé•¿åº¦ä¸º1çš„å­æ•°ç»„ã€‚æŽ¥ä¸‹æ¥ä¸€è¾¹åˆå¹¶ç›¸é‚»çš„å­æ•°ç»„ï¼Œä¸€è¾¹ç»Ÿè®¡é€†åºå¯¹çš„æ•°ç›®ã€‚åœ¨ç¬¬ä¸€å¯¹é•¿åº¦ä¸º1çš„å­æ•°ç»„{7}ã€{5}ä¸­7&gt;5ï¼Œå› æ­¤ï¼ˆ7,5ï¼‰ç»„æˆä¸€ä¸ªé€†åºå¯¹ã€‚åŒæ ·åœ¨ç¬¬äºŒå¯¹é•¿åº¦ä¸º1çš„å­æ•°ç»„{6}ï¼Œ{4}ä¸­ä¹Ÿæœ‰é€†åºå¯¹ï¼ˆ6,4ï¼‰ï¼Œç”±äºŽå·²ç»ç»Ÿè®¡äº†è¿™ä¸¤å¯¹å­æ•°ç»„å†…éƒ¨çš„é€†åºå¯¹ï¼Œå› æ­¤éœ€è¦æŠŠè¿™ä¸¤å¯¹å­æ•°ç»„è¿›è¡ŒæŽ’åºï¼Œé¿å…åœ¨ä¹‹åŽçš„ç»Ÿè®¡è¿‡ç¨‹ä¸­é‡å¤ç»Ÿè®¡ã€‚ é€†åºå¯¹çš„æ€»æ•° = å·¦è¾¹æ•°ç»„ä¸­çš„é€†åºå¯¹çš„æ•°é‡ + å³è¾¹æ•°ç»„ä¸­é€†åºå¯¹çš„æ•°é‡ + å·¦å³ç»“åˆæˆæ–°çš„é¡ºåºæ•°ç»„æ—¶ä¸­å‡ºçŽ°çš„é€†åºå¯¹çš„æ•°é‡ æ€»ç»“ä¸€ä¸‹ï¼š è¿™æ˜¯ä¸€ä¸ªå½’å¹¶æŽ’åºçš„åˆå¹¶è¿‡ç¨‹ï¼Œä¸»è¦æ˜¯è€ƒè™‘åˆå¹¶ä¸¤ä¸ªæœ‰åºåºåˆ—æ—¶ï¼Œè®¡ç®—é€†åºå¯¹æ•°ã€‚ å¯¹äºŽä¸¤ä¸ªå‡åºåºåˆ—ã€‚ è®¾ç½®ä¸¤ä¸ªä¸‹æ ‡ï¼šä¸¤ä¸ªæœ‰åºåºåˆ—çš„é¦–éƒ¨ã€‚æ¯æ¬¡æ¯”è¾ƒä¸¤ä¸ªé¦–éƒ¨å€¼ï¼Œå¦‚æžœå‰é¦–å°¾å°äºŽç­‰äºŽåŽé¦–å€¼ï¼Œå°†è¾ƒå°å€¼èµ‹ç»™è¾…åŠ©æ•°ç»„ï¼Œç¬¬ä¸€ä¸ªåºåˆ—å¾€å‰èµ°ä¸€æ­¥ï¼Œæ²¡æœ‰é€†åºå¯¹ï¼›å¦åˆ™ï¼Œç¬¬äºŒä¸ªåºåˆ—å€¼èµ‹ç»™è¾…åŠ©æ•°ç»„ï¼Œç¬¬äºŒä¸ªåºåˆ—å‘å‰èµ°ä¸€æ­¥ï¼Œåˆ™æœ‰â€ç¬¬ä¸€ä¸ªåºåˆ—å½“å‰å€¼åŠå…¶åŽçš„é•¿åº¦â€œä¸ªé€†åºå¯¹ï¼›å³æœ€ç»ˆè¦å°†ä¸¤ä¸ªæœ‰åºåºåˆ—åˆå¹¶åˆ°è¾…åŠ©æ•°ç»„å¹¶æœ‰åºã€‚ è¿™æ ·ï¼Œæ¯æ¬¡åœ¨åˆå¹¶å‰ï¼Œå…ˆé€’å½’åœ°å¤„ç†å·¦åŠæ®µã€å³åŠæ®µï¼Œåˆ™å·¦ã€å³åŠæ®µæœ‰åºï¼Œä¸”å·¦å³åŠæ®µçš„é€†åºå¯¹æ•°å¯å¾—åˆ°ï¼Œå†è®¡ç®—å·¦å³åŠæ®µåˆå¹¶æ—¶é€†åºå¯¹çš„ä¸ªæ•°ã€‚ è¶…æ—¶123456789101112131415# -*- coding:utf-8 -*-class Solution: def InversePairs(self, data): # write code here if len(data) &lt;= 1: return 0 p = 0 for i in range(len(data)-1): for j in range(i+1, len(data)): if data[i] &gt; data[j]: count += 1 return p%1000000007 12345678910111213141516171819202122232425262728293031323334353637383940414243444546# -*- coding:utf-8 -*-class Solution: def InversePairs(self, data): # write code her if len(data)&lt;=1: return 0 # æ€è·¯1ï¼šè¿è¡Œè¶…æ—¶ # p = 0 # for i in range(len(data)-1): # for j in range(i+1,len(data)): # if data[i] &gt; data[j]: # p += 1 # return p % 1000000007 # æ€è·¯2ï¼šå½’å¹¶æŽ’åº temp = [x for x in data] return self.MSort(data,temp,0,len(data)-1)% 1000000007 def MSort(self,data,temp,low,high): if low&gt;=high: temp[low] = data[low] return 0 mid = (low+high)//2 left = self.MSort(temp,data,low,mid) right = self.MSort(temp,data,mid+1,high) count = 0 i = low j = mid+1 index = low while i &lt;=mid and j &lt;= high: if data[i]&lt;=data[j]: temp[index] = data[i] i += 1 else: temp[index] = data[j] j += 1 count += mid-i+1 index += 1 while i &lt;= mid: temp[index] = data[i] i += 1 index += 1 while j &lt;= high: temp[index] = data[j] j += 1 index += 1 return count + left + right 37 æ•°å­—åœ¨æŽ’åºæ•°ç»„ä¸­å‡ºçŽ°çš„æ¬¡æ•°é¢˜ç›®æè¿°ç»Ÿè®¡ä¸€ä¸ªæ•°å­—åœ¨æŽ’åºæ•°ç»„ä¸­å‡ºçŽ°çš„æ¬¡æ•°ã€‚ è§£é¢˜æ€è·¯ä½¿ç”¨äºŒåˆ†æœç´¢ï¼Œå½“æœç´¢åˆ°ä¸Žå…³é”®å­—ç›¸ç­‰æ—¶ï¼Œåœ¨ä¸Šä¸‹é™ä¹‹é—´éåŽ†ï¼Œè®¡æ•°ã€‚æ²¡æ‰¾åˆ°åˆ™è¿”å›ž0 1234567891011121314151617181920212223# -*- coding:utf-8 -*-class Solution: def GetNumberOfK(self, data, k): # write code here if len(data) == 0: return 0 left, right = 0, len(data)-1 while left &lt;= right: mid = left+(right-left)//2 if data[mid] == k: temp = 0 for i in range(left, right+1): if data[i] == k: temp += 1 return temp elif data[mid] &lt; k: left += 1 else: right -= 1 return 0 40æ•°ç»„ä¸­åªå‡ºçŽ°ä¸€æ¬¡çš„æ•°å­—é¢˜ç›®æè¿° ä¸€ä¸ªæ•´åž‹æ•°ç»„é‡Œé™¤äº†ä¸¤ä¸ªæ•°å­—ä¹‹å¤–ï¼Œå…¶ä»–çš„æ•°å­—éƒ½å‡ºçŽ°äº†å¶æ•°æ¬¡ã€‚è¯·å†™ç¨‹åºæ‰¾å‡ºè¿™ä¸¤ä¸ªåªå‡ºçŽ°ä¸€æ¬¡çš„æ•°å­—ã€‚ è§£é¢˜æ€è·¯æ€è·¯1ï¼šè€ƒè™‘ç”¨å“ˆå¸Œè¡¨çš„æ–¹æ³•ï¼Œä½†æ˜¯ç©ºé—´å¤æ‚åº¦ä¸æ˜¯Oï¼ˆ1ï¼‰ã€‚åº”è¯¥æ€Žä¹ˆåšæ‰èƒ½å³æ»¡è¶³æ—¶é—´å¤æ‚åº¦æ˜¯Oï¼ˆnï¼‰åˆæ»¡è¶³ç©ºé—´å¤æ‚åº¦æ˜¯Oï¼ˆ1ï¼‰çš„è¦æ±‚å‘¢ï¼Ÿ æ€è·¯2ï¼š æˆ‘ä»¬å¯ä»¥æƒ³ä¸€æƒ³â€œå¼‚æˆ–â€è¿ç®—çš„ä¸€ä¸ªæ€§è´¨ï¼Œæˆ‘ä»¬ç›´æŽ¥ä¸¾ä¾‹è¯´æ˜Žã€‚ ä¸¾ä¾‹ï¼š{2,4,3,6,3,2,5,5} è¿™ä¸ªæ•°ç»„ä¸­åªå‡ºçŽ°ä¸€æ¬¡çš„ä¸¤ä¸ªæ•°åˆ†åˆ«æ˜¯4å’Œ6ã€‚æ€Žä¹ˆæ‰¾åˆ°è¿™ä¸ªä¸¤ä¸ªæ•°å­—å‘¢ï¼Ÿ æˆ‘ä»¬å…ˆä¸çœ‹æ‰¾åˆ°ä¿©ä¸ªçš„æƒ…å†µï¼Œå…ˆçœ‹è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚ä½•åœ¨ä¸€ä¸ªæ•°ç»„ä¸­æ‰¾åˆ°ä¸€ä¸ªåªå‡ºçŽ°ä¸€æ¬¡çš„æ•°å­—å‘¢ï¼Ÿæ¯”å¦‚æ•°ç»„ï¼š{4,5,5}ï¼Œå”¯ä¸€ä¸€ä¸ªåªå‡ºçŽ°ä¸€æ¬¡çš„æ•°å­—æ˜¯4ã€‚ æˆ‘ä»¬çŸ¥é“å¼‚æˆ–çš„ä¸€ä¸ªæ€§è´¨æ˜¯ï¼šä»»ä½•ä¸€ä¸ªæ•°å­—å¼‚æˆ–å®ƒè‡ªå·±éƒ½ç­‰äºŽ0ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æžœæˆ‘ä»¬ä»Žå¤´åˆ°å°¾ä¾æ¬¡å¼‚æˆ–æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªæ•°å­—ï¼Œé‚£ä¹ˆæœ€ç»ˆçš„ç»“æžœåˆšå¥½æ˜¯é‚£ä¸ªåªå‡ºçŽ°ä¸€æ¬¡çš„æ•°å­—ã€‚æ¯”å¦‚æ•°ç»„{4,5,5}ï¼Œæˆ‘ä»¬å…ˆç”¨æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ 4ï¼ˆäºŒè¿›åˆ¶å½¢å¼ï¼š0100ï¼‰å’Œæ•°ç»„ä¸­çš„ç¬¬äºŒä¸ªå…ƒç´ 5ï¼ˆäºŒè¿›åˆ¶å½¢å¼ï¼š0101ï¼‰è¿›è¡Œå¼‚æˆ–æ“ä½œï¼Œ0100å’Œ0101å¼‚æˆ–å¾—åˆ°0001ï¼Œç”¨è¿™ä¸ªå¾—åˆ°çš„å…ƒç´ ä¸Žæ•°ç»„ä¸­çš„ä¸‰ä¸ªå…ƒç´ 5ï¼ˆäºŒè¿›åˆ¶å½¢å¼ï¼š0101ï¼‰è¿›è¡Œå¼‚æˆ–æ“ä½œï¼Œ0001å’Œ0101å¼‚æˆ–å¾—åˆ°0100ï¼Œæ­£å¥½æ˜¯ç»“æžœæ•°å­—4ã€‚è¿™æ˜¯å› ä¸ºæ•°ç»„ä¸­ç›¸åŒçš„å…ƒç´ å¼‚æˆ–æ˜¯ä¸º0çš„ï¼Œå› æ­¤å°±åªå‰©ä¸‹é‚£ä¸ªä¸æˆå¯¹çš„å­¤è‹¦ä¼¶ä»ƒå…ƒç´ ã€‚ çŽ°åœ¨å¥½äº†ï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“äº†å¦‚ä½•æ‰¾åˆ°ä¸€ä¸ªæ•°ç»„ä¸­æ‰¾åˆ°ä¸€ä¸ªåªå‡ºçŽ°ä¸€æ¬¡çš„æ•°å­—ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•åœ¨ä¸€ä¸ªæ•°ç»„ä¸­æ‰¾åˆ°ä¸¤ä¸ªåªå‡ºçŽ°ä¸€æ¬¡çš„æ•°å­—å‘¢ï¼Ÿå¦‚æžœï¼Œæˆ‘ä»¬å¯ä»¥å°†åŽŸå§‹æ•°ç»„åˆ†æˆä¸¤ä¸ªå­æ•°ç»„ï¼Œä½¿å¾—æ¯ä¸ªå­æ•°ç»„åŒ…å«ä¸€ä¸ªåªå‡ºçŽ°ä¸€æ¬¡çš„æ•°å­—ï¼Œè€Œå…¶ä»–æ•°å­—éƒ½æˆå¯¹å‡ºçŽ°ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨ä¸Šè¿°æ–¹æ³•æ‰¾åˆ°é‚£ä¸ªå­¤è‹¦ä¼¶ä»ƒçš„å…ƒç´ ã€‚ æˆ‘ä»¬è¿˜æ˜¯ä»Žå¤´åˆ°å°¾ä¸€æ¬¡å¼‚æˆ–æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªæ•°å­—ï¼Œé‚£ä¹ˆæœ€ç»ˆå¾—åˆ°çš„ç»“æžœå°±æ˜¯ä¸¤ä¸ªåªå‡ºçŽ°ä¸€æ¬¡çš„æ•°ç»„çš„å¼‚æˆ–ç»“æžœã€‚å› ä¸ºå…¶ä»–æ•°å­—éƒ½å‡ºçŽ°äº†ä¸¤æ¬¡ï¼Œåœ¨å¼‚æˆ–ä¸­å…¨éƒ¨æŠµæ¶ˆäº†ã€‚ç”±äºŽä¸¤ä¸ªæ•°å­—è‚¯å®šä¸ä¸€æ ·ï¼Œé‚£ä¹ˆå¼‚æˆ–çš„ç»“æžœè‚¯å®šä¸ä¸º0ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªç»“æžœæ•°ç»„çš„äºŒè¿›åˆ¶è¡¨ç¤ºè‡³å°‘æœ‰ä¸€ä¸ªä½ä¸º1ã€‚æˆ‘ä»¬åœ¨ç»“æžœæ•°ç»„ä¸­æ‰¾åˆ°ç¬¬ä¸€ä¸ªä¸º1çš„ä½çš„ä½ç½®ï¼Œè®°ä¸ºç¬¬nä½ã€‚çŽ°åœ¨æˆ‘ä»¬ä»¥ç¬¬nä½æ˜¯ä¸æ˜¯1ä¸ºæ ‡å‡†æŠŠå…ƒæ•°ç»„ä¸­çš„æ•°å­—åˆ†æˆä¸¤ä¸ªå­æ•°ç»„ï¼Œç¬¬ä¸€ä¸ªå­æ•°ç»„ä¸­æ¯ä¸ªæ•°å­—çš„ç¬¬nä½éƒ½æ˜¯1ï¼Œè€Œç¬¬äºŒä¸ªå­æ•°ç»„ä¸­æ¯ä¸ªæ•°å­—çš„ç¬¬nä½éƒ½æ˜¯0ã€‚ ä¸¾ä¾‹ï¼š{2,4,3,6,3,2,5,5} æˆ‘ä»¬ä¾æ¬¡å¯¹æ•°ç»„ä¸­çš„æ¯ä¸ªæ•°å­—åšå¼‚æˆ–è¿è¡Œä¹‹åŽï¼Œå¾—åˆ°çš„ç»“æžœç”¨äºŒè¿›åˆ¶è¡¨ç¤ºæ˜¯0010ã€‚å¼‚æˆ–å¾—åˆ°ç»“æžœä¸­çš„å€’æ•°ç¬¬äºŒä½æ˜¯1ï¼ŒäºŽæ˜¯æˆ‘ä»¬æ ¹æ®æ•°å­—çš„å€’æ•°ç¬¬äºŒä½æ˜¯ä¸æ˜¯1åˆ†ä¸ºä¸¤ä¸ªå­æ•°ç»„ã€‚ç¬¬ä¸€ä¸ªå­æ•°ç»„{2,3,6,3,2}ä¸­æ‰€æœ‰æ•°å­—çš„å€’æ•°ç¬¬äºŒä½éƒ½æ˜¯1ï¼Œè€Œç¬¬äºŒä¸ªå­æ•°ç»„{4,5,5}ä¸­æ‰€æœ‰æ•°å­—çš„å€’æ•°ç¬¬äºŒä½éƒ½æ˜¯0ã€‚æŽ¥ä¸‹æ¥åªè¦åˆ†åˆ«ä¸¤ä¸ªå­æ•°ç»„æ±‚å¼‚æˆ–ï¼Œå°±èƒ½æ‰¾åˆ°ç¬¬ä¸€ä¸ªå­æ•°ç»„ä¸­åªå‡ºçŽ°ä¸€æ¬¡çš„æ•°å­—æ˜¯6ï¼Œè€Œç¬¬äºŒä¸ªå­æ•°ç»„ä¸­åªå‡ºçŽ°ä¸€æ¬¡çš„æ•°å­—æ˜¯4ã€‚ 12345678910111213141516171819# -*- coding:utf-8 -*-class Solution: # è¿”å›ž[a,b] å…¶ä¸­abæ˜¯å‡ºçŽ°ä¸€æ¬¡çš„ä¸¤ä¸ªæ•°å­— def FindNumsAppearOnce(self, array): # write code here Dict = &#123;&#125; for x in array: if x not in Dict: Dict[x] = 1 else: Dict[x] += 1 res = [] for key, val in Dict.items(): if val == 1: res.append(key) return res 12345678910111213141516171819202122232425262728# -*- coding:utf-8 -*-class Solution: # è¿”å›ž[a,b] å…¶ä¸­abæ˜¯å‡ºçŽ°ä¸€æ¬¡çš„ä¸¤ä¸ªæ•°å­— def FindNumsAppearOnce(self, array): # write code here num = 0 for x in array: num ^= x index = self.getfitstBitIs1(num) num1, num2 = 0, 0 for x in array: if self.BitIs1(x, index): num1 ^= x else: num2 ^= x return num1, num2 def getfitstBitIs1(self, num): index = 0 while num&amp;1 == 0 and index &lt;= 32: index += 1 num = num&gt;&gt;1 return index def BitIs1(self, num, index): num = num &gt;&gt; index return num &amp; 1 50æ•°ç»„ä¸­é‡å¤çš„æ•°å­—é¢˜ç›®æè¿°åœ¨ä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ•°ç»„é‡Œçš„æ‰€æœ‰æ•°å­—éƒ½åœ¨0åˆ°n-1çš„èŒƒå›´å†…ã€‚ æ•°ç»„ä¸­æŸäº›æ•°å­—æ˜¯é‡å¤çš„ï¼Œä½†ä¸çŸ¥é“æœ‰å‡ ä¸ªæ•°å­—æ˜¯é‡å¤çš„ã€‚ä¹Ÿä¸çŸ¥é“æ¯ä¸ªæ•°å­—é‡å¤å‡ æ¬¡ã€‚è¯·æ‰¾å‡ºæ•°ç»„ä¸­ä»»æ„ä¸€ä¸ªé‡å¤çš„æ•°å­—ã€‚ ä¾‹å¦‚ï¼Œå¦‚æžœè¾“å…¥é•¿åº¦ä¸º7çš„æ•°ç»„{2,3,1,0,2,5,3}ï¼Œé‚£ä¹ˆå¯¹åº”çš„è¾“å‡ºæ˜¯ç¬¬ä¸€ä¸ªé‡å¤çš„æ•°å­—2ã€‚ æ€è·¯1ï¼šå»ºç«‹ä¸€ä¸ªå“ˆå¸Œè¡¨ï¼Œè¿™æ ·å®žåœ¨O(n)çš„æ—¶é—´æŸ¥æ‰¾åˆ°ï¼Œä½†æ˜¯ç©ºé—´å¤æ‚åº¦O(n) æ€è·¯2ï¼š è¿˜å¯ä»¥æŠŠå½“å‰åºåˆ—å½“æˆæ˜¯ä¸€ä¸ªä¸‹æ ‡å’Œä¸‹æ ‡å¯¹åº”å€¼æ˜¯ç›¸åŒçš„æ•°ç»„ï¼ˆæ—¶é—´å¤æ‚åº¦ä¸ºO(n),ç©ºé—´å¤æ‚åº¦ä¸ºO(1)ï¼‰ï¼› éåŽ†æ•°ç»„ï¼Œåˆ¤æ–­å½“å‰ä½çš„å€¼å’Œä¸‹æ ‡æ˜¯å¦ç›¸ç­‰ï¼š è‹¥ç›¸ç­‰ï¼Œåˆ™éåŽ†ä¸‹ä¸€ä½ï¼› è‹¥ä¸ç­‰ï¼Œåˆ™å°†å½“å‰ä½ç½®iä¸Šçš„å…ƒç´ å’Œa[i]ä½ç½®ä¸Šçš„å…ƒç´ æ¯”è¾ƒï¼šè‹¥å®ƒä»¬ç›¸ç­‰ï¼Œåˆ™æ‰¾åˆ°äº†ç¬¬ä¸€ä¸ªç›¸åŒçš„å…ƒç´ ï¼›è‹¥ä¸ç­‰ï¼Œåˆ™å°†å®ƒä»¬ä¸¤äº¤æ¢ã€‚æ¢å®Œä¹‹åŽa[i]ä½ç½®ä¸Šçš„å€¼å’Œå®ƒçš„ä¸‹æ ‡æ˜¯å¯¹åº”çš„ï¼Œä½†iä½ç½®ä¸Šçš„å…ƒç´ å’Œä¸‹æ ‡å¹¶ä¸ä¸€å®šå¯¹åº”ï¼›é‡å¤2çš„æ“ä½œï¼Œç›´åˆ°å½“å‰ä½ç½®içš„å€¼ä¹Ÿä¸ºiï¼Œå°†iå‘åŽç§»ä¸€ä½ï¼Œå†é‡å¤2ã€‚ å¦‚æžœè¿˜æ˜¯ä¸æ‡‚ï¼Œçœ‹ä¸‹é¢çš„å®žä¾‹åˆ†æžå°±æ‡‚äº†ï¼ ä¸¾ä¾‹è¯´æ˜Žï¼š{2,3,1,0,2,5,3} 0(ç´¢å¼•å€¼)å’Œ2(ç´¢å¼•å€¼ä½ç½®çš„å…ƒç´ )ä¸ç›¸ç­‰ï¼Œå¹¶ä¸”2(ç´¢å¼•å€¼ä½ç½®çš„å…ƒç´ )å’Œ1(ä»¥è¯¥ç´¢å¼•å€¼ä½ç½®çš„å…ƒç´ 2ä¸ºç´¢å¼•å€¼çš„ä½ç½®çš„å…ƒç´ )ä¸ç›¸ç­‰ï¼Œåˆ™äº¤æ¢ä½ç½®ï¼Œæ•°ç»„å˜ä¸ºï¼š{1,3,2,0,2,5,3}ï¼› 0(ç´¢å¼•å€¼)å’Œ1(ç´¢å¼•å€¼ä½ç½®çš„å…ƒç´ )ä»ç„¶ä¸ç›¸ç­‰ï¼Œå¹¶ä¸”1(ç´¢å¼•å€¼ä½ç½®çš„å…ƒç´ )å’Œ3(ä»¥è¯¥ç´¢å¼•å€¼ä½ç½®çš„å…ƒç´ 1ä¸ºç´¢å¼•å€¼çš„ä½ç½®çš„å…ƒç´ )ä¸ç›¸ç­‰ï¼Œåˆ™äº¤æ¢ä½ç½®ï¼Œæ•°ç»„å˜ä¸ºï¼š{3,1,2,0,2,5,3}ï¼› 0(ç´¢å¼•å€¼)å’Œ3(ç´¢å¼•å€¼ä½ç½®çš„å…ƒç´ )ä»ç„¶ä¸ç›¸ç­‰ï¼Œå¹¶ä¸”3(ç´¢å¼•å€¼ä½ç½®çš„å…ƒç´ )å’Œ0(ä»¥è¯¥ç´¢å¼•å€¼ä½ç½®çš„å…ƒç´ 3ä¸ºç´¢å¼•å€¼çš„ä½ç½®çš„å…ƒç´ )ä¸ç›¸ç­‰ï¼Œåˆ™äº¤æ¢ä½ç½®ï¼Œæ•°ç»„å˜ä¸ºï¼š{0,1,2,3,2,5,3}ï¼› 0(ç´¢å¼•å€¼)å’Œ0(ç´¢å¼•å€¼ä½ç½®çš„å…ƒç´ )ç›¸ç­‰ï¼ŒéåŽ†ä¸‹ä¸€ä¸ªå…ƒç´ ï¼› 1(ç´¢å¼•å€¼)å’Œ1(ç´¢å¼•å€¼ä½ç½®çš„å…ƒç´ )ç›¸ç­‰ï¼ŒéåŽ†ä¸‹ä¸€ä¸ªå…ƒç´ ï¼› 2(ç´¢å¼•å€¼)å’Œ2(ç´¢å¼•å€¼ä½ç½®çš„å…ƒç´ )ç›¸ç­‰ï¼ŒéåŽ†ä¸‹ä¸€ä¸ªå…ƒç´ ï¼› 3(ç´¢å¼•å€¼)å’Œ3(ç´¢å¼•å€¼ä½ç½®çš„å…ƒç´ )ç›¸ç­‰ï¼ŒéåŽ†ä¸‹ä¸€ä¸ªå…ƒç´ ï¼› 4(ç´¢å¼•å€¼)å’Œ2(ç´¢å¼•å€¼ä½ç½®çš„å…ƒç´ )ä¸ç›¸ç­‰,ä½†æ˜¯2(ç´¢å¼•å€¼ä½ç½®çš„å…ƒç´ )å’Œ2(ä»¥è¯¥ç´¢å¼•å€¼ä½ç½®çš„å…ƒç´ 2ä¸ºç´¢å¼•å€¼çš„ä½ç½®çš„å…ƒç´ )ç›¸ç­‰ï¼Œåˆ™æ‰¾åˆ°äº†ç¬¬ä¸€ä¸ªé‡å¤çš„å…ƒç´ ã€‚ 1234567891011121314151617181920# -*- coding:utf-8 -*-class Solution: # è¿™é‡Œè¦ç‰¹åˆ«æ³¨æ„~æ‰¾åˆ°ä»»æ„é‡å¤çš„ä¸€ä¸ªå€¼å¹¶èµ‹å€¼åˆ°duplication[0] # å‡½æ•°è¿”å›žTrue/False def duplicate(self, numbers, duplication): # write code here if len(numbers) &lt;= 0: return False Dict = &#123;&#125; for i in range(len(numbers)): if numbers[i] not in Dict: Dict[numbers[i]] = 1 else: Dict[numbers[i]] += 1 if Dict[numbers[i]] == 2: duplication[0] = numbers[i] return True return False 12345678910111213141516171819# -*- coding:utf-8 -*-class Solution: # è¿™é‡Œè¦ç‰¹åˆ«æ³¨æ„~æ‰¾åˆ°ä»»æ„é‡å¤çš„ä¸€ä¸ªå€¼å¹¶èµ‹å€¼åˆ°duplication[0] # å‡½æ•°è¿”å›žTrue/False def duplicate(self, numbers, duplication): # write code here if len(numbers) &lt;= 1: return False for i in range(len(numbers)): while i != numbers[i]: if numbers[i] == numbers[numbers[i]]: duplication[0] = numbers[i] return True else: numbers[numbers[i]], numbers[i] = numbers[i], numbers[numbers[i]] return False 51æž„å»ºä¹˜ç§¯æ•°ç»„é¢˜ç›®æè¿° ç»™å®šä¸€ä¸ªæ•°ç»„A[0,1,â€¦,n-1],è¯·æž„å»ºä¸€ä¸ªæ•°ç»„B[0,1,â€¦,n-1],å…¶ä¸­Bä¸­çš„å…ƒç´ B[i]=A[0]A[1]â€¦A[i-1]A[i+1]â€¦A[n-1]ã€‚ä¸èƒ½ä½¿ç”¨é™¤æ³•ã€‚ è§£é¢˜æ€è·¯è§‚å¯Ÿä¸‹å…¬å¼ï¼Œä½ ä¼šå‘çŽ°ï¼ŒB[i]å…¬å¼ä¸­æ²¡æœ‰A[i]é¡¹ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æžœå¯ä»¥ä½¿ç”¨é™¤æ³•ï¼Œå°±å¯ä»¥ç”¨å…¬å¼B[i]=A[0]A[1]â€¦..A[n-1]/A[i]æ¥è®¡ç®—B[i]ï¼Œä½†æ˜¯é¢˜ç›®è¦æ±‚ä¸èƒ½ä½¿ç”¨ï¼Œå› æ­¤æˆ‘ä»¬åªèƒ½å¦æƒ³åŠžæ³•ã€‚ å¯ä»¥æŠŠB[i]=A[0]A[1]â€¦..A[i-1]A[i+1]â€¦..A[n-1]ã€‚çœ‹æˆA[0]A[1]â€¦..A[i-1]å’ŒA[i+1]â€¦..A[n-2]A[n-1]ä¸¤éƒ¨åˆ†çš„ä¹˜ç§¯ã€‚ å³é€šè¿‡A[i]é¡¹å°†B[i]åˆ†ä¸ºä¸¤éƒ¨åˆ†çš„ä¹˜ç§¯ã€‚æ•ˆæžœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼šä¸å¦¨è®¾å®šC[i]=A[0]A[1]â€¦A[i-1]ï¼ŒD[i]=A[i+1]â€¦A[n-2]A[n-1]ã€‚C[i]å¯ä»¥ç”¨è‡ªä¸Šè€Œä¸‹çš„é¡ºåºè®¡ç®—å‡ºæ¥ï¼Œå³C[i]=C[i-1]A[i-1]ã€‚ç±»ä¼¼çš„ï¼ŒD[i]å¯ä»¥ç”¨è‡ªä¸‹è€Œä¸Šçš„é¡ºåºè®¡ç®—å‡ºæ¥ï¼Œå³D[i]=D[i+1]A[i+1]ã€‚ å¦‚æžœè¿˜æ˜¯ä¸æ˜Žç™½ï¼Œæ²¡æœ‰å…³ç³»ï¼Œç›´æŽ¥çœ‹ä¸‹ä»£ç ï¼Œç»†ç»†ä½“ä¼šä¸‹å°±æ‡‚äº†ã€‚ç¬¬ä¸€ä¸ªforå¾ªçŽ¯ç”¨æ¥è®¡ç®—ä¸Šå›¾1èŒƒå›´çš„æ•°ï¼Œç¬¬äºŒä¸ªforå¾ªçŽ¯ç”¨æ¥è®¡ç®—ä¸Šå›¾2èŒƒå›´çš„æ•°ã€‚1234567891011121314151617# -*- coding:utf-8 -*-class Solution: def multiply(self, A): # write code here if len(A) &lt;= 1: return False B = [1] * len(A) for i in range(1, len(A)): B[i] = B[i-1]*A[i-1] temp = 1 for i in range(len(A)-2,-1, -1): temp *= A[i+1] B[i] *= temp return B]]></content>
      <categories>
        <category>å‰‘æŒ‡offer</category>
      </categories>
      <tags>
        <tag>å‰‘æŒ‡offer</tag>
        <tag>ç®—æ³•é¢˜è§£</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‰‘æŒ‡offeré¢˜è§£ - å…¶ä»–]]></title>
    <url>%2F2019%2F05%2F13%2F%E5%89%91%E6%8C%87offer-%E5%85%B6%E4%BB%96%2F</url>
    <content type="text"><![CDATA[æœ¬ç³»åˆ—ä¸ºå‰‘æŒ‡offeråˆ·é¢˜ç¬”è®°ï¼Œåˆ·é¢˜å¹³å°ä¸ºç‰›å®¢ç½‘ã€‚é¢˜é‡ä¸º66é“ï¼Œæœ¬ç³»åˆ—æ‰€æœ‰é¢˜è§£æ±‡æ€»å¦‚ä¸‹ï¼š å‰‘æŒ‡offeré¢˜è§£ - é“¾è¡¨å‰‘æŒ‡offeré¢˜è§£ - æ ‘å‰‘æŒ‡offeré¢˜è§£ - æ•°ç»„å‰‘æŒ‡offeré¢˜è§£ - å­—ç¬¦ä¸²å‰‘æŒ‡offeré¢˜è§£ - æ ˆå‰‘æŒ‡offeré¢˜è§£ - é€’å½’å‰‘æŒ‡offeré¢˜è§£ - å›žæº¯å‰‘æŒ‡offeré¢˜è§£ - å…¶ä»– æœ¬æ–‡ä¸»è¦æ˜¯å…¶ä»–ç›¸å…³é¢˜ç›®é¢˜è§£æ€»ç»“ã€‚ [TOC] 11.äºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•°é¢˜ç›®æè¿°è¾“å…¥ä¸€ä¸ªæ•´æ•°ï¼Œè¾“å‡ºè¯¥æ•°äºŒè¿›åˆ¶è¡¨ç¤ºä¸­1çš„ä¸ªæ•°ã€‚å…¶ä¸­è´Ÿæ•°ç”¨è¡¥ç è¡¨ç¤ºã€‚ è§£é¢˜æ€è·¯æ€è·¯1ï¼šä»Žå³å¾€å·¦é€ä½åˆ¤æ–­ æ€è·¯2ï¼šä¸ºäº†é¿å…æ­»å¾ªçŽ¯ï¼Œæˆ‘ä»¬å¯ä»¥ä¸å³ç§»è¾“å…¥çš„æ•°æ®nã€‚é¦–å…ˆæŠŠnå’Œ1åšä¸Žè¿ç®—ï¼Œåˆ¤æ–­nçš„æœ€ä½Žä½æ˜¯ä¸æ˜¯ä¸º1ï¼ŒæŽ¥ç€æŠŠ1å·¦ç§»ä¸€ä½å¾—åˆ°2ï¼Œå†å’Œnåšä¸Žè¿ç®—ï¼Œå°±èƒ½åˆ¤æ–­nçš„æ¬¡ä½Žä½æ˜¯ä¸æ˜¯1.ã€‚ã€‚è¿™æ ·åå¤å·¦ç§»ï¼Œæ¯æ¬¡éƒ½èƒ½åˆ¤æ–­nçš„å…¶ä¸­ä¸€ä½æ˜¯ä¸æ˜¯1.æ³¨æ„flagè¦è®¾å®šèŒƒå›´ã€‚å¾ªçŽ¯æ¬¡æ•°ç­‰äºŽäºŒè¿›åˆ¶çš„ä½æ•°ã€‚ æ€è·¯3ï¼šï¼ˆæœ€ä¼˜ï¼‰å¦‚æžœä¸€ä¸ªæ•´æ•°ä¸ä¸º0ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•´æ•°è‡³å°‘æœ‰ä¸€ä½æ˜¯1ï¼Œå¦‚æžœæˆ‘ä»¬æŠŠæ•´æ•°å‡1ï¼Œé‚£ä¹ˆåŽŸæ¥å¤„åœ¨æ•´æ•°æœ€å³è¾¹çš„1å°±ä¼šå˜ä¸º0, åŽŸæ¥åœ¨1åŽé¢çš„æ‰€æœ‰0éƒ½ä¼šå˜ä¸º1ï¼ˆå¦‚æžœæœ€å³è¾¹çš„1åŽé¢è¿˜æœ‰0çš„è¯ï¼‰ã€‚å…¶ä½™æ‰€æœ‰ä½å°†ä¸å—å½±å“ã€‚ ä¸¾ä¸ªä¾‹å­ï¼šä¸€ä¸ªäºŒè¿›åˆ¶æ•°1100ï¼Œä»Žå³è¾¹èµ·ç¬¬ä¸‰ä½æ˜¯å¤„äºŽæœ€å³è¾¹çš„1ï¼Œå‡åŽ»1åŽï¼Œç¬¬ä¸‰ä½å˜ä¸º0ï¼Œä»–åŽé¢çš„ä¸¤ä¸ª0å˜ä¸º1äº†ï¼Œè€Œå‰é¢çš„1ä¿æŒä¸å˜ï¼Œå› æ­¤å¾—åˆ°çš„ç»“æžœæ˜¯1011.æˆ‘ä»¬å‘çŽ°å‡1çš„ç»“æžœå°±æ˜¯æŠŠæœ€å³è¾¹çš„ä¸€ä¸ª1å¼€å§‹çš„æ‰€æœ‰ä½éƒ½å–åäº†ã€‚è¿™ä¸ªæ—¶å€™å¦‚æžœæˆ‘ä»¬å†æŠŠåŽŸæ¥çš„æ•´æ•°å’Œå‡åŽ»1ä¹‹åŽçš„ç»“æžœåšä¸Žè¿ç®—ï¼Œä»ŽåŽŸæ¥æ•´æ•°æœ€å³è¾¹ä¸€ä¸ª1é‚£ä¸€ä½å¼€å§‹æ‰€æœ‰ä½éƒ½ä¼šå˜æˆ0.å¦‚1100&amp;1011 = 1000.ä¹Ÿå°±æ˜¯è¯´ï¼ŒæŠŠä¸€ä¸ªæ•´æ•°å‡åŽ»1ï¼Œå†å’ŒåŽŸæ•´æ•°åšä¸Žè¿ç®—ï¼Œä¼šæŠŠè¯¥æ•´æ•°æœ€å³è¾¹çš„1å˜æˆ0ï¼Œé‚£ä¹ˆä¸€ä¸ªæ•´æ•°çš„äºŒè¿›åˆ¶æœ‰å¤šå°‘ä¸ª1ï¼Œå°±å¯ä»¥è¿›è¡Œå¤šå°‘æ¬¡è¿™æ ·çš„æ“ä½œã€‚åœ¨pythonä¸­ï¼Œç”±äºŽè´Ÿæ•°ä½¿ç”¨è¡¥ç è¡¨ç¤ºçš„ï¼Œå¯¹äºŽè´Ÿæ•°ï¼Œæœ€é«˜ä½ä¸º1ï¼Œè€Œè´Ÿæ•°åœ¨è®¡ç®—æœºä¸­æ˜¯ä»¥è¡¥ç å­˜åœ¨çš„ï¼Œå¾€å³ç§»ï¼Œç¬¦å·ä½ä¸å˜ï¼Œç¬¦å·ä½å¾€å³ç§»ï¼Œæœ€ç»ˆå¯èƒ½ä¼šå‡ºçŽ°å…¨1çš„æƒ…å†µï¼Œå¯¼è‡´æ­»å¾ªçŽ¯ã€‚ä¸Žoxffffffffæƒ³ä¸Žï¼Œå°±å¯ä»¥æ¶ˆåŽ»è´Ÿæ•°çš„å½±å“ã€‚1234567891011121314151617181920212223242526272829303132# -*- coding:utf-8 -*-class Solution: def NumberOf1(self, n): # write code here # æ€è·¯1 # if n &lt; 0: # n = n &amp; 0xffffffff # count = 0 # while n: # if n%2 == 1: # count += 1 # n = n &gt;&gt; 1 # return count # æ€è·¯2 # flag = 1 # count = 0 # while flag and flag &lt;= 0xffffffff: # if n &amp; flag: # count += 1 # flag = flag &lt;&lt; 1 # return count # æ€è·¯3 if n &lt; 0: n = n &amp; 0xffffffff count = 0 while n: count += 1 n = (n-1)&amp;n return countif __name__ == '__main__': result = Solution().NumberOf1(42) print(result) 12 æ•°å€¼çš„æ•´æ•°æ¬¡æ–¹é¢˜ç›®æè¿°ç»™å®šä¸€ä¸ªdoubleç±»åž‹çš„æµ®ç‚¹æ•°baseå’Œintç±»åž‹çš„æ•´æ•°exponentã€‚æ±‚baseçš„exponentæ¬¡æ–¹ã€‚ è§£é¢˜æ€è·¯äºŒåˆ†æ±‚å¹‚ï¼Œé€’å½’ã€‚ å¦‚æžœn=0ï¼Œè¿”å›ž1ï¼› å¦‚æžœnä¸ºè´Ÿæ•°ï¼Œç›¸å½“äºŽæ±‚(1.0/x)^(-n)ã€‚ å¦‚æžœnä¸ºæ­£å¥‡æ•°ï¼Œç›¸å½“äºŽæ±‚ x (x^2)^(n//2)ï¼› å¦‚æžœnä¸ºæ­£å¶æ•°ï¼Œç›¸å½“äºŽæ±‚ (x^2)^(n//2)ã€‚ 1234567891011121314# -*- coding:utf-8 -*-class Solution: def Power(self, base, exponent): # write code here if base == 0.0: return 0.0 if exponent == 0: return 1.0 if exponent &lt; 0: return 1.0 / self.Power(base, -exponent) elif exponent%2: return self.Power(base*base, exponent//2)*base else: return self.Power(base*base, exponent//2) pythonä¸­ç­‰äºŽæ²¡æœ‰è¯¯å·®ï¼Œå› æ­¤å¯ä»¥å†™å‡ºå¦‚ä¸‹ä»£ç ï¼š1234567891011121314151617181920# -*- coding:utf-8 -*-class Solution: def Power(self, base, exponent): # write code here if base == 0.0: return 0 flag = 0 if exponent &lt; 0: flag = 1 exponent = -exponent res = 1 for i in range(exponent): res *= base if flag: res = 1.0/res return resif __name__ == '__main__': result = Solution().Power(2,-3) print(result) 19 é¡ºæ—¶é’ˆæ‰“å°çŸ©é˜µé¢˜ç›®æè¿°è¾“å…¥ä¸€ä¸ªçŸ©é˜µï¼ŒæŒ‰ç…§ä»Žå¤–å‘é‡Œä»¥é¡ºæ—¶é’ˆçš„é¡ºåºä¾æ¬¡æ‰“å°å‡ºæ¯ä¸€ä¸ªæ•°å­—ï¼Œä¾‹å¦‚ï¼Œå¦‚æžœè¾“å…¥å¦‚ä¸‹4 X 4çŸ©é˜µï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 åˆ™ä¾æ¬¡æ‰“å°å‡ºæ•°å­—1,2,3,4,8,12,16,15,14,13,9,5,6,7,11,10. è§£é¢˜æ€è·¯ä»Žå·¦å¾€å³ï¼Œå†ä»Žä¸Šå¾€ä¸‹ï¼Œå†ä»Žå³å¾€å·¦ï¼Œæœ€åŽä»Žä¸‹å¾€ä¸ŠéåŽ†.123456789101112131415161718192021222324252627282930# -*- coding:utf-8 -*-class Solution: # matrixç±»åž‹ä¸ºäºŒç»´åˆ—è¡¨ï¼Œéœ€è¦è¿”å›žåˆ—è¡¨ def printMatrix(self, matrix): # write code here rows = len(matrix) cols = len(matrix[0]) left, right = 0, cols-1 top, bottom = 0, rows-1 res = [] while left &lt;= right and top &lt;= bottom: for i in range(left, right+1): res.append(matrix[top][i]) for i in range(top+1,bottom+1): res.append(matrix[i][right]) if top != bottom: for i in range(right-1,left-1,-1): res.append(matrix[bottom][i]) if left != right: for i in range(bottom-1,top,-1): res.append(matrix[i][left]) left += 1 right -= 1 top += 1 bottom -= 1 return resif __name__ == '__main__': result = Solution().printMatrix([[1,2,3,4],[5,6,7,8],[9,10,11,12],[13,14,15,16]]) print(result) 29 æœ€å°çš„Kä¸ªæ•°é¢˜ç›®æè¿°è¾“å…¥nä¸ªæ•´æ•°ï¼Œæ‰¾å‡ºå…¶ä¸­æœ€å°çš„Kä¸ªæ•°ã€‚ä¾‹å¦‚è¾“å…¥4,5,1,6,2,7,3,8è¿™8ä¸ªæ•°å­—ï¼Œåˆ™æœ€å°çš„4ä¸ªæ•°å­—æ˜¯1,2,3,4,ã€‚ è§£é¢˜æ€è·¯æ€è·¯1ï¼šä½¿ç”¨å†’æ³¡æŽ’åºï¼Œæ‰¾å‡ºæœ€å°çš„kä¸ªæ•°è¿”å›žï¼Œæ—¶é—´å¤æ‚åº¦O(n^2)ã€‚æ€è·¯2ï¼šå¦ä¸€ç§O(nlogk)çš„ç®—æ³•æ˜¯åŸºäºŽå †æŽ’åºçš„ï¼Œç‰¹åˆ«é€‚åˆå¤„ç†æµ·é‡æ•°æ®ã€‚æˆ‘ä»¬å¯ä»¥å…ˆåˆ›å»ºä¸€ä¸ªå¤§å°ä¸ºkçš„æ•°æ®å®¹å™¨æ¥å­˜å‚¨æœ€å°çš„kä¸ªæ•°å­—ï¼ŒæŽ¥ä¸‹æ¥æˆ‘ä»¬æ¯æ¬¡ä»Žè¾“å…¥çš„nä¸ªæ•´æ•°ä¸­çš„nä¸ªæ•´æ•°ä¸­è¯»å…¥ä¸€ä¸ªæ•°ã€‚å¦‚æžœå®¹å™¨ä¸­å·²æœ‰çš„æ•°å­—å°‘äºŽkä¸ªï¼Œåˆ™ç›´æŽ¥æŠŠè¿™æ¬¡è¯»å…¥çš„æ•´æ•°æ”¾å…¥å®¹å™¨ä¹‹ä¸­ï¼›å¦‚æžœå®¹å™¨å·²ç»æœ‰kä¸ªæ•°å­—äº†ï¼Œä¹Ÿå°±æ˜¯å®¹å™¨æ»¡äº†ï¼Œæ­¤æ—¶æˆ‘ä»¬ä¸èƒ½å†æ’å…¥æ–°çš„æ•°å­—è€Œåªèƒ½æ›¿æ¢å·²æœ‰çš„æ•°å­—ã€‚æ‰¾å‡ºè¿™å·²æœ‰çš„kä¸ªæ•°ä¸­çš„æœ€å¤§å€¼ï¼Œç„¶åŽæ‹¿è¿™æ¬¡å¾…æ’å…¥çš„æ•´æ•°å’Œæœ€å¤§å€¼è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æžœå¾…æ’å…¥çš„å€¼æ¯”å½“å‰å·²æœ‰çš„æœ€å¤§å€¼å°ï¼Œåˆ™ç”¨è¿™ä¸ªæ•°æ›¿æ¢å½“å‰å·²æœ‰çš„æœ€å¤§å€¼ï¼›å¦‚æžœå¾…æ’å…¥çš„å€¼æ¯”å½“å‰å·²æœ‰çš„æœ€å¤§å€¼è¿˜è¦å¤§ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°ä¸å¯èƒ½æ˜¯æœ€å°çš„kä¸ªæ•´æ•°ä¹‹ä¸€ï¼ŒäºŽæ˜¯æˆ‘ä»¬å¯ä»¥æŠ›å¼ƒè¿™ä¸ªæ•´æ•°ã€‚å› æ­¤å½“å®¹å™¨æ»¡äº†ä¹‹åŽï¼Œæˆ‘ä»¬è¦åš3ä»¶äº‹æƒ…ï¼šä¸€æ˜¯åœ¨kä¸ªæ•´æ•°ä¸­æ‰¾åˆ°æœ€å¤§æ•°ï¼›äºŒæ˜¯æœ‰å¯èƒ½åœ¨è¿™ä¸ªå®¹å™¨ä¸­åˆ é™¤æœ€å¤§æ•°ï¼›ä¸‰æ˜¯æœ‰å¯èƒ½è¦æ’å…¥ä¸€ä¸ªæ–°çš„æ•°å­—ã€‚å¦‚æžœç”¨ä¸€ä¸ªäºŒå‰æ ‘æ¥å®žçŽ°è¿™ä¸ªæ•°æ®å®¹å™¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨O(logk)æ—¶é—´å†…å®žçŽ°è¿™ä¸‰æ­¥æ“ä½œã€‚å› æ­¤å¯¹äºŽnä¸ªè¾“å…¥æ•°å­—è€Œè¨€ï¼Œæ€»çš„æ—¶é—´æ•ˆçŽ‡å°±æ˜¯O(nlogk)ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556# -*- coding:utf-8 -*-class Solution: def GetLeastNumbers_Solution(self, tinput, k): # write code here # æ€è·¯1 å†’æ³¡æŽ’åº # if k &lt; 0 or k &gt; len(tinput): # return [] # count = k # for i in range(len(tinput)): # min = tinput[i] # for j in range(i+1,len(tinput)): # if tinput[j]&lt;min: # min = tinput[j] # index = j # if min!=tinput[i]: # tinput[i], tinput[index] = tinput[index], tinput[i] # count = count-1 # if count == 0: # break # return tinput[:k] # æ€è·¯2 å †æŽ’åº res = [] length = len(tinput) change = True if length &lt;= 0 or k &lt;= 0 or k &gt; length: return res res = tinput[:k] for i in range(k, length + 1): if change == True: for j in range(0, k // 2 + 1)[::-1]: self.HeadAdjust(res, j, k) for j in range(1, k)[::-1]: res[0], res[j] = res[j], res[0] self.HeadAdjust(res, 0, j) change = False if i != length and res[k - 1] &gt; tinput[i]: res[k - 1] = tinput[i] change = True return res def HeadAdjust(self, input_list, parent, length): temp = input_list[parent] child = 2 * parent + 1 while child &lt; length: if child + 1 &lt; length and input_list[child] &lt; input_list[child + 1]: child += 1 if temp &gt;= input_list[child]: break input_list[parent] = input_list[child] parent = child child = 2 * parent + 1 input_list[parent] = tempif __name__ == '__main__': result = Solution().GetLeastNumbers_Solution([4, 5, 1, 6, 2, 7, 3, 8], 4) print(result) 31 æ•´æ•°ä¸­1å‡ºçŽ°çš„æ¬¡æ•°ï¼ˆä»Ž1åˆ°næ•´æ•°ä¸­1å‡ºçŽ°çš„æ¬¡æ•°ï¼‰é¢˜ç›®æè¿°æ±‚å‡º1~13çš„æ•´æ•°ä¸­1å‡ºçŽ°çš„æ¬¡æ•°,å¹¶ç®—å‡º100~1300çš„æ•´æ•°ä¸­1å‡ºçŽ°çš„æ¬¡æ•°ï¼Ÿä¸ºæ­¤ä»–ç‰¹åˆ«æ•°äº†ä¸€ä¸‹1~13ä¸­åŒ…å«1çš„æ•°å­—æœ‰1ã€10ã€11ã€12ã€13å› æ­¤å…±å‡ºçŽ°6æ¬¡,ä½†æ˜¯å¯¹äºŽåŽé¢é—®é¢˜ä»–å°±æ²¡è¾™äº†ã€‚ACMerå¸Œæœ›ä½ ä»¬å¸®å¸®ä»–,å¹¶æŠŠé—®é¢˜æ›´åŠ æ™®éåŒ–,å¯ä»¥å¾ˆå¿«çš„æ±‚å‡ºä»»æ„éžè´Ÿæ•´æ•°åŒºé—´ä¸­1å‡ºçŽ°çš„æ¬¡æ•°ï¼ˆä»Ž1 åˆ° n ä¸­1å‡ºçŽ°çš„æ¬¡æ•°ï¼‰ã€‚ è§£é¢˜æ€è·¯æ€è·¯1 ä»Ž1åˆ°néåŽ†ã€‚å¯¹æ¯ä¸€ä¸ªæ•°å­—ï¼Œæ¯æ¬¡é€šè¿‡å¯¹10æ±‚ä½™æ•°åˆ¤æ–­æ•´æ•°çš„ä¸ªä½æ•°å­—æ˜¯ä¸æ˜¯1ï¼Œå¤§äºŽ10çš„é™¤ä»¥10ä¹‹åŽå†åˆ¤æ–­ï¼Œæˆ‘ä»¬å¯¹æ¯ä¸ªæ•°å­—éƒ½è¦åšæ±‚ä½™å’Œé™¤æ³•è¿ç®—ä»¥æ±‚å‡ºè¯¥æ•°å­—ä¸­1å‡ºçŽ°çš„æ¬¡æ•°ã€‚å¦‚æžœè¾“å…¥æ•°å­—nï¼Œnæœ‰O(logn)ä½ï¼Œæˆ‘ä»¬éœ€è¦åˆ¤æ–­æ¯ä¸€ä½æ˜¯ä¸æ˜¯1ï¼Œé‚£ä¹ˆæ—¶é—´å¤æ‚åº¦ä¸ºO(n*logn)ã€‚ æ€è·¯2 è€ƒè™‘å°†nçš„åè¿›åˆ¶çš„æ¯ä¸€ä½å•ç‹¬æ‹¿å‡ºè®¨è®ºï¼Œæ¯ä¸€ä½çš„å€¼è®°ä¸ºweightã€‚ 1) ä¸ªä½ ä»Ž1åˆ°nï¼Œæ¯å¢žåŠ 1ï¼Œweightå°±ä¼šåŠ 1ï¼Œå½“weightåŠ åˆ°9æ—¶ï¼Œå†åŠ 1åˆä¼šå›žåˆ°0é‡æ–°å¼€å§‹ã€‚é‚£ä¹ˆweightä»Ž0-9çš„è¿™ç§å‘¨æœŸä¼šå‡ºçŽ°å¤šå°‘æ¬¡å‘¢ï¼Ÿè¿™å–å†³äºŽnçš„é«˜ä½æ˜¯å¤šå°‘ï¼Œçœ‹å›¾ï¼š ä»¥534ä¸ºä¾‹ï¼Œåœ¨ä»Ž1å¢žé•¿åˆ°nçš„è¿‡ç¨‹ä¸­ï¼Œ534çš„ä¸ªä½ä»Ž0-9å˜åŒ–äº†53æ¬¡ï¼Œè®°ä¸ºroundã€‚æ¯ä¸€è½®å˜åŒ–ä¸­ï¼Œ1åœ¨ä¸ªä½å‡ºçŽ°ä¸€æ¬¡ï¼Œæ‰€ä»¥ä¸€å…±å‡ºçŽ°äº†53æ¬¡ã€‚ å†æ¥çœ‹weightçš„å€¼ã€‚weightä¸º4ï¼Œå¤§äºŽ0ï¼Œè¯´æ˜Žç¬¬54è½®å˜åŒ–æ˜¯ä»Ž0-4ï¼Œ1åˆå‡ºçŽ°äº†1æ¬¡ã€‚æˆ‘ä»¬è®°1å‡ºçŽ°çš„æ¬¡æ•°ä¸ºcountï¼Œæ‰€ä»¥ï¼š count = round+1 = 53 + 1 = 54 å¦‚æžœæ­¤æ—¶weightä¸º0ï¼ˆn=530ï¼‰ï¼Œè¯´æ˜Žç¬¬54è½®åˆ°0å°±åœæ­¢äº†ï¼Œé‚£ä¹ˆï¼š count = round = 53 2) åä½å¯¹äºŽ10ä½æ¥è¯´ï¼Œå…¶0-9å‘¨æœŸçš„å‡ºçŽ°æ¬¡æ•°ä¸Žä¸ªä½çš„ç»Ÿè®¡æ–¹å¼æ˜¯ç›¸åŒçš„ï¼Œè§å›¾ï¼š ä¸åŒç‚¹åœ¨äºŽï¼šä»Ž1åˆ°nï¼Œæ¯å¢žåŠ 10ï¼Œåä½çš„weightæ‰ä¼šå¢žåŠ 1ï¼Œæ‰€ä»¥ï¼Œä¸€è½®0-9å‘¨æœŸå†…ï¼Œ1ä¼šå‡ºçŽ°10æ¬¡ã€‚å³round*10ã€‚ å†æ¥çœ‹weightçš„å€¼ã€‚å½“æ­¤æ—¶weightä¸º3ï¼Œå¤§äºŽ1ï¼Œè¯´æ˜Žç¬¬6è½®å‡ºçŽ°äº†10æ¬¡1ï¼Œåˆ™ï¼š count = round10+10 = 510+10 = 60 å¦‚æžœæ­¤æ—¶weightçš„å€¼ç­‰äºŽ0ï¼ˆn=504ï¼‰ï¼Œè¯´æ˜Žç¬¬6è½®åˆ°0å°±åœæ­¢äº†ï¼Œæ‰€ä»¥ï¼šcount = round10+10 = 510 = 50 å¦‚æžœæ­¤æ—¶weightçš„å€¼ç­‰äºŽ1ï¼ˆn=514ï¼‰ï¼Œé‚£ä¹ˆç¬¬6è½®ä¸­1å‡ºçŽ°äº†å¤šå°‘æ¬¡å‘¢ï¼Ÿå¾ˆæ˜Žæ˜¾ï¼Œè¿™ä¸Žä¸ªä½æ•°çš„å€¼æœ‰å…³ï¼Œä¸ªä½æ•°ä¸ºkï¼Œç¬¬6è½®ä¸­1å°±å‡ºçŽ°äº†k+1æ¬¡(0-k)ã€‚æˆ‘ä»¬è®°ä¸ªä½æ•°ä¸ºformerï¼Œåˆ™ï¼šcount = round10+former +1= 510+4 +1= 55 3) æ›´é«˜ä½æ›´é«˜ä½çš„è®¡ç®—æ–¹å¼å…¶å®žä¸Žåä½æ˜¯ä¸€è‡´çš„ï¼Œä¸å†é˜è¿°ã€‚ 4) æ€»ç»“ å°†nçš„å„ä¸ªä½åˆ†ä¸ºä¸¤ç±»ï¼šä¸ªä½ä¸Žå…¶å®ƒä½ã€‚ å¯¹ä¸ªä½æ¥è¯´ï¼š è‹¥ä¸ªä½å¤§äºŽ0ï¼Œ1å‡ºçŽ°çš„æ¬¡æ•°ä¸ºround1+1 è‹¥ä¸ªä½ç­‰äºŽ0ï¼Œ1å‡ºçŽ°çš„æ¬¡æ•°ä¸ºround1 å¯¹å…¶å®ƒä½æ¥è¯´ï¼Œè®°æ¯ä¸€ä½çš„æƒå€¼ä¸ºbaseï¼Œä½å€¼ä¸ºweightï¼Œè¯¥ä½ä¹‹å‰çš„æ•°æ˜¯formerï¼Œä¸¾ä¾‹å¦‚å›¾ï¼š åˆ™ï¼š è‹¥weightä¸º0ï¼Œåˆ™1å‡ºçŽ°æ¬¡æ•°ä¸ºround*base è‹¥weightä¸º1ï¼Œåˆ™1å‡ºçŽ°æ¬¡æ•°ä¸ºround*base+former+1 è‹¥weightå¤§äºŽ1ï¼Œåˆ™1å‡ºçŽ°æ¬¡æ•°ä¸ºrount*base+base æ¯”å¦‚ï¼š 534 = ï¼ˆä¸ªä½1å‡ºçŽ°æ¬¡æ•°ï¼‰+ï¼ˆåä½1å‡ºçŽ°æ¬¡æ•°ï¼‰+ï¼ˆç™¾ä½1å‡ºçŽ°æ¬¡æ•°ï¼‰=ï¼ˆ531+1ï¼‰+ï¼ˆ510+10ï¼‰+ï¼ˆ0*100+100ï¼‰= 214 530 = ï¼ˆ531ï¼‰+ï¼ˆ510+10ï¼‰+ï¼ˆ0*100+100ï¼‰ = 213 504 = ï¼ˆ501+1ï¼‰+ï¼ˆ510ï¼‰+ï¼ˆ0*100+100ï¼‰ = 201 514 = ï¼ˆ511+1ï¼‰+ï¼ˆ510+4+1ï¼‰+ï¼ˆ0*100+100ï¼‰ = 207 10 = (11)+(010+0+1) = 2 æ¥è‡ª https://blog.csdn.net/yi_afly/article/details/52012593 1234567891011121314151617181920212223242526272829# -*- coding:utf-8 -*-class Solution: def NumberOf1Between1AndN_Solution(self, n): # write code here # res = 0 # for i in range(1,n+1): # while i: # if i%10 == 1: # res += 1 # i //= 10 # return res # æ€è·¯2 if n &lt; 1: return 0 count, base, Round = 0,1,n while Round &gt; 0: weight = Round%10 Round //= 10 count += Round*base if weight == 1: count += n%base+1 elif weight&gt;1: count += base base *= 10 return countif __name__ == '__main__': result = Solution().NumberOf1Between1AndN_Solution(13) print(result) 33 ä¸‘æ•°é¢˜ç›®æè¿°æŠŠåªåŒ…å«è´¨å› å­2ã€3å’Œ5çš„æ•°ç§°ä½œä¸‘æ•°ï¼ˆUgly Numberï¼‰ã€‚ä¾‹å¦‚6ã€8éƒ½æ˜¯ä¸‘æ•°ï¼Œä½†14ä¸æ˜¯ï¼Œå› ä¸ºå®ƒåŒ…å«è´¨å› å­7ã€‚ ä¹ æƒ¯ä¸Šæˆ‘ä»¬æŠŠ1å½“åšæ˜¯ç¬¬ä¸€ä¸ªä¸‘æ•°ã€‚æ±‚æŒ‰ä»Žå°åˆ°å¤§çš„é¡ºåºçš„ç¬¬Nä¸ªä¸‘æ•°ã€‚ è§£é¢˜æ€è·¯æ€è·¯ï¼šç”¨ç©ºé—´æ¢æ—¶é—´åˆ›å»ºä¸€ä¸ªæ•°ç»„ï¼Œé‡Œé¢çš„æ•°å­—æ˜¯æŽ’å¥½åºçš„ä¸‘æ•°ï¼Œæ¯ä¸ªä¸‘æ•°éƒ½æ˜¯å‰é¢çš„ä¸‘æ•°ä¹˜ä»¥2,3,æˆ–5å¾—åˆ°çš„ã€‚1234567891011121314151617181920# -*- coding:utf-8 -*-class Solution: def GetUglyNumber_Solution(self, index): # write code here if index &lt;= 0: return 0 t2, t3, t5 = 0, 0, 0 res = [1] for i in range(1, index): res.append(min(res[t2]*2, res[t3]*3, res[t5]*5)) if res[-1] == res[t2]*2: t2 += 1 if res[-1] == res[t3]*3: t3 += 1 if res[-1] == res[t5]*5: t5 += 1 return res[-1] 41 å’Œä¸ºSçš„è¿žç»­æ­£æ•°åºåˆ—é¢˜ç›®æè¿°å°æ˜Žå¾ˆå–œæ¬¢æ•°å­¦,æœ‰ä¸€å¤©ä»–åœ¨åšæ•°å­¦ä½œä¸šæ—¶,è¦æ±‚è®¡ç®—å‡º9~16çš„å’Œ,ä»–é©¬ä¸Šå°±å†™å‡ºäº†æ­£ç¡®ç­”æ¡ˆæ˜¯100ã€‚ä½†æ˜¯ä»–å¹¶ä¸æ»¡è¶³äºŽæ­¤,ä»–åœ¨æƒ³ç©¶ç«Ÿæœ‰å¤šå°‘ç§è¿žç»­çš„æ­£æ•°åºåˆ—çš„å’Œä¸º100(è‡³å°‘åŒ…æ‹¬ä¸¤ä¸ªæ•°)ã€‚æ²¡å¤šä¹…,ä»–å°±å¾—åˆ°å¦ä¸€ç»„è¿žç»­æ­£æ•°å’Œä¸º100çš„åºåˆ—:18,19,20,21,22ã€‚çŽ°åœ¨æŠŠé—®é¢˜äº¤ç»™ä½ ,ä½ èƒ½ä¸èƒ½ä¹Ÿå¾ˆå¿«çš„æ‰¾å‡ºæ‰€æœ‰å’Œä¸ºSçš„è¿žç»­æ­£æ•°åºåˆ—? Good Luck!è¾“å‡ºæè¿°:è¾“å‡ºæ‰€æœ‰å’Œä¸ºSçš„è¿žç»­æ­£æ•°åºåˆ—ã€‚åºåˆ—å†…æŒ‰ç…§ä»Žå°è‡³å¤§çš„é¡ºåºï¼Œåºåˆ—é—´æŒ‰ç…§å¼€å§‹æ•°å­—ä»Žå°åˆ°å¤§çš„é¡ºåº è§£é¢˜æ€è·¯è®¾å®šä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªæŒ‡å‘ç¬¬ä¸€ä¸ªæ•°ï¼Œä¸€ä¸ªæŒ‡å‘æœ€åŽä¸€ä¸ªæ•°ï¼Œåœ¨æ­¤ä¹‹å‰éœ€è¦è®¾å®šç¬¬ä¸€ä¸ªæ•°å’Œæœ€åŽä¸€ä¸ªæ•°çš„å€¼ï¼Œç”±äºŽæ˜¯æ­£æ•°åºåˆ—ï¼Œæ‰€ä»¥å¯ä»¥æŠŠç¬¬ä¸€ä¸ªæ•°è®¾ä¸º1ï¼Œæœ€åŽä¸€ä¸ªæ•°è®¾ä¸º2ï¼ˆå› ä¸ºæ˜¯è¦æ±‚æ˜¯è¿žç»­æ­£æ•°åºåˆ—ï¼Œæœ€åŽä¸å¯èƒ½å’Œç¬¬ä¸€ä¸ªæ•°é‡åˆï¼‰ã€‚ä¸‹ä¸€æ­¥å°±æ˜¯ä¸æ–­æ”¹å˜ç¬¬ä¸€ä¸ªæ•°å’Œæœ€åŽä¸€ä¸ªæ•°çš„å€¼ã€‚å¦‚æžœç¬¬ä¸€ä¸ªæ•°åˆ°æœ€åŽä¸€ä¸ªæ•°çš„å’Œæ­£å¥½æ˜¯è¦æ±‚çš„å’Œï¼Œé‚£ä¹ˆæŠŠæ‰€æœ‰çš„æ•°éƒ½æ·»åŠ åˆ°ä¸€ä¸ªåºåˆ—ä¸­ã€‚å¦‚æžœå¤§äºŽè¦æ±‚çš„å’Œï¼Œè¿™è¯´æ˜Žä»Žç¬¬ä¸€ä¸ªæ•°åˆ°æœ€åŽä¸€ä¸ªæ•°ä¹‹é—´çš„èŒƒå›´å¤ªå¤§ï¼Œå› æ­¤å‡å°èŒƒå›´ï¼Œéœ€è¦æŠŠç¬¬ä¸€ä¸ªæ•°çš„å€¼åŠ 1ï¼Œæ­¤æ—¶å½“å‰å’Œå˜ä¸ºå‡åŽ»åŽŸæ¥çš„ç¬¬ä¸€ä¸ªæ•°çš„å€¼ã€‚å¦‚æžœå°äºŽè¦æ±‚çš„å’Œï¼Œè¯´æ˜ŽèŒƒå›´å¤ªå°ï¼Œå› æ­¤æŠŠæœ€åŽä¸€ä¸ªæ•°åŠ 1ï¼Œæ­¤æ—¶å½“å‰å’Œå˜ä¸ºåŠ ä¸Šæœ€åŽä¸€ä¸ªæ•°çš„å€¼ã€‚è¿™æ ·ä¸æ–­ä¿®æ”¹ç¬¬ä¸€ä¸ªå’Œæœ€åŽä¸€ä¸ªæ•°çš„å€¼ï¼Œå°±èƒ½ç¡®å®šæ‰€æœ‰è¿žç»­æ­£æ•°åºåˆ—çš„å’Œç­‰äºŽSçš„åºåˆ—äº†ã€‚è¿žç»­åºåˆ—å’Œå…¬å¼:sum = (a+b)(b-a+1)/2 123456789101112131415161718192021222324# -*- coding:utf-8 -*-class Solution: def FindContinuousSequence(self, tsum): # write code here if tsum &lt;= 2: return [] res = [] left, right = 1, 2 while left &lt; right: temp = (left+right)*(right-left+1)//2 if temp == tsum: res.append([x for x in range(left, right+1)]) left += 1 elif temp &gt; tsum: left += 1 else: right += 1 return resif __name__ == '__main__': result = Solution().FindContinuousSequence(100) print(result) 42 å’Œä¸ºSçš„ä¸¤ä¸ªæ•°å­—é¢˜ç›®æè¿°è¾“å…¥ä¸€ä¸ªé€’å¢žæŽ’åºçš„æ•°ç»„å’Œä¸€ä¸ªæ•°å­—Sï¼Œåœ¨æ•°ç»„ä¸­æŸ¥æ‰¾ä¸¤ä¸ªæ•°ï¼Œä½¿å¾—ä»–ä»¬çš„å’Œæ­£å¥½æ˜¯Sï¼Œå¦‚æžœæœ‰å¤šå¯¹æ•°å­—çš„å’Œç­‰äºŽSï¼Œè¾“å‡ºä¸¤ä¸ªæ•°çš„ä¹˜ç§¯æœ€å°çš„ã€‚è¾“å‡ºæè¿°:å¯¹åº”æ¯ä¸ªæµ‹è¯•æ¡ˆä¾‹ï¼Œè¾“å‡ºä¸¤ä¸ªæ•°ï¼Œå°çš„å…ˆè¾“å‡ºã€‚ è§£é¢˜æ€è·¯å¯¹äºŽä¸€ä¸ªæ•°ç»„ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªä»Žå·¦å¾€å³éåŽ†ï¼ˆlï¼‰ï¼Œå¦ä¸€ä¸ªä»Žå³å¾€å·¦éåŽ†ï¼ˆrï¼‰ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬æ¯”è¾ƒç¬¬ä¸€ä¸ªæ•°å­—å’Œæœ€åŽä¸€ä¸ªæ•°å­—çš„å’ŒcurSumä¸Žç»™å®šæ•°å­—tsumï¼Œå¦‚æžœcurSum == tsumï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªæ•°å­—å°±æ˜¯æˆ‘ä»¬è¦æ‰¾çš„æ•°å­—ï¼Œç›´æŽ¥è¾“å‡ºï¼Œè¿™é‡Œå·²ç»ä¿è¯äº†ä¹˜ç§¯çš„æœ€å°ã€‚å¦‚æžœcurSum &gt; tsumï¼Œæˆ‘ä»¬éœ€è¦å‡å°è¾“å…¥å€¼ï¼Œrå‘å·¦ç§»åŠ¨ä¸€ä½ã€‚å¦‚æžœcurSum &lt; tsumï¼Œæˆ‘ä»¬éœ€è¦åŠ å¤§è¾“å…¥å€¼ï¼Œlå‘å³ç§»åŠ¨ä¸€ä½ã€‚å¦‚æžœæ²¡æœ‰æ‰¾åˆ°ï¼Œè¾“å‡º[]ã€‚12345678910111213141516171819# -*- coding:utf-8 -*-class Solution: def FindNumbersWithSum(self, array, tsum): # write code here if len(array)&lt;=1: return [] left, right = 0, len(array)-1 while left &lt; right: if array[left]+array[right]==tsum: return [array[left],array[right]] elif array[left]+array[right] &gt; tsum: right -= 1 else: left += 1 return []if __name__ == '__main__': result = Solution().FindNumbersWithSum([1,2,3,4,6],5) print(result) 45 æ‰‘å…‹ç‰Œé¡ºå­é¢˜ç›®æè¿°LLä»Šå¤©å¿ƒæƒ…ç‰¹åˆ«å¥½,å› ä¸ºä»–åŽ»ä¹°äº†ä¸€å‰¯æ‰‘å…‹ç‰Œ,å‘çŽ°é‡Œé¢å±…ç„¶æœ‰2ä¸ªå¤§çŽ‹,2ä¸ªå°çŽ‹(ä¸€å‰¯ç‰ŒåŽŸæœ¬æ˜¯54å¼ ^_^)â€¦ä»–éšæœºä»Žä¸­æŠ½å‡ºäº†5å¼ ç‰Œ,æƒ³æµ‹æµ‹è‡ªå·±çš„æ‰‹æ°”,çœ‹çœ‹èƒ½ä¸èƒ½æŠ½åˆ°é¡ºå­,å¦‚æžœæŠ½åˆ°çš„è¯,ä»–å†³å®šåŽ»ä¹°ä½“è‚²å½©ç¥¨,å˜¿å˜¿ï¼ï¼â€œçº¢å¿ƒA,é»‘æ¡ƒ3,å°çŽ‹,å¤§çŽ‹,æ–¹ç‰‡5â€,â€œOh My God!â€ä¸æ˜¯é¡ºå­â€¦..LLä¸é«˜å…´äº†,ä»–æƒ³äº†æƒ³,å†³å®šå¤§\å° çŽ‹å¯ä»¥çœ‹æˆä»»ä½•æ•°å­—,å¹¶ä¸”Açœ‹ä½œ1,Jä¸º11,Qä¸º12,Kä¸º13ã€‚ä¸Šé¢çš„5å¼ ç‰Œå°±å¯ä»¥å˜æˆâ€œ1,2,3,4,5â€(å¤§å°çŽ‹åˆ†åˆ«çœ‹ä½œ2å’Œ4),â€œSo Lucky!â€ã€‚LLå†³å®šåŽ»ä¹°ä½“è‚²å½©ç¥¨å•¦ã€‚ çŽ°åœ¨,è¦æ±‚ä½ ä½¿ç”¨è¿™å¹…ç‰Œæ¨¡æ‹Ÿä¸Šé¢çš„è¿‡ç¨‹,ç„¶åŽå‘Šè¯‰æˆ‘ä»¬LLçš„è¿æ°”å¦‚ä½•ï¼Œ å¦‚æžœç‰Œèƒ½ç»„æˆé¡ºå­å°±è¾“å‡ºtrueï¼Œå¦åˆ™å°±è¾“å‡ºfalseã€‚ä¸ºäº†æ–¹ä¾¿èµ·è§,ä½ å¯ä»¥è®¤ä¸ºå¤§å°çŽ‹æ˜¯0ã€‚ è§£é¢˜æ€è·¯æ»¡è¶³ä¸€ä¸‹ä¿¡æ¯æ‰è®¤ä¸ºæ˜¯é¡ºå­ï¼šè¾“å…¥æ•°æ®ä¸ªæ•°ä¸º5è¾“å…¥æ•°æ®éƒ½åœ¨0-13ä¹‹é—´æ²¡æœ‰ç›¸åŒçš„æ•°å­—æœ€å¤§å€¼ä¸Žæœ€å°å€¼ä¹‹å·®ä¸å¤§äºŽ5 æ³¨æ„ä¸ºä»€ä¹ˆæ˜¯numbers[big]-numbers[small]-1ï¼Œå› ä¸º0æ˜¯ç”¨æ¥å¡«è¡¥ç©ºç¼ºçš„ï¼Œå¦‚æžœç©ºç¼ºæ˜¯1åˆ™ä¸ç”¨å¡«è¡¥ï¼Œè¿™ä¸ªåšæ³•æˆ‘ä»¬çœ‹å‡ºä¸ç­‰äºŽ1çš„ç©ºç¼ºæœ‰å¤šå°‘ã€‚ 12345678910111213141516171819202122232425262728293031# -*- coding:utf-8 -*-class Solution: def IsContinuous(self, numbers): # write code here if len(numbers) != 5: return False dic = &#123;'A':1,'J':11,'Q':12,'K':13&#125; for i in range(len(numbers)): if numbers[i] in dic: numbers[i] = dic[numbers[i]] numbers.sort() if numbers[0] &lt; 0 or numbers[-1] &gt; 13: return False i = 0 count = 0 while numbers[i] == 0: count += 1 i += 1 for j in range(i,len(numbers)-1): if numbers[j+1] == numbers[j]: return False temp = numbers[j+1]-numbers[j]-1 if count &gt;= temp: count -= temp else: return False return Trueif __name__ == '__main__': result = Solution().IsContinuous(['A',3,0,0,6]) print(result) 46 å­©å­ä»¬çš„æ¸¸æˆï¼ˆåœ†åœˆä¸­æœ€åŽå‰©ä¸‹çš„æ•°ï¼‰é¢˜ç›®æè¿°æ¯å¹´å…­ä¸€å„¿ç«¥èŠ‚,ç‰›å®¢éƒ½ä¼šå‡†å¤‡ä¸€äº›å°ç¤¼ç‰©åŽ»çœ‹æœ›å­¤å„¿é™¢çš„å°æœ‹å‹,ä»Šå¹´äº¦æ˜¯å¦‚æ­¤ã€‚HFä½œä¸ºç‰›å®¢çš„èµ„æ·±å…ƒè€,è‡ªç„¶ä¹Ÿå‡†å¤‡äº†ä¸€äº›å°æ¸¸æˆã€‚å…¶ä¸­,æœ‰ä¸ªæ¸¸æˆæ˜¯è¿™æ ·çš„:é¦–å…ˆ,è®©å°æœ‹å‹ä»¬å›´æˆä¸€ä¸ªå¤§åœˆã€‚ç„¶åŽ,ä»–éšæœºæŒ‡å®šä¸€ä¸ªæ•°m,è®©ç¼–å·ä¸º0çš„å°æœ‹å‹å¼€å§‹æŠ¥æ•°ã€‚æ¯æ¬¡å–Šåˆ°m-1çš„é‚£ä¸ªå°æœ‹å‹è¦å‡ºåˆ—å”±é¦–æ­Œ,ç„¶åŽå¯ä»¥åœ¨ç¤¼å“ç®±ä¸­ä»»æ„çš„æŒ‘é€‰ç¤¼ç‰©,å¹¶ä¸”ä¸å†å›žåˆ°åœˆä¸­,ä»Žä»–çš„ä¸‹ä¸€ä¸ªå°æœ‹å‹å¼€å§‹,ç»§ç»­0â€¦m-1æŠ¥æ•°â€¦.è¿™æ ·ä¸‹åŽ»â€¦.ç›´åˆ°å‰©ä¸‹æœ€åŽä¸€ä¸ªå°æœ‹å‹,å¯ä»¥ä¸ç”¨è¡¨æ¼”,å¹¶ä¸”æ‹¿åˆ°ç‰›å®¢åè´µçš„â€œåä¾¦æŽ¢æŸ¯å—â€å…¸è—ç‰ˆ(åé¢æœ‰é™å“¦!!^_^)ã€‚è¯·ä½ è¯•ç€æƒ³ä¸‹,å“ªä¸ªå°æœ‹å‹ä¼šå¾—åˆ°è¿™ä»½ç¤¼å“å‘¢ï¼Ÿ(æ³¨ï¼šå°æœ‹å‹çš„ç¼–å·æ˜¯ä»Ž0åˆ°n-1) è§£é¢˜æ€è·¯ç¬¬ä¸€ä¸ªè¢«åˆ é™¤çš„æ•°å­—æ˜¯(m-1)%nï¼Œè®°ä¸ºkï¼Œé‚£ä¹ˆåˆ é™¤kä¹‹åŽçš„æ•°å­—ä¸º0,1,â€¦,k-1,k+1,â€¦,n-1ï¼Œå¹¶ä¸”ä¸‹ä¸€ä¸ªå¼€å§‹è®¡æ•°çš„æ•°å­—æ˜¯k+1ã€‚å³æœ‰ä»¥ä¸‹å…³ç³»k+1â€”&gt;0k+2â€”&gt;1n-1 â€”&gt; n-k-20 â€” &gt; n-k-1 k-1 â€”&gt; n-2 æ€»ç»“ï¼šè®¾ç½®å˜åŒ–å‰æœ‰nä¸ªå…ƒç´ ï¼Œå‡ºçŽ°å°å­©åºå·ä¸ºkï¼Œé‚£ä¹ˆk=(m-1)%nï¼Œè®¾ç½®å‰©ä½™å°å­©è°ƒæ•´å‰åŽŸå§‹åºå·ä¸ºxï¼Œé‚£ä¹ˆè°ƒæ•´åŽä¸ºf(x)=(x-k-1)%nï¼Œå°†kå€¼ä»£å…¥æœ‰:f(x) = x0 = (x-(m-1)%n - 1)%n = (x-m)%n æ‰€ä»¥å·²çŸ¥x0æ–°åºå·æŽ¨åŽŸåºå·ä¸ºx=(x0+m)%n 12345678910111213# -*- coding:utf-8 -*-class Solution: def LastRemaining_Solution(self, n, m): # write code here if n &lt; 1 or m &lt; 1: return -1 last = 0 for i in range(2, n + 1): last = (last + m) % i return lastif __name__ == '__main__': result = Solution().LastRemaining_Solution(6,4) print (result) 47 æ±‚1+2+3+â€¦+né¢˜ç›®æè¿°æ±‚1+2+3+â€¦+nï¼Œè¦æ±‚ä¸èƒ½ä½¿ç”¨ä¹˜é™¤æ³•ã€forã€whileã€ifã€elseã€switchã€caseç­‰å…³é”®å­—åŠæ¡ä»¶åˆ¤æ–­è¯­å¥ï¼ˆA?B:Cï¼‰ã€‚ è§£é¢˜æ€è·¯æ€è·¯1ï¼šé€’å½’æ€è·¯2ï¼šä¸Žé€»è¾‘çš„çŸ­è·¯ç‰¹æ€§åšé€’å½’åœæ­¢æ¡ä»¶123456789101112131415# -*- coding:utf-8 -*-class Solution: def Sum_Solution(self, n): # write code here #æ€è·¯1 #if n == 1: # return 1 #return self.Sum_Solution(n-1)+n # æ€è·¯2 return n&gt;0 and n + self.Sum_Solution(n-1)if __name__ == '__main__': result = Solution().Sum_Solution(10) print(result) 48 ä¸ç”¨åŠ å‡ä¹˜é™¤çš„åŠ æ³•é¢˜ç›®æè¿°å†™ä¸€ä¸ªå‡½æ•°ï¼Œæ±‚ä¸¤ä¸ªæ•´æ•°ä¹‹å’Œï¼Œè¦æ±‚åœ¨å‡½æ•°ä½“å†…ä¸å¾—ä½¿ç”¨+ã€-ã€*ã€/å››åˆ™è¿ç®—ç¬¦å·ã€‚ è§£é¢˜æ€è·¯é¦–å…ˆçœ‹åè¿›åˆ¶æ˜¯å¦‚ä½•åšçš„ï¼š 5+7=12ï¼Œ å¯ä»¥ä½¿ç”¨ä¸‰æ­¥èµ°ï¼š ç¬¬ä¸€æ­¥ï¼šç›¸åŠ å„ä½çš„å€¼ï¼Œä¸ç®—è¿›ä½ï¼Œå¾—åˆ°2ã€‚ ç¬¬äºŒæ­¥ï¼šè®¡ç®—è¿›ä½å€¼ï¼Œå¾—åˆ°10. å¦‚æžœè¿™ä¸€æ­¥çš„è¿›ä½å€¼ä¸º0ï¼Œé‚£ä¹ˆç¬¬ä¸€æ­¥å¾—åˆ°çš„å€¼å°±æ˜¯æœ€ç»ˆç»“æžœã€‚ ç¬¬ä¸‰æ­¥ï¼šé‡å¤ä¸Šè¿°ä¸¤æ­¥ï¼Œåªæ˜¯ç›¸åŠ çš„å€¼å˜æˆä¸Šè¿°ä¸¤æ­¥çš„å¾—åˆ°çš„ç»“æžœ2å’Œ10ï¼Œå¾—åˆ°12ã€‚ åŒæ ·æˆ‘ä»¬å¯ä»¥ ä¸‰æ­¥èµ°çš„æ–¹å¼è®¡ç®—äºŒè¿›åˆ¶å€¼ç›¸åŠ ï¼š 5-101ï¼Œ7-111 ç¬¬ä¸€æ­¥ï¼šç›¸åŠ å„ä½çš„å€¼ï¼Œä¸ç®—è¿›ä½ï¼Œå¾—åˆ°010ï¼ŒäºŒè¿›åˆ¶æ¯ä½ç›¸åŠ å°±ç›¸å½“äºŽå„ä½åšå¼‚æˆ–æ“ä½œï¼Œ101^111ã€‚ ç¬¬äºŒæ­¥ï¼šè®¡ç®—è¿›ä½å€¼ï¼Œå¾—åˆ°1010ï¼Œç›¸å½“äºŽå„ä½åšä¸Žæ“ä½œå¾—åˆ°101ï¼Œå†å‘å·¦ç§»ä¸€ä½å¾—åˆ°1010ï¼Œ(101&amp;111)&lt;&lt;1ã€‚ ç¬¬ä¸‰æ­¥ï¼šé‡å¤ä¸Šè¿°ä¸¤æ­¥ï¼Œ å„ä½ç›¸åŠ  010^1010=1000ï¼Œè¿›ä½å€¼ä¸º100=(010&amp;1010)&lt;&lt;1ã€‚ ç»§ç»­é‡å¤ä¸Šè¿°ä¸¤æ­¥ï¼š1000^100 = 1100ï¼Œè¿›ä½å€¼ä¸º0ï¼Œè·³å‡ºå¾ªçŽ¯ï¼Œ1100ä¸ºæœ€ç»ˆç»“æžœã€‚ Pythonéœ€è¦å¤„ç†è´Ÿæ•°1234567891011121314151617# -*- coding:utf-8 -*-class Solution: def Add(self, num1, num2): # write code here unit = (num1^num2)&amp; 0xFFFFFFFF carry = ((num1&amp;num2)&lt;&lt;1) &amp; 0xFFFFFFFF while carry: temp1 = unit temp2 = carry unit = (temp1^temp2) &amp; 0xFFFFFFFF carry = ((temp1&amp;temp2)&lt;&lt;1) &amp; 0xFFFFFFFF return unit if unit&lt;=0x7FFFFFFF else ~(unit^0xFFFFFFFF)if __name__ == '__main__': result = Solution().Add(-12,-104) print (result) 54 å­—ç¬¦æµä¸­ç¬¬ä¸€ä¸ªä¸é‡å¤çš„å­—ç¬¦é¢˜ç›®æè¿°è¯·å®žçŽ°ä¸€ä¸ªå‡½æ•°ç”¨æ¥æ‰¾å‡ºå­—ç¬¦æµä¸­ç¬¬ä¸€ä¸ªåªå‡ºçŽ°ä¸€æ¬¡çš„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œå½“ä»Žå­—ç¬¦æµä¸­åªè¯»å‡ºå‰ä¸¤ä¸ªå­—ç¬¦â€goâ€æ—¶ï¼Œç¬¬ä¸€ä¸ªåªå‡ºçŽ°ä¸€æ¬¡çš„å­—ç¬¦æ˜¯â€gâ€ã€‚å½“ä»Žè¯¥å­—ç¬¦æµä¸­è¯»å‡ºå‰å…­ä¸ªå­—ç¬¦â€œgoogleâ€æ—¶ï¼Œç¬¬ä¸€ä¸ªåªå‡ºçŽ°ä¸€æ¬¡çš„å­—ç¬¦æ˜¯â€lâ€ã€‚è¾“å‡ºæè¿°:å¦‚æžœå½“å‰å­—ç¬¦æµæ²¡æœ‰å­˜åœ¨å‡ºçŽ°ä¸€æ¬¡çš„å­—ç¬¦ï¼Œè¿”å›ž#å­—ç¬¦ã€‚ è§£é¢˜æ€è·¯è¿™é“é¢˜è¿˜æ˜¯å¾ˆç®€å•çš„ã€‚å°†å­—èŠ‚æµä¿å­˜èµ·æ¥ï¼Œé€šè¿‡å“ˆå¸Œè¡¨ç»Ÿè®¡å­—ç¬¦æµä¸­æ¯ä¸ªå­—ç¬¦å‡ºçŽ°çš„æ¬¡æ•°ï¼Œé¡ºä¾¿å°†å­—ç¬¦æµä¿å­˜åœ¨stringä¸­ï¼Œç„¶åŽå†éåŽ†stringï¼Œä»Žå“ˆå¸Œè¡¨ä¸­æ‰¾åˆ°ç¬¬ä¸€ä¸ªå‡ºçŽ°ä¸€æ¬¡çš„å­—ç¬¦ã€‚12345678910111213141516171819202122232425262728# -*- coding:utf-8 -*-class Solution: # è¿”å›žå¯¹åº”char def FirstAppearingOnce(self): # write code here for i in self.word: if self.charCount[i] == 1: return i return '#' def Insert(self, char): # write code here self.word += char if char not in self.charCount: self.charCount[char] = 1 else: self.charCount[char] += 1 def __init__(self): self.word = '' self.charCount = &#123;&#125;if __name__ == '__main__': word = 'google' S = Solution() for c in word: S.Insert(c) result = S.FirstAppearingOnce() print(result) 63 æ•°æ®æµä¸­çš„ä¸­ä½æ•°é¢˜ç›®æè¿°å¦‚ä½•å¾—åˆ°ä¸€ä¸ªæ•°æ®æµä¸­çš„ä¸­ä½æ•°ï¼Ÿå¦‚æžœä»Žæ•°æ®æµä¸­è¯»å‡ºå¥‡æ•°ä¸ªæ•°å€¼ï¼Œé‚£ä¹ˆä¸­ä½æ•°å°±æ˜¯æ‰€æœ‰æ•°å€¼æŽ’åºä¹‹åŽä½äºŽä¸­é—´çš„æ•°å€¼ã€‚å¦‚æžœä»Žæ•°æ®æµä¸­è¯»å‡ºå¶æ•°ä¸ªæ•°å€¼ï¼Œé‚£ä¹ˆä¸­ä½æ•°å°±æ˜¯æ‰€æœ‰æ•°å€¼æŽ’åºä¹‹åŽä¸­é—´ä¸¤ä¸ªæ•°çš„å¹³å‡å€¼ã€‚æˆ‘ä»¬ä½¿ç”¨Insert()æ–¹æ³•è¯»å–æ•°æ®æµï¼Œä½¿ç”¨GetMedian()æ–¹æ³•èŽ·å–å½“å‰è¯»å–æ•°æ®çš„ä¸­ä½æ•°ã€‚ è§£é¢˜æ€è·¯åˆå§‹åŒ–ä¸€ä¸ªæ•°ç»„ï¼Œè¯»å…¥æ•°æ®åŽï¼ŒæŽ’åºï¼Œç›´æŽ¥è®¡ç®—12345678910111213141516171819202122# -*- coding:utf-8 -*-class Solution: def __init__(self): self.numbers = [] def Insert(self, num): # write code here self.numbers.append(num) def GetMedian(self): # write code here self.numbers.sort() if len(self.numbers) % 2 == 1: return self.numbers[len(self.numbers)//2] else: return (self.numbers[len(self.numbers)//2]+self.numbers[len(self.numbers)//2-1])/2.0if __name__ == '__main__': numbers = [1,2,3,4] S = Solution() for i in numbers: S.Insert(i) result = S.GetMedian() print(result) 64 æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼é¢˜ç›®æè¿°ç»™å®šä¸€ä¸ªæ•°ç»„å’Œæ»‘åŠ¨çª—å£çš„å¤§å°ï¼Œæ‰¾å‡ºæ‰€æœ‰æ»‘åŠ¨çª—å£é‡Œæ•°å€¼çš„æœ€å¤§å€¼ã€‚ä¾‹å¦‚ï¼Œå¦‚æžœè¾“å…¥æ•°ç»„{2,3,4,2,6,2,5,1}åŠæ»‘åŠ¨çª—å£çš„å¤§å°3ï¼Œé‚£ä¹ˆä¸€å…±å­˜åœ¨6ä¸ªæ»‘åŠ¨çª—å£ï¼Œä»–ä»¬çš„æœ€å¤§å€¼åˆ†åˆ«ä¸º{4,4,6,6,6,5}ï¼› é’ˆå¯¹æ•°ç»„{2,3,4,2,6,2,5,1}çš„æ»‘åŠ¨çª—å£æœ‰ä»¥ä¸‹6ä¸ªï¼š {[2,3,4],2,6,2,5,1}ï¼Œ {2,[3,4,2],6,2,5,1}ï¼Œ {2,3,[4,2,6],2,5,1}ï¼Œ {2,3,4,[2,6,2],5,1}ï¼Œ {2,3,4,2,[6,2,5],1}ï¼Œ {2,3,4,2,6,[2,5,1]}ã€‚ è§£é¢˜æ€è·¯123456789101112131415161718192021222324252627# -*- coding:utf-8 -*-class Solution: def maxInWindows(self, num, size): # write code here if len(num) &lt; size or size == 0: return [] # æ€è·¯1 # left, right = 0, size-1 # res = [] # while right &lt; len(num): # maxindex = left # for j in range(left+1,right+1): # if num[j] &gt; num[maxindex]: # maxindex = j # res.append(num[maxindex]) # left += 1 # right += 1 # return res # æ€è·¯2 res = [] for i in range(len(num)-size+1): res.append(max(num[i:i+size])) return resif __name__ == '__main__': result = Solution().maxInWindows([2,3,4,2,6,2,5,1],3) print(result)]]></content>
      <categories>
        <category>å‰‘æŒ‡offer</category>
      </categories>
      <tags>
        <tag>å‰‘æŒ‡offer</tag>
        <tag>ç®—æ³•é¢˜è§£</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‰‘æŒ‡offeré¢˜è§£ - é“¾è¡¨]]></title>
    <url>%2F2019%2F05%2F13%2F%E5%89%91%E6%8C%87offer-%E9%93%BE%E8%A1%A8%2F</url>
    <content type="text"><![CDATA[æœ¬ç³»åˆ—ä¸ºå‰‘æŒ‡offeråˆ·é¢˜ç¬”è®°ï¼Œåˆ·é¢˜å¹³å°ä¸ºç‰›å®¢ç½‘ã€‚é¢˜é‡ä¸º66é“ï¼Œæœ¬ç³»åˆ—æ‰€æœ‰é¢˜è§£æ±‡æ€»å¦‚ä¸‹ï¼š å‰‘æŒ‡offeré¢˜è§£ - é“¾è¡¨å‰‘æŒ‡offeré¢˜è§£ - æ ‘å‰‘æŒ‡offeré¢˜è§£ - æ•°ç»„å‰‘æŒ‡offeré¢˜è§£ - å­—ç¬¦ä¸²å‰‘æŒ‡offeré¢˜è§£ - æ ˆå‰‘æŒ‡offeré¢˜è§£ - é€’å½’å‰‘æŒ‡offeré¢˜è§£ - å›žæº¯å‰‘æŒ‡offeré¢˜è§£ - å…¶ä»– æœ¬æ–‡ä¸»è¦æ˜¯é“¾è¡¨ç›¸å…³é¢˜ç›®é¢˜è§£æ€»ç»“ã€‚ [TOC] 3. ä»Žå°¾åˆ°å¤´æ‰“å°é“¾è¡¨é¢˜ç›®æè¿°è¾“å…¥ä¸€ä¸ªé“¾è¡¨ï¼ŒæŒ‰é“¾è¡¨å€¼ä»Žå°¾åˆ°å¤´çš„é¡ºåºè¿”å›žä¸€ä¸ªArrayListã€‚ è§£é¢˜æ€è·¯ä½¿ç”¨Pythonåº“å‡½æ•°ï¼Œæ–°å»ºä¸€ä¸ªåˆ—è¡¨ï¼Œä½¿ç”¨insertæ¯æ¬¡æ’å…¥åˆ°æœ€å‰é¢ï¼Œæˆ–è€…ä½¿ç”¨appendæœ€åŽåœ¨ä½¿ç”¨reverseã€‚123456789101112131415161718192021222324252627282930313233343536# -*- coding:utf-8 -*-class ListNode: def __init__(self, x): self.val = x self.next = None# å•å‘é“¾è¡¨é“¾è¡¨ node1: 1-&gt;2-&gt;3node1 = ListNode(1)node2 = ListNode(2)node3 = ListNode(3)node4 = ListNode(4)node1.next = node2node2.next = node3node3.next = node4class Solution: def printListFromTailToHead(self, listNode): # æ–¹æ³•1ï¼šä½¿ç”¨insertå‡½æ•° # c = [] # while listNode: # c.insert(0,listNode.val) # listNode = listNode.next # return c # æ–¹æ³•2ï¼šä½¿ç”¨appendï¼Œæœ€åŽreverse c = [] while listNode: c.append(listNode.val) listNode = listNode.next c.reverse() return cif __name__ == '__main__': run = Solution() result = run.printListFromTailToHead(node1) print(result) 14.é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªç»“ç‚¹é¢˜ç›®æè¿°è¾“å…¥ä¸€ä¸ªé“¾è¡¨ï¼Œè¾“å‡ºè¯¥é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªç»“ç‚¹ã€‚ è§£é¢˜æ€è·¯ ä¸‰ä¸ªç‰¹ä¾‹ï¼š å¦‚æžœè¾“å…¥çš„é“¾è¡¨ä¸ºç©ºï¼› kå¤§äºŽé“¾è¡¨çš„é•¿åº¦ï¼› kä¸º0çš„æƒ…å†µã€‚ å¯¹äºŽæ­£å¸¸æƒ…å†µï¼Œè®¾ç½®ä¸¤ä¸ªæŒ‡é’ˆåˆ†åˆ«æŒ‡å‘å¤´ç»“ç‚¹ï¼Œç¬¬ä¸€ä¸ªæŒ‡é’ˆå‘å‰èµ°k-1æ­¥ï¼Œèµ°åˆ°æ­£æ•°ç¬¬kä¸ªç»“ç‚¹ï¼ŒåŒæ—¶ä¿æŒç¬¬äºŒä¸ªæŒ‡é’ˆä¸åŠ¨ï¼Œç„¶åŽç¬¬ä¸€ä¸ªæŒ‡é’ˆå’Œç¬¬äºŒä¸ªæŒ‡é’ˆæ¯æ¬¡åŒæ—¶å‰ç§»ä¸€æ­¥ï¼Œè¿™æ ·ç¬¬ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘å°¾ç»“ç‚¹çš„æ—¶å€™ï¼Œç¬¬äºŒä¸ªæŒ‡é’ˆæŒ‡å‘å€’æ•°ç¬¬kä¸ªç»“ç‚¹ã€‚åˆ¤æ–­å°¾ç»“ç‚¹çš„æ¡ä»¶æ˜¯ p.next == Noneã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445# -*- coding:utf-8 -*-class ListNode: def __init__(self, x): self.val = x self.next = None# å•å‘é“¾è¡¨é“¾è¡¨ node1: 1-&gt;2-&gt;3node1 = ListNode(1)node2 = ListNode(2)node3 = ListNode(3)node4 = ListNode(4)node1.next = node2node2.next = node3node3.next = node4class Solution: def FindKthToTail(self, head, k): if not head or k &lt;= 0: # é“¾è¡¨ä¸ºç©ºæˆ–kå°äºŽç­‰äºŽ0 return None p = head q = head for i in range(1,k): if p.next == None: # kå¤§äºŽé“¾è¡¨çš„é•¿åº¦ return None else: p = p.next while p.next: p = p.next q = q.next return qif __name__ == '__main__': originList = node1 print('é“¾è¡¨:',end = ' ') while originList: print(originList.val, end = ' ') originList = originList.next k = 5 result = Solution().FindKthToTail(node1,k) print('\nå€’æ•°ç¬¬&#123;0&#125;ä¸ªç»“ç‚¹:'.format(k),end = ' ') while result: print(result.val,end = ' ') result = result.next æŽ¨å¹¿: å¯»æ‰¾ä¸­é—´èŠ‚ç‚¹, ä¸¤ä¸ªæŒ‡é’ˆä¸€èµ·, ç¬¬ä¸€ä¸ªæŒ‡é’ˆæ¯æ¬¡èµ°ä¸¤æ­¥, ç¬¬äºŒä¸ªæŒ‡é’ˆæ¯æ¬¡èµ°ä¸€æ­¥, å¿«æŒ‡é’ˆæŒ‡åˆ°å°¾éƒ¨, æ…¢æŒ‡é’ˆæ­£å¥½æŒ‡åˆ°ä¸­é—´1234567891011121314151617181920212223 def FindMidNode(self,head): """ æŽ¨å¹¿: å¯»æ‰¾ä¸­é—´èŠ‚ç‚¹, ä¸¤ä¸ªæŒ‡é’ˆä¸€èµ·, ç¬¬ä¸€ä¸ªæŒ‡é’ˆæ¯æ¬¡èµ°ä¸¤æ­¥, ç¬¬äºŒä¸ªæŒ‡é’ˆæ¯æ¬¡èµ°ä¸€æ­¥, å¿«æŒ‡é’ˆæŒ‡åˆ°å°¾éƒ¨, æ…¢æŒ‡é’ˆæ­£å¥½æŒ‡åˆ°ä¸­é—´ """ if not head: return None p = head q = head p = p.next while p: p = p.next if p: p = p.next q = q.next return qmid = Solution().FindMidNode(node1) print('\nä¸­é—´ç»“ç‚¹:',end = ' ') while mid: print(mid.val, end = ' ') mid = mid.next 15.åè½¬é“¾è¡¨é¢˜ç›®æè¿°è¾“å…¥ä¸€ä¸ªé“¾è¡¨ï¼Œåè½¬é“¾è¡¨åŽï¼Œè¾“å‡ºæ–°é“¾è¡¨çš„è¡¨å¤´ã€‚ è§£é¢˜æ€è·¯è¿­ä»£123456789101112131415161718192021222324# -*- coding:utf-8 -*-# class ListNode:# def __init__(self, x):# self.val = x# self.next = Noneclass Solution: # è¿”å›žListNode def ReverseList(self, pHead): # write code here if not pHead or not pHead.next: return pHead dummy = ListNode(0) dummy.next = pHead cur = pHead.next pHead.next = None while cur: temp = cur.next cur.next = dummy.next dummy.next = cur cur = temp return dummy.next é€’å½’12345678910111213141516171819202122# -*- coding:utf-8 -*-# class ListNode:# def __init__(self, x):# self.val = x# self.next = Noneclass Solution: # è¿”å›žListNode def ReverseList(self, pHead): # write code here if not pHead or not pHead.next: return pHead return self.helper(pHead, ListNode(0)) def helper(self, cur, dummy): if not cur: return dummy.next temp = cur.next cur.next = dummy.next dummy.next = cur cur = temp return self.helper(cur, dummy) 16 åˆå¹¶ä¸¤ä¸ªæŽ’åºçš„é“¾è¡¨é¢˜ç›®æè¿°è¾“å…¥ä¸¤ä¸ªå•è°ƒé€’å¢žçš„é“¾è¡¨ï¼Œè¾“å‡ºä¸¤ä¸ªé“¾è¡¨åˆæˆåŽçš„é“¾è¡¨ï¼Œå½“ç„¶æˆ‘ä»¬éœ€è¦åˆæˆåŽçš„é“¾è¡¨æ»¡è¶³å•è°ƒä¸å‡è§„åˆ™ã€‚ è§£é¢˜æ€è·¯æ€è·¯1ï¼šå¾ªçŽ¯ï¼šå¦‚æžœä¸¤ä¸ªé“¾è¡¨ä¸ä¸ºç©ºï¼Œè¿›è¡Œæ¯”è¾ƒï¼Œå°†å°çš„èµ‹ç»™åˆå¹¶çš„æŒ‡é’ˆå¤´ï¼Œå°çš„é“¾è¡¨èµ°ä¸€æ­¥ï¼Œåˆå¹¶é“¾è¡¨èµ°ä¸€æ­¥ï¼Œå¦‚æžœæœ‰ä¸€ä¸ªä¸ºç©ºï¼Œè·³å‡ºå¾ªçŽ¯ï¼Œå¹¶å°†å¦ä¸€ä¸ä¸ºç©ºçš„é“¾è¡¨åŽç»­éƒ¨åˆ†èµ‹ç»™åˆå¹¶é“¾è¡¨ æ€è·¯2ï¼šé€’å½’ï¼šå¦‚æžœç¬¬ä¸€ä¸ªé“¾è¡¨ä¸ºç©ºï¼Œåˆ™è¿”å›žç¬¬äºŒä¸ªé“¾è¡¨ï¼Œå¦‚æžœç¬¬äºŒä¸ªé“¾è¡¨ä¸ºç©ºï¼Œåˆ™è¿”å›žç¬¬ä¸€ä¸ªé“¾è¡¨ï¼Œå¦‚æžœä¸¤ä¸ªé“¾è¡¨éƒ½ä¸ºç©ºï¼Œç»“æžœä¸ºç©ºä¸¤ä¸ªé“¾è¡¨éƒ½æ˜¯æŽ’åºå¥½çš„ï¼Œæˆ‘ä»¬åªéœ€è¦ä»Žå¤´éåŽ†é“¾è¡¨ï¼Œåˆ¤æ–­å½“å‰æŒ‡é’ˆï¼Œå“ªä¸ªé“¾è¡¨çš„å€¼å°ï¼Œå³èµ‹ç»™åˆå¹¶é“¾è¡¨æŒ‡é’ˆã€‚12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455# -*- coding:utf-8 -*-class ListNode: def __init__(self, x): self.val = x self.next = Nonenode1 = ListNode(1)node2 = ListNode(3)node3 = ListNode(5)node1.next = node2node2.next = node3node4 = ListNode(2)node5 = ListNode(4)node6 = ListNode(6)node4.next = node5node5.next = node6class Solution: # è¿”å›žåˆå¹¶åŽåˆ—è¡¨ def Merge(self, pHead1, pHead2): # å¾ªçŽ¯ # newHead = ListNode(-1) # pre = newHead # while pHead1 and pHead2: # if pHead1.val &lt; pHead2.val: # pre.next = pHead1 # pHead1 = pHead1.next # else: # pre.next = pHead2 # pHead2 = pHead2.next # pre = pre.next # pre.next = pHead1 if pHead1 else pHead2 # return newHead.next # é€’å½’ if not pHead1: return pHead2 if not pHead2: return pHead1 newHead = None if pHead1.val &lt; pHead2.val: newHead = pHead1 newHead.next = self.Merge(pHead1.next, pHead2) else: newHead = pHead2 newHead.next = self.Merge(pHead1, pHead2.next) return newHeadif __name__ == '__main__': result = Solution().Merge(node1,node4) print('åˆå¹¶é“¾è¡¨ï¼š',end = ' ') while result: print(result.val,end = ' ') result = result.next 25 å¤æ‚é“¾è¡¨çš„å¤åˆ¶é¢˜ç›®æè¿°è¾“å…¥ä¸€ä¸ªå¤æ‚é“¾è¡¨ï¼ˆæ¯ä¸ªèŠ‚ç‚¹ä¸­æœ‰èŠ‚ç‚¹å€¼ï¼Œä»¥åŠä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¦ä¸€ä¸ªç‰¹æ®ŠæŒ‡é’ˆæŒ‡å‘ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹ï¼‰ï¼Œè¿”å›žç»“æžœä¸ºå¤åˆ¶åŽå¤æ‚é“¾è¡¨çš„headã€‚ï¼ˆæ³¨æ„ï¼Œè¾“å‡ºç»“æžœä¸­è¯·ä¸è¦è¿”å›žå‚æ•°ä¸­çš„èŠ‚ç‚¹å¼•ç”¨ï¼Œå¦åˆ™åˆ¤é¢˜ç¨‹åºä¼šç›´æŽ¥è¿”å›žç©ºï¼‰ è§£é¢˜æ€è·¯æˆ‘ä»¬è¿™é‡Œå°†å¤æ‚é“¾è¡¨çš„å¤åˆ¶è¿‡ç¨‹åˆ†è§£ä¸ºä¸‰ä¸ªæ­¥éª¤ã€‚åœ¨å†™ä»£ç çš„æ—¶å€™æˆ‘ä»¬æ¯ä¸€æ­¥å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œè¿™æ ·æ¯ä¸ªå‡½æ•°å®Œæˆä¸€ä¸ªåŠŸèƒ½ï¼Œæ•´ä¸ªè¿‡ç¨‹çš„é€»è¾‘ä¹Ÿå°±éžå¸¸æ¸…æ™°æ˜Žäº†äº†ã€‚æˆ‘ä»¬è¿™é‡Œé‡‡ç”¨ä¸‰æ­¥ï¼š ç¬¬ä¸€æ­¥ï¼šå¤åˆ¶å¤æ‚æŒ‡é’ˆçš„labelå’Œnextã€‚ä½†æ˜¯è¿™æ¬¡æˆ‘ä»¬æŠŠå¤åˆ¶çš„ç»“ç‚¹è·Ÿåœ¨å…ƒç»“ç‚¹åŽé¢ï¼Œè€Œä¸æ˜¯ç›´æŽ¥åˆ›å»ºæ–°çš„é“¾è¡¨ï¼› ç¬¬äºŒæ­¥ï¼šè®¾ç½®å¤åˆ¶å‡ºæ¥çš„ç»“ç‚¹çš„randomã€‚å› ä¸ºæ–°æ—§ç»“ç‚¹æ˜¯å‰åŽå¯¹åº”å…³ç³»ï¼Œæ‰€ä»¥ä¹Ÿæ˜¯ä¸€æ­¥å°±èƒ½æ‰¾åˆ°randomï¼› ç¬¬ä¸‰æ­¥ï¼šæ‹†åˆ†é“¾è¡¨ã€‚å¥‡æ•°æ˜¯åŽŸé“¾è¡¨ï¼Œå¶æ•°æ˜¯å¤åˆ¶çš„é“¾è¡¨ã€‚æœ‰å›¾æ€è·¯æ›´æ¸…æ™°ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263# -*- coding:utf-8 -*-class RandomListNode: def __init__(self, x): self.label = x self.next = None self.random = None# å¤æ‚é“¾è¡¨node1 = RandomListNode(1)node2 = RandomListNode(2)node3 = RandomListNode(3)node4 = RandomListNode(4)node1.next = node2node2.next = node3node3.next = node4node1.random = node3node2.random = node4node3.random = node2node4.random = node1# -*- coding:utf-8 -*-# class RandomListNode:# def __init__(self, x):# self.label = x# self.next = None# self.random = Noneclass Solution: # è¿”å›ž RandomListNode def Clone(self, pHead): # write code here if not pHead: return pHead # å¤åˆ¶èŠ‚ç‚¹åœ¨æºèŠ‚ç‚¹åŽé¢ cur = pHead while cur: temp = cur.next cur.next = RandomListNode(cur.label) cur.next.next = temp cur = temp #å¤æ‚éšæœºèŠ‚ç‚¹ cur = pHead while cur: if cur.random: cur.next.random = cur.random.next cur = cur.next.next #åˆ†ç¦»æ–°æ—§èŠ‚ç‚¹ res = pHead.next temp = res cur = pHead while cur: cur.next = cur.next.next if temp.next: temp.next = temp.next.next cur = cur.next temp = temp.next return resif __name__ == '__main__': result = Solution().Clone(node1) while result: print(result.label, end = ' ') result = result.next 36 ä¸¤ä¸ªé“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…¬å…±ç»“ç‚¹é¢˜ç›®æè¿°è¾“å…¥ä¸¤ä¸ªé“¾è¡¨ï¼Œæ‰¾å‡ºå®ƒä»¬çš„ç¬¬ä¸€ä¸ªå…¬å…±ç»“ç‚¹ã€‚ è§£é¢˜æ€è·¯æ€è·¯1ï¼šæŠŠä¸¤ä¸ªé“¾è¡¨æ‹¼æŽ¥èµ·æ¥ï¼Œä¸€ä¸ªpHead1åœ¨å‰pHead2åœ¨åŽï¼Œä¸€ä¸ªpHead2åœ¨å‰pHead1åœ¨åŽï¼Œè¿™æ ·ï¼Œç”Ÿæˆäº†ä¸¤ä¸ªç›¸åŒé•¿åº¦çš„é“¾è¡¨ï¼Œæˆ‘ä»¬åªè¦åŒæ—¶éåŽ†è¿™ä¸¤ä¸ªè¡¨ï¼Œå°±ä¸€å®šèƒ½æ‰¾åˆ°å…¬å…±èŠ‚ç‚¹ã€‚æ—¶é—´å¤æ‚åº¦O(m+n)ï¼Œç©ºé—´å¤æ‚åº¦O(m+n). æ€è·¯2ï¼šé¦–å…ˆä¾æ¬¡éåŽ†ä¸¤ä¸ªé“¾è¡¨ï¼Œè®°å½•ä¸¤ä¸ªé“¾è¡¨çš„é•¿åº¦må’Œnï¼Œå¦‚æžœ m &gt; nï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å…ˆè®©é•¿åº¦ä¸ºmçš„é“¾è¡¨èµ°m-nä¸ªç»“ç‚¹ï¼Œç„¶åŽä¸¤ä¸ªé“¾è¡¨åŒæ—¶éåŽ†ï¼Œå½“éåŽ†åˆ°ç›¸åŒçš„ç»“ç‚¹çš„æ—¶å€™åœæ­¢å³å¯ã€‚å¯¹äºŽ m &lt; nï¼ŒåŒç†ã€‚1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859# -*- coding:utf-8 -*-class ListNode: def __init__(self, x): self.val = x self.next = Nonenode1 = ListNode(1)node2 = ListNode(2)node3 = ListNode(3)node4 = ListNode(4)node5 = ListNode(5)node6 = ListNode(6)node1.next = node2node2.next = node5node5.next = node6node3.next = node4node4.next = node5class Solution: def FindFirstCommonNode(self, pHead1, pHead2): # æ–¹æ³•1 # if not pHead1 or not pHead2: # return None # cur1, cur2 = pHead1, pHead2 # while cur1 != cur2: # cur1 = cur1.next if cur1 else pHead2 # cur2 = cur2.next if cur2 else pHead1 # return cur1 # æ–¹æ³•2 if not pHead1 or not pHead2: return None m = n = 0 cur1, cur2 = pHead1, pHead2 while cur1: m += 1 cur1 = cur1.next while cur2: n += 1 cur2 = cur2.next if m &gt; n: for i in range(m-n): pHead1 = pHead1.next while pHead1: if pHead1 == pHead2: return pHead1 pHead1, pHead2 = pHead1.next, pHead2.next else: for i in range(n-m): pHead2 = pHead2.next while pHead1: if pHead1 == pHead2: return pHead1 pHead1, pHead2 = pHead1.next, pHead2.next return Noneif __name__ == '__main__': result = Solution().FindFirstCommonNode(node1, node3) while result: print(result.val, end = ' ') result = result.next 55 é“¾è¡¨ä¸­çŽ¯çš„å…¥å£ç»“ç‚¹é¢˜ç›®æè¿°ç»™ä¸€ä¸ªé“¾è¡¨ï¼Œè‹¥å…¶ä¸­åŒ…å«çŽ¯ï¼Œè¯·æ‰¾å‡ºè¯¥é“¾è¡¨çš„çŽ¯çš„å…¥å£ç»“ç‚¹ï¼Œå¦åˆ™ï¼Œè¾“å‡ºnullã€‚ è§£é¢˜æ€è·¯ç¬¬ä¸€æ­¥ï¼šåˆ¤æ–­æ˜¯å¦å­˜åœ¨çŽ¯ï¼Œç”¨å¿«æ…¢æŒ‡é’ˆï¼Œä¸€ä¸ªèµ°ä¸€æ­¥ï¼Œä¸€ä¸ªèµ°ä¸¤æ­¥ï¼Œå¦‚æžœæœ€ç»ˆè¾¾åˆ°åŒä¸€èŠ‚ç‚¹ï¼Œåˆ™è¯´æ˜Žæœ‰çŽ¯ ç¬¬äºŒæ­¥ï¼šå¯»æ‰¾çŽ¯çš„å…¥å£ï¼Œå‡è®¾å…¥å£ç»“ç‚¹è·ç¦»å¤´ç»“ç‚¹aä¸ªå•ä½ï¼Œfastå’Œslowç›¸é‡åœ¨è·ç¦»å…¥å£ç»“ç‚¹bä¸ªå•ä½çš„ä½ç½®ï¼ŒçŽ¯å‰©ä¸‹çš„é•¿åº¦ä¸ºcï¼Œåˆ™æœ‰a+b+c+b = 2*(a+b) â€”&gt; a = c ã€‚å› æ­¤ï¼Œåœ¨é‡åˆæ—¶å€™ï¼Œå°†fastç½®ä¸ºheadï¼Œå†ä¸€æ­¥ä¸€æ­¥åœ°èµ°ï¼Œå½“ä¸Žslowé‡åˆæ—¶çš„ç»“ç‚¹å³ä¸ºå…¥å£ç»“ç‚¹ã€‚ 1234567891011121314151617181920212223242526272829303132333435# -*- coding:utf-8 -*-class ListNode: def __init__(self,x): self.val = x self.next = Nonenode1 = ListNode(1)node2 = ListNode(2)node3 = ListNode(3)node4 = ListNode(4)node1.next = node2node2.next = node3node3.next = node4node4.next = node2class Solution: def EntryNodeOfLoop(self, pHead): # write code here if not pHead or not pHead.next: return None fast = slow = pHead while fast and fast.next: fast = fast.next.next slow = slow.next if slow == fast: # æœ‰çŽ¯ fast = pHead while fast != slow: fast = fast.next slow = slow.next return fast return Noneif __name__ == '__main__': result = Solution().EntryNodeOfLoop(node1) 56 åˆ é™¤é“¾è¡¨ä¸­é‡å¤çš„ç»“ç‚¹é¢˜ç›®æè¿°åœ¨ä¸€ä¸ªæŽ’åºçš„é“¾è¡¨ä¸­ï¼Œå­˜åœ¨é‡å¤çš„ç»“ç‚¹ï¼Œè¯·åˆ é™¤è¯¥é“¾è¡¨ä¸­é‡å¤çš„ç»“ç‚¹ï¼Œé‡å¤çš„ç»“ç‚¹ä¸ä¿ç•™ï¼Œè¿”å›žé“¾è¡¨å¤´æŒ‡é’ˆã€‚ ä¾‹å¦‚ï¼Œé“¾è¡¨1-&gt;2-&gt;3-&gt;3-&gt;4-&gt;4-&gt;5 å¤„ç†åŽä¸º 1-&gt;2-&gt;5ã€‚ è§£é¢˜æ€è·¯è¦åˆ é™¤æœ‰åºé“¾è¡¨ä¸­æ‰€æœ‰çš„é‡å¤èŠ‚ç‚¹ï¼Œè€Œå¤´ç»“ç‚¹æœ‰å¯èƒ½å°±æ˜¯é‡å¤èŠ‚ç‚¹ã€‚è¿™æ ·çš„æ¯”è¾ƒå¥½çš„è§£å†³æ–¹å¼å°±æ˜¯æ–°å»ºå¤´ç»“ç‚¹ï¼Œç„¶åŽå¾€åŽéåŽ†ï¼ŒåŒæ ·çš„å€¼å°±å…¨éƒ¨ç•¥è¿‡ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445# -*- coding:utf-8 -*-class ListNode: def __init__(self, x): self.val = x self.next = Nonenode1 = ListNode(1)node2 = ListNode(2)node3 = ListNode(3)node4 = ListNode(3)node5 = ListNode(4)node6 = ListNode(4)node7 = ListNode(5)node1.next = node2node2.next = node3node3.next = node4node4.next = node5node5.next = node6node6.next = node7class Solution: def deleteDuplication(self, pHead): # write code here if not pHead or not pHead.next: return pHead first = ListNode(-1) first.next = pHead last = first cur = pHead while cur and cur.next: if cur.val != cur.next.val: cur = cur.next last = last.next else: val = cur.val while cur and cur.val == val: cur = cur.next last.next = cur return first.nextif __name__ == '__main__': result = Solution().deleteDuplication(node1) while result: print(result.val, end = ' ') result = result.next]]></content>
      <categories>
        <category>å‰‘æŒ‡offer</category>
      </categories>
      <tags>
        <tag>å‰‘æŒ‡offer</tag>
        <tag>ç®—æ³•é¢˜è§£</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello World]]></title>
    <url>%2F2019%2F01%2F12%2Fhello-world%2F</url>
    <content type="text"><![CDATA[Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new "My New Post" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment]]></content>
  </entry>
</search>
